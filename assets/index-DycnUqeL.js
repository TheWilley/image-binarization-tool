var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esmMin=(fn,res)=>()=>(fn&&(res=fn(fn=0)),res),__commonJSMin=(cb,mod)=>()=>(mod||cb((mod={exports:{}}).exports,mod),mod.exports),__export=all=>{let target={};for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0});return target},__copyProps=(to,from,except,desc)=>{if(from&&typeof from==`object`||typeof from==`function`)for(var keys=__getOwnPropNames(from),i$3=0,n$3=keys.length,key;i$3<n$3;i$3++)key=keys[i$3],!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:(k$2=>from[k$2]).bind(null,key),enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},__toESM=(mod,isNodeMode,target)=>(target=mod==null?{}:__create(__getProtoOf(mod)),__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,`default`,{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},`__esModule`,{value:!0}),mod),__require=(x$2=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(x$2,{get:(a$3,b$3)=>(typeof require<`u`?require:a$3)[b$3]}):x$2)(function(x$2){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+x$2+"\" in an environment that doesn't expose the `require` function.")});(function(){let relList=document.createElement(`link`).relList;if(relList&&relList.supports&&relList.supports(`modulepreload`))return;for(let link of document.querySelectorAll(`link[rel="modulepreload"]`))processPreload(link);new MutationObserver(mutations=>{for(let mutation of mutations)if(mutation.type===`childList`)for(let node of mutation.addedNodes)node.tagName===`LINK`&&node.rel===`modulepreload`&&processPreload(node)}).observe(document,{childList:!0,subtree:!0});function getFetchOpts(link){let fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),link.crossOrigin===`use-credentials`?fetchOpts.credentials=`include`:link.crossOrigin===`anonymous`?fetchOpts.credentials=`omit`:fetchOpts.credentials=`same-origin`,fetchOpts}function processPreload(link){if(link.ep)return;link.ep=!0;let fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts)}})();var require_react_production=__commonJSMin((exports=>{var REACT_ELEMENT_TYPE$2=Symbol.for(`react.transitional.element`),REACT_PORTAL_TYPE$2=Symbol.for(`react.portal`),REACT_FRAGMENT_TYPE$2=Symbol.for(`react.fragment`),REACT_STRICT_MODE_TYPE$1=Symbol.for(`react.strict_mode`),REACT_PROFILER_TYPE$1=Symbol.for(`react.profiler`),REACT_CONSUMER_TYPE$1=Symbol.for(`react.consumer`),REACT_CONTEXT_TYPE$1=Symbol.for(`react.context`),REACT_FORWARD_REF_TYPE$1=Symbol.for(`react.forward_ref`),REACT_SUSPENSE_TYPE$1=Symbol.for(`react.suspense`),REACT_MEMO_TYPE$1=Symbol.for(`react.memo`),REACT_LAZY_TYPE$1=Symbol.for(`react.lazy`),REACT_ACTIVITY_TYPE$1=Symbol.for(`react.activity`),MAYBE_ITERATOR_SYMBOL$1=Symbol.iterator;function getIteratorFn$1(maybeIterable){return typeof maybeIterable!=`object`||!maybeIterable?null:(maybeIterable=MAYBE_ITERATOR_SYMBOL$1&&maybeIterable[MAYBE_ITERATOR_SYMBOL$1]||maybeIterable[`@@iterator`],typeof maybeIterable==`function`?maybeIterable:null)}var ReactNoopUpdateQueue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},assign$2=Object.assign,emptyObject={};function Component(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}Component.prototype.isReactComponent={},Component.prototype.setState=function(partialState,callback){if(typeof partialState!=`object`&&typeof partialState!=`function`&&partialState!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,partialState,callback,`setState`)},Component.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this,callback,`forceUpdate`)};function ComponentDummy(){}ComponentDummy.prototype=Component.prototype;function PureComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}var pureComponentPrototype=PureComponent.prototype=new ComponentDummy;pureComponentPrototype.constructor=PureComponent,assign$2(pureComponentPrototype,Component.prototype),pureComponentPrototype.isPureReactComponent=!0;var isArrayImpl$1=Array.isArray;function noop$3(){}var ReactSharedInternals$2={H:null,A:null,T:null,S:null},hasOwnProperty$1=Object.prototype.hasOwnProperty;function ReactElement(type,key,props){var refProp=props.ref;return{$$typeof:REACT_ELEMENT_TYPE$2,type,key,ref:refProp===void 0?null:refProp,props}}function cloneAndReplaceKey(oldElement,newKey){return ReactElement(oldElement.type,newKey,oldElement.props)}function isValidElement(object){return typeof object==`object`&&!!object&&object.$$typeof===REACT_ELEMENT_TYPE$2}function escape(key){var escaperLookup={"=":`=0`,":":`=2`};return`$`+key.replace(/[=:]/g,function(match){return escaperLookup[match]})}var userProvidedKeyEscapeRegex=/\/+/g;function getElementKey(element,index$1){return typeof element==`object`&&element&&element.key!=null?escape(``+element.key):index$1.toString(36)}function resolveThenable(thenable){switch(thenable.status){case`fulfilled`:return thenable.value;case`rejected`:throw thenable.reason;default:switch(typeof thenable.status==`string`?thenable.then(noop$3,noop$3):(thenable.status=`pending`,thenable.then(function(fulfilledValue){thenable.status===`pending`&&(thenable.status=`fulfilled`,thenable.value=fulfilledValue)},function(error){thenable.status===`pending`&&(thenable.status=`rejected`,thenable.reason=error)})),thenable.status){case`fulfilled`:return thenable.value;case`rejected`:throw thenable.reason}}throw thenable}function mapIntoArray(children,array,escapedPrefix,nameSoFar,callback){var type=typeof children;(type===`undefined`||type===`boolean`)&&(children=null);var invokeCallback=!1;if(children===null)invokeCallback=!0;else switch(type){case`bigint`:case`string`:case`number`:invokeCallback=!0;break;case`object`:switch(children.$$typeof){case REACT_ELEMENT_TYPE$2:case REACT_PORTAL_TYPE$2:invokeCallback=!0;break;case REACT_LAZY_TYPE$1:return invokeCallback=children._init,mapIntoArray(invokeCallback(children._payload),array,escapedPrefix,nameSoFar,callback)}}if(invokeCallback)return callback=callback(children),invokeCallback=nameSoFar===``?`.`+getElementKey(children,0):nameSoFar,isArrayImpl$1(callback)?(escapedPrefix=``,invokeCallback!=null&&(escapedPrefix=invokeCallback.replace(userProvidedKeyEscapeRegex,`$&/`)+`/`),mapIntoArray(callback,array,escapedPrefix,``,function(c$2){return c$2})):callback!=null&&(isValidElement(callback)&&(callback=cloneAndReplaceKey(callback,escapedPrefix+(callback.key==null||children&&children.key===callback.key?``:(``+callback.key).replace(userProvidedKeyEscapeRegex,`$&/`)+`/`)+invokeCallback)),array.push(callback)),1;invokeCallback=0;var nextNamePrefix=nameSoFar===``?`.`:nameSoFar+`:`;if(isArrayImpl$1(children))for(var i$3=0;i$3<children.length;i$3++)nameSoFar=children[i$3],type=nextNamePrefix+getElementKey(nameSoFar,i$3),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if(i$3=getIteratorFn$1(children),typeof i$3==`function`)for(children=i$3.call(children),i$3=0;!(nameSoFar=children.next()).done;)nameSoFar=nameSoFar.value,type=nextNamePrefix+getElementKey(nameSoFar,i$3++),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if(type===`object`){if(typeof children.then==`function`)return mapIntoArray(resolveThenable(children),array,escapedPrefix,nameSoFar,callback);throw array=String(children),Error(`Objects are not valid as a React child (found: `+(array===`[object Object]`?`object with keys {`+Object.keys(children).join(`, `)+`}`:array)+`). If you meant to render a collection of children, use an array instead.`)}return invokeCallback}function mapChildren(children,func,context){if(children==null)return children;var result=[],count=0;return mapIntoArray(children,result,``,``,function(child){return func.call(context,child,count++)}),result}function lazyInitializer(payload){if(payload._status===-1){var ctor=payload._result;ctor=ctor(),ctor.then(function(moduleObject){(payload._status===0||payload._status===-1)&&(payload._status=1,payload._result=moduleObject)},function(error){(payload._status===0||payload._status===-1)&&(payload._status=2,payload._result=error)}),payload._status===-1&&(payload._status=0,payload._result=ctor)}if(payload._status===1)return payload._result.default;throw payload._result}var reportGlobalError$1=typeof reportError==`function`?reportError:function(error){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var event=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof error==`object`&&error&&typeof error.message==`string`?String(error.message):String(error),error});if(!window.dispatchEvent(event))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,error);return}console.error(error)},Children={map:mapChildren,forEach:function(children,forEachFunc,forEachContext){mapChildren(children,function(){forEachFunc.apply(this,arguments)},forEachContext)},count:function(children){var n$3=0;return mapChildren(children,function(){n$3++}),n$3},toArray:function(children){return mapChildren(children,function(child){return child})||[]},only:function(children){if(!isValidElement(children))throw Error(`React.Children.only expected to receive a single React element child.`);return children}};exports.Activity=REACT_ACTIVITY_TYPE$1,exports.Children=Children,exports.Component=Component,exports.Fragment=REACT_FRAGMENT_TYPE$2,exports.Profiler=REACT_PROFILER_TYPE$1,exports.PureComponent=PureComponent,exports.StrictMode=REACT_STRICT_MODE_TYPE$1,exports.Suspense=REACT_SUSPENSE_TYPE$1,exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ReactSharedInternals$2,exports.__COMPILER_RUNTIME={__proto__:null,c:function(size){return ReactSharedInternals$2.H.useMemoCache(size)}},exports.cache=function(fn){return function(){return fn.apply(null,arguments)}},exports.cacheSignal=function(){return null},exports.cloneElement=function(element,config,children){if(element==null)throw Error(`The argument must be a React element, but you passed `+element+`.`);var props=assign$2({},element.props),key=element.key;if(config!=null)for(propName in config.key!==void 0&&(key=``+config.key),config)!hasOwnProperty$1.call(config,propName)||propName===`key`||propName===`__self`||propName===`__source`||propName===`ref`&&config.ref===void 0||(props[propName]=config[propName]);var propName=arguments.length-2;if(propName===1)props.children=children;else if(1<propName){for(var childArray=Array(propName),i$3=0;i$3<propName;i$3++)childArray[i$3]=arguments[i$3+2];props.children=childArray}return ReactElement(element.type,key,props)},exports.createContext=function(defaultValue){return defaultValue={$$typeof:REACT_CONTEXT_TYPE$1,_currentValue:defaultValue,_currentValue2:defaultValue,_threadCount:0,Provider:null,Consumer:null},defaultValue.Provider=defaultValue,defaultValue.Consumer={$$typeof:REACT_CONSUMER_TYPE$1,_context:defaultValue},defaultValue},exports.createElement=function(type,config,children){var propName,props={},key=null;if(config!=null)for(propName in config.key!==void 0&&(key=``+config.key),config)hasOwnProperty$1.call(config,propName)&&propName!==`key`&&propName!==`__self`&&propName!==`__source`&&(props[propName]=config[propName]);var childrenLength=arguments.length-2;if(childrenLength===1)props.children=children;else if(1<childrenLength){for(var childArray=Array(childrenLength),i$3=0;i$3<childrenLength;i$3++)childArray[i$3]=arguments[i$3+2];props.children=childArray}if(type&&type.defaultProps)for(propName in childrenLength=type.defaultProps,childrenLength)props[propName]===void 0&&(props[propName]=childrenLength[propName]);return ReactElement(type,key,props)},exports.createRef=function(){return{current:null}},exports.forwardRef=function(render){return{$$typeof:REACT_FORWARD_REF_TYPE$1,render}},exports.isValidElement=isValidElement,exports.lazy=function(ctor){return{$$typeof:REACT_LAZY_TYPE$1,_payload:{_status:-1,_result:ctor},_init:lazyInitializer}},exports.memo=function(type,compare$1){return{$$typeof:REACT_MEMO_TYPE$1,type,compare:compare$1===void 0?null:compare$1}},exports.startTransition=function(scope){var prevTransition=ReactSharedInternals$2.T,currentTransition={};ReactSharedInternals$2.T=currentTransition;try{var returnValue=scope(),onStartTransitionFinish=ReactSharedInternals$2.S;onStartTransitionFinish!==null&&onStartTransitionFinish(currentTransition,returnValue),typeof returnValue==`object`&&returnValue&&typeof returnValue.then==`function`&&returnValue.then(noop$3,reportGlobalError$1)}catch(error){reportGlobalError$1(error)}finally{prevTransition!==null&&currentTransition.types!==null&&(prevTransition.types=currentTransition.types),ReactSharedInternals$2.T=prevTransition}},exports.unstable_useCacheRefresh=function(){return ReactSharedInternals$2.H.useCacheRefresh()},exports.use=function(usable){return ReactSharedInternals$2.H.use(usable)},exports.useActionState=function(action,initialState,permalink){return ReactSharedInternals$2.H.useActionState(action,initialState,permalink)},exports.useCallback=function(callback,deps){return ReactSharedInternals$2.H.useCallback(callback,deps)},exports.useContext=function(Context){return ReactSharedInternals$2.H.useContext(Context)},exports.useDebugValue=function(){},exports.useDeferredValue=function(value,initialValue){return ReactSharedInternals$2.H.useDeferredValue(value,initialValue)},exports.useEffect=function(create,deps){return ReactSharedInternals$2.H.useEffect(create,deps)},exports.useEffectEvent=function(callback){return ReactSharedInternals$2.H.useEffectEvent(callback)},exports.useId=function(){return ReactSharedInternals$2.H.useId()},exports.useImperativeHandle=function(ref,create,deps){return ReactSharedInternals$2.H.useImperativeHandle(ref,create,deps)},exports.useInsertionEffect=function(create,deps){return ReactSharedInternals$2.H.useInsertionEffect(create,deps)},exports.useLayoutEffect=function(create,deps){return ReactSharedInternals$2.H.useLayoutEffect(create,deps)},exports.useMemo=function(create,deps){return ReactSharedInternals$2.H.useMemo(create,deps)},exports.useOptimistic=function(passthrough,reducer){return ReactSharedInternals$2.H.useOptimistic(passthrough,reducer)},exports.useReducer=function(reducer,initialArg,init){return ReactSharedInternals$2.H.useReducer(reducer,initialArg,init)},exports.useRef=function(initialValue){return ReactSharedInternals$2.H.useRef(initialValue)},exports.useState=function(initialState){return ReactSharedInternals$2.H.useState(initialState)},exports.useSyncExternalStore=function(subscribe,getSnapshot,getServerSnapshot){return ReactSharedInternals$2.H.useSyncExternalStore(subscribe,getSnapshot,getServerSnapshot)},exports.useTransition=function(){return ReactSharedInternals$2.H.useTransition()},exports.version=`19.2.0`})),require_react=__commonJSMin(((exports,module)=>{module.exports=require_react_production()})),require_scheduler_production=__commonJSMin((exports=>{function push$1(heap,node){var index$1=heap.length;heap.push(node);a:for(;0<index$1;){var parentIndex=index$1-1>>>1,parent=heap[parentIndex];if(0<compare(parent,node))heap[parentIndex]=node,heap[index$1]=parent,index$1=parentIndex;else break a}}function peek(heap){return heap.length===0?null:heap[0]}function pop$1(heap){if(heap.length===0)return null;var first=heap[0],last=heap.pop();if(last!==first){heap[0]=last;a:for(var index$1=0,length=heap.length,halfLength=length>>>1;index$1<halfLength;){var leftIndex=2*(index$1+1)-1,left=heap[leftIndex],rightIndex=leftIndex+1,right=heap[rightIndex];if(0>compare(left,last))rightIndex<length&&0>compare(right,left)?(heap[index$1]=right,heap[rightIndex]=last,index$1=rightIndex):(heap[index$1]=left,heap[leftIndex]=last,index$1=leftIndex);else if(rightIndex<length&&0>compare(right,last))heap[index$1]=right,heap[rightIndex]=last,index$1=rightIndex;else break a}}return first}function compare(a$3,b$3){var diff=a$3.sortIndex-b$3.sortIndex;return diff===0?a$3.id-b$3.id:diff}if(exports.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var localPerformance=performance;exports.unstable_now=function(){return localPerformance.now()}}else{var localDate=Date,initialTime=localDate.now();exports.unstable_now=function(){return localDate.now()-initialTime}}var taskQueue=[],timerQueue=[],taskIdCounter=1,currentTask=null,currentPriorityLevel=3,isPerformingWork=!1,isHostCallbackScheduled=!1,isHostTimeoutScheduled=!1,needsPaint=!1,localSetTimeout=typeof setTimeout==`function`?setTimeout:null,localClearTimeout=typeof clearTimeout==`function`?clearTimeout:null,localSetImmediate=typeof setImmediate<`u`?setImmediate:null;function advanceTimers(currentTime){for(var timer=peek(timerQueue);timer!==null;){if(timer.callback===null)pop$1(timerQueue);else if(timer.startTime<=currentTime)pop$1(timerQueue),timer.sortIndex=timer.expirationTime,push$1(taskQueue,timer);else break;timer=peek(timerQueue)}}function handleTimeout(currentTime){if(isHostTimeoutScheduled=!1,advanceTimers(currentTime),!isHostCallbackScheduled)if(peek(taskQueue)!==null)isHostCallbackScheduled=!0,isMessageLoopRunning||(isMessageLoopRunning=!0,schedulePerformWorkUntilDeadline());else{var firstTimer=peek(timerQueue);firstTimer!==null&&requestHostTimeout(handleTimeout,firstTimer.startTime-currentTime)}}var isMessageLoopRunning=!1,taskTimeoutID=-1,frameInterval=5,startTime=-1;function shouldYieldToHost(){return needsPaint?!0:!(exports.unstable_now()-startTime<frameInterval)}function performWorkUntilDeadline(){if(needsPaint=!1,isMessageLoopRunning){var currentTime=exports.unstable_now();startTime=currentTime;var hasMoreWork=!0;try{a:{isHostCallbackScheduled=!1,isHostTimeoutScheduled&&(isHostTimeoutScheduled=!1,localClearTimeout(taskTimeoutID),taskTimeoutID=-1),isPerformingWork=!0;var previousPriorityLevel=currentPriorityLevel;try{b:{for(advanceTimers(currentTime),currentTask=peek(taskQueue);currentTask!==null&&!(currentTask.expirationTime>currentTime&&shouldYieldToHost());){var callback=currentTask.callback;if(typeof callback==`function`){currentTask.callback=null,currentPriorityLevel=currentTask.priorityLevel;var continuationCallback=callback(currentTask.expirationTime<=currentTime);if(currentTime=exports.unstable_now(),typeof continuationCallback==`function`){currentTask.callback=continuationCallback,advanceTimers(currentTime),hasMoreWork=!0;break b}currentTask===peek(taskQueue)&&pop$1(taskQueue),advanceTimers(currentTime)}else pop$1(taskQueue);currentTask=peek(taskQueue)}if(currentTask!==null)hasMoreWork=!0;else{var firstTimer=peek(timerQueue);firstTimer!==null&&requestHostTimeout(handleTimeout,firstTimer.startTime-currentTime),hasMoreWork=!1}}break a}finally{currentTask=null,currentPriorityLevel=previousPriorityLevel,isPerformingWork=!1}hasMoreWork=void 0}}finally{hasMoreWork?schedulePerformWorkUntilDeadline():isMessageLoopRunning=!1}}}var schedulePerformWorkUntilDeadline;if(typeof localSetImmediate==`function`)schedulePerformWorkUntilDeadline=function(){localSetImmediate(performWorkUntilDeadline)};else if(typeof MessageChannel<`u`){var channel=new MessageChannel,port=channel.port2;channel.port1.onmessage=performWorkUntilDeadline,schedulePerformWorkUntilDeadline=function(){port.postMessage(null)}}else schedulePerformWorkUntilDeadline=function(){localSetTimeout(performWorkUntilDeadline,0)};function requestHostTimeout(callback,ms){taskTimeoutID=localSetTimeout(function(){callback(exports.unstable_now())},ms)}exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(task){task.callback=null},exports.unstable_forceFrameRate=function(fps){0>fps||125<fps?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):frameInterval=0<fps?Math.floor(1e3/fps):5},exports.unstable_getCurrentPriorityLevel=function(){return currentPriorityLevel},exports.unstable_next=function(eventHandler){switch(currentPriorityLevel){case 1:case 2:case 3:var priorityLevel=3;break;default:priorityLevel=currentPriorityLevel}var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=priorityLevel;try{return eventHandler()}finally{currentPriorityLevel=previousPriorityLevel}},exports.unstable_requestPaint=function(){needsPaint=!0},exports.unstable_runWithPriority=function(priorityLevel,eventHandler){switch(priorityLevel){case 1:case 2:case 3:case 4:case 5:break;default:priorityLevel=3}var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=priorityLevel;try{return eventHandler()}finally{currentPriorityLevel=previousPriorityLevel}},exports.unstable_scheduleCallback=function(priorityLevel,callback,options$1){var currentTime=exports.unstable_now();switch(typeof options$1==`object`&&options$1?(options$1=options$1.delay,options$1=typeof options$1==`number`&&0<options$1?currentTime+options$1:currentTime):options$1=currentTime,priorityLevel){case 1:var timeout=-1;break;case 2:timeout=250;break;case 5:timeout=1073741823;break;case 4:timeout=1e4;break;default:timeout=5e3}return timeout=options$1+timeout,priorityLevel={id:taskIdCounter++,callback,priorityLevel,startTime:options$1,expirationTime:timeout,sortIndex:-1},options$1>currentTime?(priorityLevel.sortIndex=options$1,push$1(timerQueue,priorityLevel),peek(taskQueue)===null&&priorityLevel===peek(timerQueue)&&(isHostTimeoutScheduled?(localClearTimeout(taskTimeoutID),taskTimeoutID=-1):isHostTimeoutScheduled=!0,requestHostTimeout(handleTimeout,options$1-currentTime))):(priorityLevel.sortIndex=timeout,push$1(taskQueue,priorityLevel),isHostCallbackScheduled||isPerformingWork||(isHostCallbackScheduled=!0,isMessageLoopRunning||(isMessageLoopRunning=!0,schedulePerformWorkUntilDeadline()))),priorityLevel},exports.unstable_shouldYield=shouldYieldToHost,exports.unstable_wrapCallback=function(callback){var parentPriorityLevel=currentPriorityLevel;return function(){var previousPriorityLevel=currentPriorityLevel;currentPriorityLevel=parentPriorityLevel;try{return callback.apply(this,arguments)}finally{currentPriorityLevel=previousPriorityLevel}}}})),require_scheduler=__commonJSMin(((exports,module)=>{module.exports=require_scheduler_production()})),require_react_dom_production=__commonJSMin((exports=>{var React$1=require_react();function formatProdErrorMessage$1(code){var url=`https://react.dev/errors/`+code;if(1<arguments.length){url+=`?args[]=`+encodeURIComponent(arguments[1]);for(var i$3=2;i$3<arguments.length;i$3++)url+=`&args[]=`+encodeURIComponent(arguments[i$3])}return`Minified React error #`+code+`; visit `+url+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function noop$2(){}var Internals={d:{f:noop$2,r:function(){throw Error(formatProdErrorMessage$1(522))},D:noop$2,C:noop$2,L:noop$2,m:noop$2,X:noop$2,S:noop$2,M:noop$2},p:0,findDOMNode:null},REACT_PORTAL_TYPE$1=Symbol.for(`react.portal`);function createPortal$1(children,containerInfo,implementation){var key=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE$1,key:key==null?null:``+key,children,containerInfo,implementation}}var ReactSharedInternals$1=React$1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(as,input){if(as===`font`)return``;if(typeof input==`string`)return input===`use-credentials`?input:``}exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Internals,exports.createPortal=function(children,container){var key=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!container||container.nodeType!==1&&container.nodeType!==9&&container.nodeType!==11)throw Error(formatProdErrorMessage$1(299));return createPortal$1(children,container,null,key)},exports.flushSync=function(fn){var previousTransition=ReactSharedInternals$1.T,previousUpdatePriority=Internals.p;try{if(ReactSharedInternals$1.T=null,Internals.p=2,fn)return fn()}finally{ReactSharedInternals$1.T=previousTransition,Internals.p=previousUpdatePriority,Internals.d.f()}},exports.preconnect=function(href,options$1){typeof href==`string`&&(options$1?(options$1=options$1.crossOrigin,options$1=typeof options$1==`string`?options$1===`use-credentials`?options$1:``:void 0):options$1=null,Internals.d.C(href,options$1))},exports.prefetchDNS=function(href){typeof href==`string`&&Internals.d.D(href)},exports.preinit=function(href,options$1){if(typeof href==`string`&&options$1&&typeof options$1.as==`string`){var as=options$1.as,crossOrigin=getCrossOriginStringAs(as,options$1.crossOrigin),integrity=typeof options$1.integrity==`string`?options$1.integrity:void 0,fetchPriority=typeof options$1.fetchPriority==`string`?options$1.fetchPriority:void 0;as===`style`?Internals.d.S(href,typeof options$1.precedence==`string`?options$1.precedence:void 0,{crossOrigin,integrity,fetchPriority}):as===`script`&&Internals.d.X(href,{crossOrigin,integrity,fetchPriority,nonce:typeof options$1.nonce==`string`?options$1.nonce:void 0})}},exports.preinitModule=function(href,options$1){if(typeof href==`string`)if(typeof options$1==`object`&&options$1){if(options$1.as==null||options$1.as===`script`){var crossOrigin=getCrossOriginStringAs(options$1.as,options$1.crossOrigin);Internals.d.M(href,{crossOrigin,integrity:typeof options$1.integrity==`string`?options$1.integrity:void 0,nonce:typeof options$1.nonce==`string`?options$1.nonce:void 0})}}else options$1??Internals.d.M(href)},exports.preload=function(href,options$1){if(typeof href==`string`&&typeof options$1==`object`&&options$1&&typeof options$1.as==`string`){var as=options$1.as,crossOrigin=getCrossOriginStringAs(as,options$1.crossOrigin);Internals.d.L(href,as,{crossOrigin,integrity:typeof options$1.integrity==`string`?options$1.integrity:void 0,nonce:typeof options$1.nonce==`string`?options$1.nonce:void 0,type:typeof options$1.type==`string`?options$1.type:void 0,fetchPriority:typeof options$1.fetchPriority==`string`?options$1.fetchPriority:void 0,referrerPolicy:typeof options$1.referrerPolicy==`string`?options$1.referrerPolicy:void 0,imageSrcSet:typeof options$1.imageSrcSet==`string`?options$1.imageSrcSet:void 0,imageSizes:typeof options$1.imageSizes==`string`?options$1.imageSizes:void 0,media:typeof options$1.media==`string`?options$1.media:void 0})}},exports.preloadModule=function(href,options$1){if(typeof href==`string`)if(options$1){var crossOrigin=getCrossOriginStringAs(options$1.as,options$1.crossOrigin);Internals.d.m(href,{as:typeof options$1.as==`string`&&options$1.as!==`script`?options$1.as:void 0,crossOrigin,integrity:typeof options$1.integrity==`string`?options$1.integrity:void 0})}else Internals.d.m(href)},exports.requestFormReset=function(form){Internals.d.r(form)},exports.unstable_batchedUpdates=function(fn,a$3){return fn(a$3)},exports.useFormState=function(action,initialState,permalink){return ReactSharedInternals$1.H.useFormState(action,initialState,permalink)},exports.useFormStatus=function(){return ReactSharedInternals$1.H.useHostTransitionStatus()},exports.version=`19.2.0`})),require_react_dom=__commonJSMin(((exports,module)=>{function checkDCE$1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE$1)}catch(err$1){console.error(err$1)}}checkDCE$1(),module.exports=require_react_dom_production()})),require_react_dom_client_production=__commonJSMin((exports=>{var Scheduler=require_scheduler(),React=require_react(),ReactDOM=require_react_dom();function formatProdErrorMessage(code){var url=`https://react.dev/errors/`+code;if(1<arguments.length){url+=`?args[]=`+encodeURIComponent(arguments[1]);for(var i$3=2;i$3<arguments.length;i$3++)url+=`&args[]=`+encodeURIComponent(arguments[i$3])}return`Minified React error #`+code+`; visit `+url+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function isValidContainer(node){return!(!node||node.nodeType!==1&&node.nodeType!==9&&node.nodeType!==11)}function getNearestMountedFiber(fiber){var node=fiber,nearestMounted=fiber;if(fiber.alternate)for(;node.return;)node=node.return;else{fiber=node;do node=fiber,node.flags&4098&&(nearestMounted=node.return),fiber=node.return;while(fiber)}return node.tag===3?nearestMounted:null}function getSuspenseInstanceFromFiber(fiber){if(fiber.tag===13){var suspenseState=fiber.memoizedState;if(suspenseState===null&&(fiber=fiber.alternate,fiber!==null&&(suspenseState=fiber.memoizedState)),suspenseState!==null)return suspenseState.dehydrated}return null}function getActivityInstanceFromFiber(fiber){if(fiber.tag===31){var activityState=fiber.memoizedState;if(activityState===null&&(fiber=fiber.alternate,fiber!==null&&(activityState=fiber.memoizedState)),activityState!==null)return activityState.dehydrated}return null}function assertIsMounted(fiber){if(getNearestMountedFiber(fiber)!==fiber)throw Error(formatProdErrorMessage(188))}function findCurrentFiberUsingSlowPath(fiber){var alternate=fiber.alternate;if(!alternate){if(alternate=getNearestMountedFiber(fiber),alternate===null)throw Error(formatProdErrorMessage(188));return alternate===fiber?fiber:null}for(var a$3=fiber,b$3=alternate;;){var parentA=a$3.return;if(parentA===null)break;var parentB=parentA.alternate;if(parentB===null){if(b$3=parentA.return,b$3!==null){a$3=b$3;continue}break}if(parentA.child===parentB.child){for(parentB=parentA.child;parentB;){if(parentB===a$3)return assertIsMounted(parentA),fiber;if(parentB===b$3)return assertIsMounted(parentA),alternate;parentB=parentB.sibling}throw Error(formatProdErrorMessage(188))}if(a$3.return!==b$3.return)a$3=parentA,b$3=parentB;else{for(var didFindChild=!1,child$0=parentA.child;child$0;){if(child$0===a$3){didFindChild=!0,a$3=parentA,b$3=parentB;break}if(child$0===b$3){didFindChild=!0,b$3=parentA,a$3=parentB;break}child$0=child$0.sibling}if(!didFindChild){for(child$0=parentB.child;child$0;){if(child$0===a$3){didFindChild=!0,a$3=parentB,b$3=parentA;break}if(child$0===b$3){didFindChild=!0,b$3=parentB,a$3=parentA;break}child$0=child$0.sibling}if(!didFindChild)throw Error(formatProdErrorMessage(189))}}if(a$3.alternate!==b$3)throw Error(formatProdErrorMessage(190))}if(a$3.tag!==3)throw Error(formatProdErrorMessage(188));return a$3.stateNode.current===a$3?fiber:alternate}function findCurrentHostFiberImpl(node){var tag=node.tag;if(tag===5||tag===26||tag===27||tag===6)return node;for(node=node.child;node!==null;){if(tag=findCurrentHostFiberImpl(node),tag!==null)return tag;node=node.sibling}return null}var assign$1=Object.assign,REACT_LEGACY_ELEMENT_TYPE=Symbol.for(`react.element`),REACT_ELEMENT_TYPE$1=Symbol.for(`react.transitional.element`),REACT_PORTAL_TYPE=Symbol.for(`react.portal`),REACT_FRAGMENT_TYPE$1=Symbol.for(`react.fragment`),REACT_STRICT_MODE_TYPE=Symbol.for(`react.strict_mode`),REACT_PROFILER_TYPE=Symbol.for(`react.profiler`),REACT_CONSUMER_TYPE=Symbol.for(`react.consumer`),REACT_CONTEXT_TYPE=Symbol.for(`react.context`),REACT_FORWARD_REF_TYPE=Symbol.for(`react.forward_ref`),REACT_SUSPENSE_TYPE=Symbol.for(`react.suspense`),REACT_SUSPENSE_LIST_TYPE=Symbol.for(`react.suspense_list`),REACT_MEMO_TYPE=Symbol.for(`react.memo`),REACT_LAZY_TYPE=Symbol.for(`react.lazy`),REACT_ACTIVITY_TYPE=Symbol.for(`react.activity`),REACT_MEMO_CACHE_SENTINEL=Symbol.for(`react.memo_cache_sentinel`),MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(maybeIterable){return typeof maybeIterable!=`object`||!maybeIterable?null:(maybeIterable=MAYBE_ITERATOR_SYMBOL&&maybeIterable[MAYBE_ITERATOR_SYMBOL]||maybeIterable[`@@iterator`],typeof maybeIterable==`function`?maybeIterable:null)}var REACT_CLIENT_REFERENCE=Symbol.for(`react.client.reference`);function getComponentNameFromType(type){if(type==null)return null;if(typeof type==`function`)return type.$$typeof===REACT_CLIENT_REFERENCE?null:type.displayName||type.name||null;if(typeof type==`string`)return type;switch(type){case REACT_FRAGMENT_TYPE$1:return`Fragment`;case REACT_PROFILER_TYPE:return`Profiler`;case REACT_STRICT_MODE_TYPE:return`StrictMode`;case REACT_SUSPENSE_TYPE:return`Suspense`;case REACT_SUSPENSE_LIST_TYPE:return`SuspenseList`;case REACT_ACTIVITY_TYPE:return`Activity`}if(typeof type==`object`)switch(type.$$typeof){case REACT_PORTAL_TYPE:return`Portal`;case REACT_CONTEXT_TYPE:return type.displayName||`Context`;case REACT_CONSUMER_TYPE:return(type._context.displayName||`Context`)+`.Consumer`;case REACT_FORWARD_REF_TYPE:var innerType=type.render;return type=type.displayName,type||=(type=innerType.displayName||innerType.name||``,type===``?`ForwardRef`:`ForwardRef(`+type+`)`),type;case REACT_MEMO_TYPE:return innerType=type.displayName||null,innerType===null?getComponentNameFromType(type.type)||`Memo`:innerType;case REACT_LAZY_TYPE:innerType=type._payload,type=type._init;try{return getComponentNameFromType(type(innerType))}catch{}}return null}var isArrayImpl=Array.isArray,ReactSharedInternals=React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ReactDOMSharedInternals=ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sharedNotPendingObject={pending:!1,data:null,method:null,action:null},valueStack=[],index=-1;function createCursor(defaultValue){return{current:defaultValue}}function pop(cursor){0>index||(cursor.current=valueStack[index],valueStack[index]=null,index--)}function push(cursor,value){index++,valueStack[index]=cursor.current,cursor.current=value}var contextStackCursor=createCursor(null),contextFiberStackCursor=createCursor(null),rootInstanceStackCursor=createCursor(null),hostTransitionProviderCursor=createCursor(null);function pushHostContainer(fiber,nextRootInstance){switch(push(rootInstanceStackCursor,nextRootInstance),push(contextFiberStackCursor,fiber),push(contextStackCursor,null),nextRootInstance.nodeType){case 9:case 11:fiber=(fiber=nextRootInstance.documentElement)&&(fiber=fiber.namespaceURI)?getOwnHostContext(fiber):0;break;default:if(fiber=nextRootInstance.tagName,nextRootInstance=nextRootInstance.namespaceURI)nextRootInstance=getOwnHostContext(nextRootInstance),fiber=getChildHostContextProd(nextRootInstance,fiber);else switch(fiber){case`svg`:fiber=1;break;case`math`:fiber=2;break;default:fiber=0}}pop(contextStackCursor),push(contextStackCursor,fiber)}function popHostContainer(){pop(contextStackCursor),pop(contextFiberStackCursor),pop(rootInstanceStackCursor)}function pushHostContext(fiber){fiber.memoizedState!==null&&push(hostTransitionProviderCursor,fiber);var context=contextStackCursor.current,JSCompiler_inline_result=getChildHostContextProd(context,fiber.type);context!==JSCompiler_inline_result&&(push(contextFiberStackCursor,fiber),push(contextStackCursor,JSCompiler_inline_result))}function popHostContext(fiber){contextFiberStackCursor.current===fiber&&(pop(contextStackCursor),pop(contextFiberStackCursor)),hostTransitionProviderCursor.current===fiber&&(pop(hostTransitionProviderCursor),HostTransitionContext._currentValue=sharedNotPendingObject)}var prefix,suffix;function describeBuiltInComponentFrame(name){if(prefix===void 0)try{throw Error()}catch(x$2){var match=x$2.stack.trim().match(/\n( *(at )?)/);prefix=match&&match[1]||``,suffix=-1<x$2.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<x$2.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+prefix+name+suffix}var reentry=!1;function describeNativeComponentFrame(fn,construct){if(!fn||reentry)return``;reentry=!0;var previousPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var RunInRootFrame={DetermineComponentFrameRoot:function(){try{if(construct){var Fake=function(){throw Error()};if(Object.defineProperty(Fake.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(Fake,[])}catch(x$2){var control=x$2}Reflect.construct(fn,[],Fake)}else{try{Fake.call()}catch(x$1$1){control=x$1$1}fn.call(Fake.prototype)}}else{try{throw Error()}catch(x$2){control=x$2}(Fake=fn())&&typeof Fake.catch==`function`&&Fake.catch(function(){})}}catch(sample){if(sample&&control&&typeof sample.stack==`string`)return[sample.stack,control.stack]}return[null,null]}};RunInRootFrame.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var namePropDescriptor=Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot,`name`);namePropDescriptor&&namePropDescriptor.configurable&&Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var _RunInRootFrame$Deter=RunInRootFrame.DetermineComponentFrameRoot(),sampleStack=_RunInRootFrame$Deter[0],controlStack=_RunInRootFrame$Deter[1];if(sampleStack&&controlStack){var sampleLines=sampleStack.split(`
`),controlLines=controlStack.split(`
`);for(namePropDescriptor=RunInRootFrame=0;RunInRootFrame<sampleLines.length&&!sampleLines[RunInRootFrame].includes(`DetermineComponentFrameRoot`);)RunInRootFrame++;for(;namePropDescriptor<controlLines.length&&!controlLines[namePropDescriptor].includes(`DetermineComponentFrameRoot`);)namePropDescriptor++;if(RunInRootFrame===sampleLines.length||namePropDescriptor===controlLines.length)for(RunInRootFrame=sampleLines.length-1,namePropDescriptor=controlLines.length-1;1<=RunInRootFrame&&0<=namePropDescriptor&&sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor];)namePropDescriptor--;for(;1<=RunInRootFrame&&0<=namePropDescriptor;RunInRootFrame--,namePropDescriptor--)if(sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor]){if(RunInRootFrame!==1||namePropDescriptor!==1)do if(RunInRootFrame--,namePropDescriptor--,0>namePropDescriptor||sampleLines[RunInRootFrame]!==controlLines[namePropDescriptor]){var frame=`
`+sampleLines[RunInRootFrame].replace(` at new `,` at `);return fn.displayName&&frame.includes(`<anonymous>`)&&(frame=frame.replace(`<anonymous>`,fn.displayName)),frame}while(1<=RunInRootFrame&&0<=namePropDescriptor);break}}}finally{reentry=!1,Error.prepareStackTrace=previousPrepareStackTrace}return(previousPrepareStackTrace=fn?fn.displayName||fn.name:``)?describeBuiltInComponentFrame(previousPrepareStackTrace):``}function describeFiber(fiber,childFiber){switch(fiber.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(fiber.type);case 16:return describeBuiltInComponentFrame(`Lazy`);case 13:return fiber.child!==childFiber&&childFiber!==null?describeBuiltInComponentFrame(`Suspense Fallback`):describeBuiltInComponentFrame(`Suspense`);case 19:return describeBuiltInComponentFrame(`SuspenseList`);case 0:case 15:return describeNativeComponentFrame(fiber.type,!1);case 11:return describeNativeComponentFrame(fiber.type.render,!1);case 1:return describeNativeComponentFrame(fiber.type,!0);case 31:return describeBuiltInComponentFrame(`Activity`);default:return``}}function getStackByFiberInDevAndProd(workInProgress$1){try{var info=``,previous=null;do info+=describeFiber(workInProgress$1,previous),previous=workInProgress$1,workInProgress$1=workInProgress$1.return;while(workInProgress$1);return info}catch(x$2){return`
Error generating stack: `+x$2.message+`
`+x$2.stack}}var hasOwnProperty=Object.prototype.hasOwnProperty,scheduleCallback$3=Scheduler.unstable_scheduleCallback,cancelCallback$1=Scheduler.unstable_cancelCallback,shouldYield=Scheduler.unstable_shouldYield,requestPaint=Scheduler.unstable_requestPaint,now=Scheduler.unstable_now,getCurrentPriorityLevel=Scheduler.unstable_getCurrentPriorityLevel,ImmediatePriority=Scheduler.unstable_ImmediatePriority,UserBlockingPriority=Scheduler.unstable_UserBlockingPriority,NormalPriority$1=Scheduler.unstable_NormalPriority,LowPriority=Scheduler.unstable_LowPriority,IdlePriority=Scheduler.unstable_IdlePriority,log$1=Scheduler.log,unstable_setDisableYieldValue=Scheduler.unstable_setDisableYieldValue,rendererID=null,injectedHook=null;function setIsStrictModeForDevtools(newIsStrictMode){if(typeof log$1==`function`&&unstable_setDisableYieldValue(newIsStrictMode),injectedHook&&typeof injectedHook.setStrictMode==`function`)try{injectedHook.setStrictMode(rendererID,newIsStrictMode)}catch{}}var clz32=Math.clz32?Math.clz32:clz32Fallback,log=Math.log,LN2=Math.LN2;function clz32Fallback(x$2){return x$2>>>=0,x$2===0?32:31-(log(x$2)/LN2|0)|0}var nextTransitionUpdateLane=256,nextTransitionDeferredLane=262144,nextRetryLane=4194304;function getHighestPriorityLanes(lanes){var pendingSyncLanes=lanes&42;if(pendingSyncLanes!==0)return pendingSyncLanes;switch(lanes&-lanes){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return lanes&261888;case 262144:case 524288:case 1048576:case 2097152:return lanes&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return lanes&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return lanes}}function getNextLanes(root$1,wipLanes,rootHasPendingCommit){var pendingLanes=root$1.pendingLanes;if(pendingLanes===0)return 0;var nextLanes=0,suspendedLanes=root$1.suspendedLanes,pingedLanes=root$1.pingedLanes;root$1=root$1.warmLanes;var nonIdlePendingLanes=pendingLanes&134217727;return nonIdlePendingLanes===0?(nonIdlePendingLanes=pendingLanes&~suspendedLanes,nonIdlePendingLanes===0?pingedLanes===0?rootHasPendingCommit||(rootHasPendingCommit=pendingLanes&~root$1,rootHasPendingCommit!==0&&(nextLanes=getHighestPriorityLanes(rootHasPendingCommit))):nextLanes=getHighestPriorityLanes(pingedLanes):nextLanes=getHighestPriorityLanes(nonIdlePendingLanes)):(pendingLanes=nonIdlePendingLanes&~suspendedLanes,pendingLanes===0?(pingedLanes&=nonIdlePendingLanes,pingedLanes===0?rootHasPendingCommit||(rootHasPendingCommit=nonIdlePendingLanes&~root$1,rootHasPendingCommit!==0&&(nextLanes=getHighestPriorityLanes(rootHasPendingCommit))):nextLanes=getHighestPriorityLanes(pingedLanes)):nextLanes=getHighestPriorityLanes(pendingLanes)),nextLanes===0?0:wipLanes!==0&&wipLanes!==nextLanes&&(wipLanes&suspendedLanes)===0&&(suspendedLanes=nextLanes&-nextLanes,rootHasPendingCommit=wipLanes&-wipLanes,suspendedLanes>=rootHasPendingCommit||suspendedLanes===32&&rootHasPendingCommit&4194048)?wipLanes:nextLanes}function checkIfRootIsPrerendering(root$1,renderLanes$1){return(root$1.pendingLanes&~(root$1.suspendedLanes&~root$1.pingedLanes)&renderLanes$1)===0}function computeExpirationTime(lane,currentTime){switch(lane){case 1:case 2:case 4:case 8:case 64:return currentTime+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return currentTime+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function claimNextRetryLane(){var lane=nextRetryLane;return nextRetryLane<<=1,!(nextRetryLane&62914560)&&(nextRetryLane=4194304),lane}function createLaneMap(initial){for(var laneMap=[],i$3=0;31>i$3;i$3++)laneMap.push(initial);return laneMap}function markRootUpdated$1(root$1,updateLane){root$1.pendingLanes|=updateLane,updateLane!==268435456&&(root$1.suspendedLanes=0,root$1.pingedLanes=0,root$1.warmLanes=0)}function markRootFinished(root$1,finishedLanes,remainingLanes,spawnedLane,updatedLanes,suspendedRetryLanes){var previouslyPendingLanes=root$1.pendingLanes;root$1.pendingLanes=remainingLanes,root$1.suspendedLanes=0,root$1.pingedLanes=0,root$1.warmLanes=0,root$1.expiredLanes&=remainingLanes,root$1.entangledLanes&=remainingLanes,root$1.errorRecoveryDisabledLanes&=remainingLanes,root$1.shellSuspendCounter=0;var entanglements=root$1.entanglements,expirationTimes=root$1.expirationTimes,hiddenUpdates=root$1.hiddenUpdates;for(remainingLanes=previouslyPendingLanes&~remainingLanes;0<remainingLanes;){var index$7=31-clz32(remainingLanes),lane=1<<index$7;entanglements[index$7]=0,expirationTimes[index$7]=-1;var hiddenUpdatesForLane=hiddenUpdates[index$7];if(hiddenUpdatesForLane!==null)for(hiddenUpdates[index$7]=null,index$7=0;index$7<hiddenUpdatesForLane.length;index$7++){var update=hiddenUpdatesForLane[index$7];update!==null&&(update.lane&=-536870913)}remainingLanes&=~lane}spawnedLane!==0&&markSpawnedDeferredLane(root$1,spawnedLane,0),suspendedRetryLanes!==0&&updatedLanes===0&&root$1.tag!==0&&(root$1.suspendedLanes|=suspendedRetryLanes&~(previouslyPendingLanes&~finishedLanes))}function markSpawnedDeferredLane(root$1,spawnedLane,entangledLanes){root$1.pendingLanes|=spawnedLane,root$1.suspendedLanes&=~spawnedLane;var spawnedLaneIndex=31-clz32(spawnedLane);root$1.entangledLanes|=spawnedLane,root$1.entanglements[spawnedLaneIndex]=root$1.entanglements[spawnedLaneIndex]|1073741824|entangledLanes&261930}function markRootEntangled(root$1,entangledLanes){var rootEntangledLanes=root$1.entangledLanes|=entangledLanes;for(root$1=root$1.entanglements;rootEntangledLanes;){var index$8=31-clz32(rootEntangledLanes),lane=1<<index$8;lane&entangledLanes|root$1[index$8]&entangledLanes&&(root$1[index$8]|=entangledLanes),rootEntangledLanes&=~lane}}function getBumpedLaneForHydration(root$1,renderLanes$1){var renderLane=renderLanes$1&-renderLanes$1;return renderLane=renderLane&42?1:getBumpedLaneForHydrationByLane(renderLane),(renderLane&(root$1.suspendedLanes|renderLanes$1))===0?renderLane:0}function getBumpedLaneForHydrationByLane(lane){switch(lane){case 2:lane=1;break;case 8:lane=4;break;case 32:lane=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:lane=128;break;case 268435456:lane=134217728;break;default:lane=0}return lane}function lanesToEventPriority(lanes){return lanes&=-lanes,2<lanes?8<lanes?lanes&134217727?32:268435456:8:2}function resolveUpdatePriority(){var updatePriority=ReactDOMSharedInternals.p;return updatePriority===0?(updatePriority=window.event,updatePriority===void 0?32:getEventPriority(updatePriority.type)):updatePriority}function runWithPriority(priority,fn){var previousPriority=ReactDOMSharedInternals.p;try{return ReactDOMSharedInternals.p=priority,fn()}finally{ReactDOMSharedInternals.p=previousPriority}}var randomKey=Math.random().toString(36).slice(2),internalInstanceKey=`__reactFiber$`+randomKey,internalPropsKey=`__reactProps$`+randomKey,internalContainerInstanceKey=`__reactContainer$`+randomKey,internalEventHandlersKey=`__reactEvents$`+randomKey,internalEventHandlerListenersKey=`__reactListeners$`+randomKey,internalEventHandlesSetKey=`__reactHandles$`+randomKey,internalRootNodeResourcesKey=`__reactResources$`+randomKey,internalHoistableMarker=`__reactMarker$`+randomKey;function detachDeletedInstance(node){delete node[internalInstanceKey],delete node[internalPropsKey],delete node[internalEventHandlersKey],delete node[internalEventHandlerListenersKey],delete node[internalEventHandlesSetKey]}function getClosestInstanceFromNode(targetNode){var targetInst=targetNode[internalInstanceKey];if(targetInst)return targetInst;for(var parentNode=targetNode.parentNode;parentNode;){if(targetInst=parentNode[internalContainerInstanceKey]||parentNode[internalInstanceKey]){if(parentNode=targetInst.alternate,targetInst.child!==null||parentNode!==null&&parentNode.child!==null)for(targetNode=getParentHydrationBoundary(targetNode);targetNode!==null;){if(parentNode=targetNode[internalInstanceKey])return parentNode;targetNode=getParentHydrationBoundary(targetNode)}return targetInst}targetNode=parentNode,parentNode=targetNode.parentNode}return null}function getInstanceFromNode(node){if(node=node[internalInstanceKey]||node[internalContainerInstanceKey]){var tag=node.tag;if(tag===5||tag===6||tag===13||tag===31||tag===26||tag===27||tag===3)return node}return null}function getNodeFromInstance(inst){var tag=inst.tag;if(tag===5||tag===26||tag===27||tag===6)return inst.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(root$1){var resources=root$1[internalRootNodeResourcesKey];return resources||=root$1[internalRootNodeResourcesKey]={hoistableStyles:new Map,hoistableScripts:new Map},resources}function markNodeAsHoistable(node){node[internalHoistableMarker]=!0}var allNativeEvents=new Set,registrationNameDependencies={};function registerTwoPhaseEvent(registrationName,dependencies){registerDirectEvent(registrationName,dependencies),registerDirectEvent(registrationName+`Capture`,dependencies)}function registerDirectEvent(registrationName,dependencies){for(registrationNameDependencies[registrationName]=dependencies,registrationName=0;registrationName<dependencies.length;registrationName++)allNativeEvents.add(dependencies[registrationName])}var VALID_ATTRIBUTE_NAME_REGEX=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),illegalAttributeNameCache={},validatedAttributeNameCache={};function isAttributeNameSafe(attributeName){return hasOwnProperty.call(validatedAttributeNameCache,attributeName)?!0:hasOwnProperty.call(illegalAttributeNameCache,attributeName)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?validatedAttributeNameCache[attributeName]=!0:(illegalAttributeNameCache[attributeName]=!0,!1)}function setValueForAttribute(node,name,value){if(isAttributeNameSafe(name))if(value===null)node.removeAttribute(name);else{switch(typeof value){case`undefined`:case`function`:case`symbol`:node.removeAttribute(name);return;case`boolean`:var prefix$10=name.toLowerCase().slice(0,5);if(prefix$10!==`data-`&&prefix$10!==`aria-`){node.removeAttribute(name);return}}node.setAttribute(name,``+value)}}function setValueForKnownAttribute(node,name,value){if(value===null)node.removeAttribute(name);else{switch(typeof value){case`undefined`:case`function`:case`symbol`:case`boolean`:node.removeAttribute(name);return}node.setAttribute(name,``+value)}}function setValueForNamespacedAttribute(node,namespace,name,value){if(value===null)node.removeAttribute(name);else{switch(typeof value){case`undefined`:case`function`:case`symbol`:case`boolean`:node.removeAttribute(name);return}node.setAttributeNS(namespace,name,``+value)}}function getToStringValue(value){switch(typeof value){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return value;case`object`:return value;default:return``}}function isCheckable(elem){var type=elem.type;return(elem=elem.nodeName)&&elem.toLowerCase()===`input`&&(type===`checkbox`||type===`radio`)}function trackValueOnNode(node,valueField,currentValue){var descriptor=Object.getOwnPropertyDescriptor(node.constructor.prototype,valueField);if(!node.hasOwnProperty(valueField)&&descriptor!==void 0&&typeof descriptor.get==`function`&&typeof descriptor.set==`function`){var get=descriptor.get,set=descriptor.set;return Object.defineProperty(node,valueField,{configurable:!0,get:function(){return get.call(this)},set:function(value){currentValue=``+value,set.call(this,value)}}),Object.defineProperty(node,valueField,{enumerable:descriptor.enumerable}),{getValue:function(){return currentValue},setValue:function(value){currentValue=``+value},stopTracking:function(){node._valueTracker=null,delete node[valueField]}}}}function track(node){if(!node._valueTracker){var valueField=isCheckable(node)?`checked`:`value`;node._valueTracker=trackValueOnNode(node,valueField,``+node[valueField])}}function updateValueIfChanged(node){if(!node)return!1;var tracker=node._valueTracker;if(!tracker)return!0;var lastValue=tracker.getValue(),value=``;return node&&(value=isCheckable(node)?node.checked?`true`:`false`:node.value),node=value,node===lastValue?!1:(tracker.setValue(node),!0)}function getActiveElement(doc){if(doc||=typeof document<`u`?document:void 0,doc===void 0)return null;try{return doc.activeElement||doc.body}catch{return doc.body}}var escapeSelectorAttributeValueInsideDoubleQuotesRegex=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(value){return value.replace(escapeSelectorAttributeValueInsideDoubleQuotesRegex,function(ch){return`\\`+ch.charCodeAt(0).toString(16)+` `})}function updateInput(element,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name){element.name=``,type!=null&&typeof type!=`function`&&typeof type!=`symbol`&&typeof type!=`boolean`?element.type=type:element.removeAttribute(`type`),value==null?type!==`submit`&&type!==`reset`||element.removeAttribute(`value`):type===`number`?(value===0&&element.value===``||element.value!=value)&&(element.value=``+getToStringValue(value)):element.value!==``+getToStringValue(value)&&(element.value=``+getToStringValue(value)),value==null?defaultValue==null?lastDefaultValue!=null&&element.removeAttribute(`value`):setDefaultValue(element,type,getToStringValue(defaultValue)):setDefaultValue(element,type,getToStringValue(value)),checked==null&&defaultChecked!=null&&(element.defaultChecked=!!defaultChecked),checked!=null&&(element.checked=checked&&typeof checked!=`function`&&typeof checked!=`symbol`),name!=null&&typeof name!=`function`&&typeof name!=`symbol`&&typeof name!=`boolean`?element.name=``+getToStringValue(name):element.removeAttribute(`name`)}function initInput(element,value,defaultValue,checked,defaultChecked,type,name,isHydrating$1){if(type!=null&&typeof type!=`function`&&typeof type!=`symbol`&&typeof type!=`boolean`&&(element.type=type),value!=null||defaultValue!=null){if(!(type!==`submit`&&type!==`reset`||value!=null)){track(element);return}defaultValue=defaultValue==null?``:``+getToStringValue(defaultValue),value=value==null?defaultValue:``+getToStringValue(value),isHydrating$1||value===element.value||(element.value=value),element.defaultValue=value}checked??=defaultChecked,checked=typeof checked!=`function`&&typeof checked!=`symbol`&&!!checked,element.checked=isHydrating$1?element.checked:!!checked,element.defaultChecked=!!checked,name!=null&&typeof name!=`function`&&typeof name!=`symbol`&&typeof name!=`boolean`&&(element.name=name),track(element)}function setDefaultValue(node,type,value){type===`number`&&getActiveElement(node.ownerDocument)===node||node.defaultValue===``+value||(node.defaultValue=``+value)}function updateOptions(node,multiple,propValue,setDefaultSelected){if(node=node.options,multiple){multiple={};for(var i$3=0;i$3<propValue.length;i$3++)multiple[`$`+propValue[i$3]]=!0;for(propValue=0;propValue<node.length;propValue++)i$3=multiple.hasOwnProperty(`$`+node[propValue].value),node[propValue].selected!==i$3&&(node[propValue].selected=i$3),i$3&&setDefaultSelected&&(node[propValue].defaultSelected=!0)}else{for(propValue=``+getToStringValue(propValue),multiple=null,i$3=0;i$3<node.length;i$3++){if(node[i$3].value===propValue){node[i$3].selected=!0,setDefaultSelected&&(node[i$3].defaultSelected=!0);return}multiple!==null||node[i$3].disabled||(multiple=node[i$3])}multiple!==null&&(multiple.selected=!0)}}function updateTextarea(element,value,defaultValue){if(value!=null&&(value=``+getToStringValue(value),value!==element.value&&(element.value=value),defaultValue==null)){element.defaultValue!==value&&(element.defaultValue=value);return}element.defaultValue=defaultValue==null?``:``+getToStringValue(defaultValue)}function initTextarea(element,value,defaultValue,children){if(value==null){if(children!=null){if(defaultValue!=null)throw Error(formatProdErrorMessage(92));if(isArrayImpl(children)){if(1<children.length)throw Error(formatProdErrorMessage(93));children=children[0]}defaultValue=children}defaultValue??=``,value=defaultValue}defaultValue=getToStringValue(value),element.defaultValue=defaultValue,children=element.textContent,children===defaultValue&&children!==``&&children!==null&&(element.value=children),track(element)}function setTextContent(node,text){if(text){var firstChild=node.firstChild;if(firstChild&&firstChild===node.lastChild&&firstChild.nodeType===3){firstChild.nodeValue=text;return}}node.textContent=text}var unitlessNumbers=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function setValueForStyle(style$1,styleName,value){var isCustomProperty=styleName.indexOf(`--`)===0;value==null||typeof value==`boolean`||value===``?isCustomProperty?style$1.setProperty(styleName,``):styleName===`float`?style$1.cssFloat=``:style$1[styleName]=``:isCustomProperty?style$1.setProperty(styleName,value):typeof value!=`number`||value===0||unitlessNumbers.has(styleName)?styleName===`float`?style$1.cssFloat=value:style$1[styleName]=(``+value).trim():style$1[styleName]=value+`px`}function setValueForStyles(node,styles,prevStyles){if(styles!=null&&typeof styles!=`object`)throw Error(formatProdErrorMessage(62));if(node=node.style,prevStyles!=null){for(var styleName in prevStyles)!prevStyles.hasOwnProperty(styleName)||styles!=null&&styles.hasOwnProperty(styleName)||(styleName.indexOf(`--`)===0?node.setProperty(styleName,``):styleName===`float`?node.cssFloat=``:node[styleName]=``);for(var styleName$16 in styles)styleName=styles[styleName$16],styles.hasOwnProperty(styleName$16)&&prevStyles[styleName$16]!==styleName&&setValueForStyle(node,styleName$16,styleName)}else for(var styleName$17 in styles)styles.hasOwnProperty(styleName$17)&&setValueForStyle(node,styleName$17,styles[styleName$17])}function isCustomElement(tagName){if(tagName.indexOf(`-`)===-1)return!1;switch(tagName){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var aliases=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),isJavaScriptProtocol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(url){return isJavaScriptProtocol.test(``+url)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:url}function noop$1(){}var currentReplayingEvent=null;function getEventTarget(nativeEvent){return nativeEvent=nativeEvent.target||nativeEvent.srcElement||window,nativeEvent.correspondingUseElement&&(nativeEvent=nativeEvent.correspondingUseElement),nativeEvent.nodeType===3?nativeEvent.parentNode:nativeEvent}var restoreTarget=null,restoreQueue=null;function restoreStateOfTarget(target){var internalInstance=getInstanceFromNode(target);if(internalInstance&&(target=internalInstance.stateNode)){var props=target[internalPropsKey]||null;a:switch(target=internalInstance.stateNode,internalInstance.type){case`input`:if(updateInput(target,props.value,props.defaultValue,props.defaultValue,props.checked,props.defaultChecked,props.type,props.name),internalInstance=props.name,props.type===`radio`&&internalInstance!=null){for(props=target;props.parentNode;)props=props.parentNode;for(props=props.querySelectorAll(`input[name="`+escapeSelectorAttributeValueInsideDoubleQuotes(``+internalInstance)+`"][type="radio"]`),internalInstance=0;internalInstance<props.length;internalInstance++){var otherNode=props[internalInstance];if(otherNode!==target&&otherNode.form===target.form){var otherProps=otherNode[internalPropsKey]||null;if(!otherProps)throw Error(formatProdErrorMessage(90));updateInput(otherNode,otherProps.value,otherProps.defaultValue,otherProps.defaultValue,otherProps.checked,otherProps.defaultChecked,otherProps.type,otherProps.name)}}for(internalInstance=0;internalInstance<props.length;internalInstance++)otherNode=props[internalInstance],otherNode.form===target.form&&updateValueIfChanged(otherNode)}break a;case`textarea`:updateTextarea(target,props.value,props.defaultValue);break a;case`select`:internalInstance=props.value,internalInstance!=null&&updateOptions(target,!!props.multiple,internalInstance,!1)}}}var isInsideEventHandler=!1;function batchedUpdates$1(fn,a$3,b$3){if(isInsideEventHandler)return fn(a$3,b$3);isInsideEventHandler=!0;try{return fn(a$3)}finally{if(isInsideEventHandler=!1,(restoreTarget!==null||restoreQueue!==null)&&(flushSyncWork$1(),restoreTarget&&(a$3=restoreTarget,fn=restoreQueue,restoreQueue=restoreTarget=null,restoreStateOfTarget(a$3),fn)))for(a$3=0;a$3<fn.length;a$3++)restoreStateOfTarget(fn[a$3])}}function getListener(inst,registrationName){var stateNode=inst.stateNode;if(stateNode===null)return null;var props=stateNode[internalPropsKey]||null;if(props===null)return null;stateNode=props[registrationName];a:switch(registrationName){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(props=!props.disabled)||(inst=inst.type,props=!(inst===`button`||inst===`input`||inst===`select`||inst===`textarea`)),inst=!props;break a;default:inst=!1}if(inst)return null;if(stateNode&&typeof stateNode!=`function`)throw Error(formatProdErrorMessage(231,registrationName,typeof stateNode));return stateNode}var canUseDOM=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),passiveBrowserEventsSupported=!1;if(canUseDOM)try{var options={};Object.defineProperty(options,`passive`,{get:function(){passiveBrowserEventsSupported=!0}}),window.addEventListener(`test`,options,options),window.removeEventListener(`test`,options,options)}catch{passiveBrowserEventsSupported=!1}var root=null,startText=null,fallbackText=null;function getData(){if(fallbackText)return fallbackText;var start,startValue=startText,startLength=startValue.length,end,endValue=`value`in root?root.value:root.textContent,endLength=endValue.length;for(start=0;start<startLength&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;end<=minEnd&&startValue[startLength-end]===endValue[endLength-end];end++);return fallbackText=endValue.slice(start,1<end?1-end:void 0)}function getEventCharCode(nativeEvent){var keyCode=nativeEvent.keyCode;return`charCode`in nativeEvent?(nativeEvent=nativeEvent.charCode,nativeEvent===0&&keyCode===13&&(nativeEvent=13)):nativeEvent=keyCode,nativeEvent===10&&(nativeEvent=13),32<=nativeEvent||nativeEvent===13?nativeEvent:0}function functionThatReturnsTrue(){return!0}function functionThatReturnsFalse(){return!1}function createSyntheticEvent(Interface){function SyntheticBaseEvent(reactName,reactEventType,targetInst,nativeEvent,nativeEventTarget){for(var propName in this._reactName=reactName,this._targetInst=targetInst,this.type=reactEventType,this.nativeEvent=nativeEvent,this.target=nativeEventTarget,this.currentTarget=null,Interface)Interface.hasOwnProperty(propName)&&(reactName=Interface[propName],this[propName]=reactName?reactName(nativeEvent):nativeEvent[propName]);return this.isDefaultPrevented=(nativeEvent.defaultPrevented==null?!1===nativeEvent.returnValue:nativeEvent.defaultPrevented)?functionThatReturnsTrue:functionThatReturnsFalse,this.isPropagationStopped=functionThatReturnsFalse,this}return assign$1(SyntheticBaseEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;event&&(event.preventDefault?event.preventDefault():typeof event.returnValue!=`unknown`&&(event.returnValue=!1),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;event&&(event.stopPropagation?event.stopPropagation():typeof event.cancelBubble!=`unknown`&&(event.cancelBubble=!0),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue}),SyntheticBaseEvent}var EventInterface={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SyntheticEvent=createSyntheticEvent(EventInterface),UIEventInterface=assign$1({},EventInterface,{view:0,detail:0}),SyntheticUIEvent=createSyntheticEvent(UIEventInterface),lastMovementX,lastMovementY,lastMouseEvent,MouseEventInterface=assign$1({},UIEventInterface,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(event){return event.relatedTarget===void 0?event.fromElement===event.srcElement?event.toElement:event.fromElement:event.relatedTarget},movementX:function(event){return`movementX`in event?event.movementX:(event!==lastMouseEvent&&(lastMouseEvent&&event.type===`mousemove`?(lastMovementX=event.screenX-lastMouseEvent.screenX,lastMovementY=event.screenY-lastMouseEvent.screenY):lastMovementY=lastMovementX=0,lastMouseEvent=event),lastMovementX)},movementY:function(event){return`movementY`in event?event.movementY:lastMovementY}}),SyntheticMouseEvent=createSyntheticEvent(MouseEventInterface),DragEventInterface=assign$1({},MouseEventInterface,{dataTransfer:0}),SyntheticDragEvent=createSyntheticEvent(DragEventInterface),FocusEventInterface=assign$1({},UIEventInterface,{relatedTarget:0}),SyntheticFocusEvent=createSyntheticEvent(FocusEventInterface),AnimationEventInterface=assign$1({},EventInterface,{animationName:0,elapsedTime:0,pseudoElement:0}),SyntheticAnimationEvent=createSyntheticEvent(AnimationEventInterface),ClipboardEventInterface=assign$1({},EventInterface,{clipboardData:function(event){return`clipboardData`in event?event.clipboardData:window.clipboardData}}),SyntheticClipboardEvent=createSyntheticEvent(ClipboardEventInterface),CompositionEventInterface=assign$1({},EventInterface,{data:0}),SyntheticCompositionEvent=createSyntheticEvent(CompositionEventInterface),normalizeKey={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},translateToKey={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},modifierKeyToProp={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function modifierStateGetter(keyArg){var nativeEvent=this.nativeEvent;return nativeEvent.getModifierState?nativeEvent.getModifierState(keyArg):(keyArg=modifierKeyToProp[keyArg])?!!nativeEvent[keyArg]:!1}function getEventModifierState(){return modifierStateGetter}var KeyboardEventInterface=assign$1({},UIEventInterface,{key:function(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!==`Unidentified`)return key}return nativeEvent.type===`keypress`?(nativeEvent=getEventCharCode(nativeEvent),nativeEvent===13?`Enter`:String.fromCharCode(nativeEvent)):nativeEvent.type===`keydown`||nativeEvent.type===`keyup`?translateToKey[nativeEvent.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(event){return event.type===`keypress`?getEventCharCode(event):0},keyCode:function(event){return event.type===`keydown`||event.type===`keyup`?event.keyCode:0},which:function(event){return event.type===`keypress`?getEventCharCode(event):event.type===`keydown`||event.type===`keyup`?event.keyCode:0}}),SyntheticKeyboardEvent=createSyntheticEvent(KeyboardEventInterface),PointerEventInterface=assign$1({},MouseEventInterface,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SyntheticPointerEvent=createSyntheticEvent(PointerEventInterface),TouchEventInterface=assign$1({},UIEventInterface,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState}),SyntheticTouchEvent=createSyntheticEvent(TouchEventInterface),TransitionEventInterface=assign$1({},EventInterface,{propertyName:0,elapsedTime:0,pseudoElement:0}),SyntheticTransitionEvent=createSyntheticEvent(TransitionEventInterface),WheelEventInterface=assign$1({},MouseEventInterface,{deltaX:function(event){return`deltaX`in event?event.deltaX:`wheelDeltaX`in event?-event.wheelDeltaX:0},deltaY:function(event){return`deltaY`in event?event.deltaY:`wheelDeltaY`in event?-event.wheelDeltaY:`wheelDelta`in event?-event.wheelDelta:0},deltaZ:0,deltaMode:0}),SyntheticWheelEvent=createSyntheticEvent(WheelEventInterface),ToggleEventInterface=assign$1({},EventInterface,{newState:0,oldState:0}),SyntheticToggleEvent=createSyntheticEvent(ToggleEventInterface),END_KEYCODES=[9,13,27,32],canUseCompositionEvent=canUseDOM&&`CompositionEvent`in window,documentMode=null;canUseDOM&&`documentMode`in document&&(documentMode=document.documentMode);var canUseTextInputEvent=canUseDOM&&`TextEvent`in window&&!documentMode,useFallbackCompositionData=canUseDOM&&(!canUseCompositionEvent||documentMode&&8<documentMode&&11>=documentMode),SPACEBAR_CHAR=` `,hasSpaceKeypress=!1;function isFallbackCompositionEnd(domEventName,nativeEvent){switch(domEventName){case`keyup`:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case`keydown`:return nativeEvent.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){return nativeEvent=nativeEvent.detail,typeof nativeEvent==`object`&&`data`in nativeEvent?nativeEvent.data:null}var isComposing=!1;function getNativeBeforeInputChars(domEventName,nativeEvent){switch(domEventName){case`compositionend`:return getDataFromCustomEvent(nativeEvent);case`keypress`:return nativeEvent.which===32?(hasSpaceKeypress=!0,SPACEBAR_CHAR):null;case`textInput`:return domEventName=nativeEvent.data,domEventName===SPACEBAR_CHAR&&hasSpaceKeypress?null:domEventName;default:return null}}function getFallbackBeforeInputChars(domEventName,nativeEvent){if(isComposing)return domEventName===`compositionend`||!canUseCompositionEvent&&isFallbackCompositionEnd(domEventName,nativeEvent)?(domEventName=getData(),fallbackText=startText=root=null,isComposing=!1,domEventName):null;switch(domEventName){case`paste`:return null;case`keypress`:if(!(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)||nativeEvent.ctrlKey&&nativeEvent.altKey){if(nativeEvent.char&&1<nativeEvent.char.length)return nativeEvent.char;if(nativeEvent.which)return String.fromCharCode(nativeEvent.which)}return null;case`compositionend`:return useFallbackCompositionData&&nativeEvent.locale!==`ko`?null:nativeEvent.data;default:return null}}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName===`input`?!!supportedInputTypes[elem.type]:nodeName===`textarea`}function createAndAccumulateChangeEvent(dispatchQueue,inst,nativeEvent,target){restoreTarget?restoreQueue?restoreQueue.push(target):restoreQueue=[target]:restoreTarget=target,inst=accumulateTwoPhaseListeners(inst,`onChange`),0<inst.length&&(nativeEvent=new SyntheticEvent(`onChange`,`change`,null,nativeEvent,target),dispatchQueue.push({event:nativeEvent,listeners:inst}))}var activeElement$1=null,activeElementInst$1=null;function runEventInBatch(dispatchQueue){processDispatchQueue(dispatchQueue,0)}function getInstIfValueChanged(targetInst){var targetNode=getNodeFromInstance(targetInst);if(updateValueIfChanged(targetNode))return targetInst}function getTargetInstForChangeEvent(domEventName,targetInst){if(domEventName===`change`)return targetInst}var isInputEventSupported=!1;if(canUseDOM){var JSCompiler_inline_result$jscomp$286;if(canUseDOM){var isSupported$jscomp$inline_427=`oninput`in document;if(!isSupported$jscomp$inline_427){var element$jscomp$inline_428=document.createElement(`div`);element$jscomp$inline_428.setAttribute(`oninput`,`return;`),isSupported$jscomp$inline_427=typeof element$jscomp$inline_428.oninput==`function`}JSCompiler_inline_result$jscomp$286=isSupported$jscomp$inline_427}else JSCompiler_inline_result$jscomp$286=!1;isInputEventSupported=JSCompiler_inline_result$jscomp$286&&(!document.documentMode||9<document.documentMode)}function stopWatchingForValueChange(){activeElement$1&&(activeElement$1.detachEvent(`onpropertychange`,handlePropertyChange),activeElementInst$1=activeElement$1=null)}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName===`value`&&getInstIfValueChanged(activeElementInst$1)){var dispatchQueue=[];createAndAccumulateChangeEvent(dispatchQueue,activeElementInst$1,nativeEvent,getEventTarget(nativeEvent)),batchedUpdates$1(runEventInBatch,dispatchQueue)}}function handleEventsForInputEventPolyfill(domEventName,target,targetInst){domEventName===`focusin`?(stopWatchingForValueChange(),activeElement$1=target,activeElementInst$1=targetInst,activeElement$1.attachEvent(`onpropertychange`,handlePropertyChange)):domEventName===`focusout`&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(domEventName){if(domEventName===`selectionchange`||domEventName===`keyup`||domEventName===`keydown`)return getInstIfValueChanged(activeElementInst$1)}function getTargetInstForClickEvent(domEventName,targetInst){if(domEventName===`click`)return getInstIfValueChanged(targetInst)}function getTargetInstForInputOrChangeEvent(domEventName,targetInst){if(domEventName===`input`||domEventName===`change`)return getInstIfValueChanged(targetInst)}function is(x$2,y$2){return x$2===y$2&&(x$2!==0||1/x$2==1/y$2)||x$2!==x$2&&y$2!==y$2}var objectIs=typeof Object.is==`function`?Object.is:is;function shallowEqual(objA,objB){if(objectIs(objA,objB))return!0;if(typeof objA!=`object`||!objA||typeof objB!=`object`||!objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(keysB=0;keysB<keysA.length;keysB++){var currentKey=keysA[keysB];if(!hasOwnProperty.call(objB,currentKey)||!objectIs(objA[currentKey],objB[currentKey]))return!1}return!0}function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getNodeForCharacterOffset(root$1,offset){var node=getLeafNode(root$1);root$1=0;for(var nodeEnd;node;){if(node.nodeType===3){if(nodeEnd=root$1+node.textContent.length,root$1<=offset&&nodeEnd>=offset)return{node,offset:offset-root$1};root$1=nodeEnd}a:{for(;node;){if(node.nextSibling){node=node.nextSibling;break a}node=node.parentNode}node=void 0}node=getLeafNode(node)}}function containsNode(outerNode,innerNode){return outerNode&&innerNode?outerNode===innerNode?!0:outerNode&&outerNode.nodeType===3?!1:innerNode&&innerNode.nodeType===3?containsNode(outerNode,innerNode.parentNode):`contains`in outerNode?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(outerNode.compareDocumentPosition(innerNode)&16):!1:!1}function getActiveElementDeep(containerInfo){containerInfo=containerInfo!=null&&containerInfo.ownerDocument!=null&&containerInfo.ownerDocument.defaultView!=null?containerInfo.ownerDocument.defaultView:window;for(var element=getActiveElement(containerInfo.document);element instanceof containerInfo.HTMLIFrameElement;){try{var JSCompiler_inline_result=typeof element.contentWindow.location.href==`string`}catch{JSCompiler_inline_result=!1}if(JSCompiler_inline_result)containerInfo=element.contentWindow;else break;element=getActiveElement(containerInfo.document)}return element}function hasSelectionCapabilities(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName===`input`&&(elem.type===`text`||elem.type===`search`||elem.type===`tel`||elem.type===`url`||elem.type===`password`)||nodeName===`textarea`||elem.contentEditable===`true`)}var skipSelectionChangeEvent=canUseDOM&&`documentMode`in document&&11>=document.documentMode,activeElement=null,activeElementInst=null,lastSelection=null,mouseDown=!1;function constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget){var doc=nativeEventTarget.window===nativeEventTarget?nativeEventTarget.document:nativeEventTarget.nodeType===9?nativeEventTarget:nativeEventTarget.ownerDocument;mouseDown||activeElement==null||activeElement!==getActiveElement(doc)||(doc=activeElement,`selectionStart`in doc&&hasSelectionCapabilities(doc)?doc={start:doc.selectionStart,end:doc.selectionEnd}:(doc=(doc.ownerDocument&&doc.ownerDocument.defaultView||window).getSelection(),doc={anchorNode:doc.anchorNode,anchorOffset:doc.anchorOffset,focusNode:doc.focusNode,focusOffset:doc.focusOffset}),lastSelection&&shallowEqual(lastSelection,doc)||(lastSelection=doc,doc=accumulateTwoPhaseListeners(activeElementInst,`onSelect`),0<doc.length&&(nativeEvent=new SyntheticEvent(`onSelect`,`select`,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:nativeEvent,listeners:doc}),nativeEvent.target=activeElement)))}function makePrefixMap(styleProp,eventName){var prefixes={};return prefixes[styleProp.toLowerCase()]=eventName.toLowerCase(),prefixes[`Webkit`+styleProp]=`webkit`+eventName,prefixes[`Moz`+styleProp]=`moz`+eventName,prefixes}var vendorPrefixes={animationend:makePrefixMap(`Animation`,`AnimationEnd`),animationiteration:makePrefixMap(`Animation`,`AnimationIteration`),animationstart:makePrefixMap(`Animation`,`AnimationStart`),transitionrun:makePrefixMap(`Transition`,`TransitionRun`),transitionstart:makePrefixMap(`Transition`,`TransitionStart`),transitioncancel:makePrefixMap(`Transition`,`TransitionCancel`),transitionend:makePrefixMap(`Transition`,`TransitionEnd`)},prefixedEventNames={},style={};canUseDOM&&(style=document.createElement(`div`).style,`AnimationEvent`in window||(delete vendorPrefixes.animationend.animation,delete vendorPrefixes.animationiteration.animation,delete vendorPrefixes.animationstart.animation),`TransitionEvent`in window||delete vendorPrefixes.transitionend.transition);function getVendorPrefixedEventName(eventName){if(prefixedEventNames[eventName])return prefixedEventNames[eventName];if(!vendorPrefixes[eventName])return eventName;var prefixMap=vendorPrefixes[eventName],styleProp;for(styleProp in prefixMap)if(prefixMap.hasOwnProperty(styleProp)&&styleProp in style)return prefixedEventNames[eventName]=prefixMap[styleProp];return eventName}var ANIMATION_END=getVendorPrefixedEventName(`animationend`),ANIMATION_ITERATION=getVendorPrefixedEventName(`animationiteration`),ANIMATION_START=getVendorPrefixedEventName(`animationstart`),TRANSITION_RUN=getVendorPrefixedEventName(`transitionrun`),TRANSITION_START=getVendorPrefixedEventName(`transitionstart`),TRANSITION_CANCEL=getVendorPrefixedEventName(`transitioncancel`),TRANSITION_END=getVendorPrefixedEventName(`transitionend`),topLevelEventsToReactNames=new Map,simpleEventPluginEvents=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);simpleEventPluginEvents.push(`scrollEnd`);function registerSimpleEvent(domEventName,reactName){topLevelEventsToReactNames.set(domEventName,reactName),registerTwoPhaseEvent(reactName,[domEventName])}var reportGlobalError=typeof reportError==`function`?reportError:function(error){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var event=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof error==`object`&&error&&typeof error.message==`string`?String(error.message):String(error),error});if(!window.dispatchEvent(event))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,error);return}console.error(error)},concurrentQueues=[],concurrentQueuesIndex=0,concurrentlyUpdatedLanes=0;function finishQueueingConcurrentUpdates(){for(var endIndex=concurrentQueuesIndex,i$3=concurrentlyUpdatedLanes=concurrentQueuesIndex=0;i$3<endIndex;){var fiber=concurrentQueues[i$3];concurrentQueues[i$3++]=null;var queue=concurrentQueues[i$3];concurrentQueues[i$3++]=null;var update=concurrentQueues[i$3];concurrentQueues[i$3++]=null;var lane=concurrentQueues[i$3];if(concurrentQueues[i$3++]=null,queue!==null&&update!==null){var pending=queue.pending;pending===null?update.next=update:(update.next=pending.next,pending.next=update),queue.pending=update}lane!==0&&markUpdateLaneFromFiberToRoot(fiber,update,lane)}}function enqueueUpdate$1(fiber,queue,update,lane){concurrentQueues[concurrentQueuesIndex++]=fiber,concurrentQueues[concurrentQueuesIndex++]=queue,concurrentQueues[concurrentQueuesIndex++]=update,concurrentQueues[concurrentQueuesIndex++]=lane,concurrentlyUpdatedLanes|=lane,fiber.lanes|=lane,fiber=fiber.alternate,fiber!==null&&(fiber.lanes|=lane)}function enqueueConcurrentHookUpdate(fiber,queue,update,lane){return enqueueUpdate$1(fiber,queue,update,lane),getRootForUpdatedFiber(fiber)}function enqueueConcurrentRenderForLane(fiber,lane){return enqueueUpdate$1(fiber,null,null,lane),getRootForUpdatedFiber(fiber)}function markUpdateLaneFromFiberToRoot(sourceFiber,update,lane){sourceFiber.lanes|=lane;var alternate=sourceFiber.alternate;alternate!==null&&(alternate.lanes|=lane);for(var isHidden=!1,parent=sourceFiber.return;parent!==null;)parent.childLanes|=lane,alternate=parent.alternate,alternate!==null&&(alternate.childLanes|=lane),parent.tag===22&&(sourceFiber=parent.stateNode,sourceFiber===null||sourceFiber._visibility&1||(isHidden=!0)),sourceFiber=parent,parent=parent.return;return sourceFiber.tag===3?(parent=sourceFiber.stateNode,isHidden&&update!==null&&(isHidden=31-clz32(lane),sourceFiber=parent.hiddenUpdates,alternate=sourceFiber[isHidden],alternate===null?sourceFiber[isHidden]=[update]:alternate.push(update),update.lane=lane|536870912),parent):null}function getRootForUpdatedFiber(sourceFiber){if(50<nestedUpdateCount)throw nestedUpdateCount=0,rootWithNestedUpdates=null,Error(formatProdErrorMessage(185));for(var parent=sourceFiber.return;parent!==null;)sourceFiber=parent,parent=sourceFiber.return;return sourceFiber.tag===3?sourceFiber.stateNode:null}var emptyContextObject={};function FiberNode(tag,pendingProps,key,mode){this.tag=tag,this.key=key,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=pendingProps,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=mode,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function createFiberImplClass(tag,pendingProps,key,mode){return new FiberNode(tag,pendingProps,key,mode)}function shouldConstruct(Component$1){return Component$1=Component$1.prototype,!(!Component$1||!Component$1.isReactComponent)}function createWorkInProgress(current,pendingProps){var workInProgress$1=current.alternate;return workInProgress$1===null?(workInProgress$1=createFiberImplClass(current.tag,pendingProps,current.key,current.mode),workInProgress$1.elementType=current.elementType,workInProgress$1.type=current.type,workInProgress$1.stateNode=current.stateNode,workInProgress$1.alternate=current,current.alternate=workInProgress$1):(workInProgress$1.pendingProps=pendingProps,workInProgress$1.type=current.type,workInProgress$1.flags=0,workInProgress$1.subtreeFlags=0,workInProgress$1.deletions=null),workInProgress$1.flags=current.flags&65011712,workInProgress$1.childLanes=current.childLanes,workInProgress$1.lanes=current.lanes,workInProgress$1.child=current.child,workInProgress$1.memoizedProps=current.memoizedProps,workInProgress$1.memoizedState=current.memoizedState,workInProgress$1.updateQueue=current.updateQueue,pendingProps=current.dependencies,workInProgress$1.dependencies=pendingProps===null?null:{lanes:pendingProps.lanes,firstContext:pendingProps.firstContext},workInProgress$1.sibling=current.sibling,workInProgress$1.index=current.index,workInProgress$1.ref=current.ref,workInProgress$1.refCleanup=current.refCleanup,workInProgress$1}function resetWorkInProgress(workInProgress$1,renderLanes$1){workInProgress$1.flags&=65011714;var current=workInProgress$1.alternate;return current===null?(workInProgress$1.childLanes=0,workInProgress$1.lanes=renderLanes$1,workInProgress$1.child=null,workInProgress$1.subtreeFlags=0,workInProgress$1.memoizedProps=null,workInProgress$1.memoizedState=null,workInProgress$1.updateQueue=null,workInProgress$1.dependencies=null,workInProgress$1.stateNode=null):(workInProgress$1.childLanes=current.childLanes,workInProgress$1.lanes=current.lanes,workInProgress$1.child=current.child,workInProgress$1.subtreeFlags=0,workInProgress$1.deletions=null,workInProgress$1.memoizedProps=current.memoizedProps,workInProgress$1.memoizedState=current.memoizedState,workInProgress$1.updateQueue=current.updateQueue,workInProgress$1.type=current.type,renderLanes$1=current.dependencies,workInProgress$1.dependencies=renderLanes$1===null?null:{lanes:renderLanes$1.lanes,firstContext:renderLanes$1.firstContext}),workInProgress$1}function createFiberFromTypeAndProps(type,key,pendingProps,owner,mode,lanes){var fiberTag=0;if(owner=type,typeof type==`function`)shouldConstruct(type)&&(fiberTag=1);else if(typeof type==`string`)fiberTag=isHostHoistableType(type,pendingProps,contextStackCursor.current)?26:type===`html`||type===`head`||type===`body`?27:5;else a:switch(type){case REACT_ACTIVITY_TYPE:return type=createFiberImplClass(31,pendingProps,key,mode),type.elementType=REACT_ACTIVITY_TYPE,type.lanes=lanes,type;case REACT_FRAGMENT_TYPE$1:return createFiberFromFragment(pendingProps.children,mode,lanes,key);case REACT_STRICT_MODE_TYPE:fiberTag=8,mode|=24;break;case REACT_PROFILER_TYPE:return type=createFiberImplClass(12,pendingProps,key,mode|2),type.elementType=REACT_PROFILER_TYPE,type.lanes=lanes,type;case REACT_SUSPENSE_TYPE:return type=createFiberImplClass(13,pendingProps,key,mode),type.elementType=REACT_SUSPENSE_TYPE,type.lanes=lanes,type;case REACT_SUSPENSE_LIST_TYPE:return type=createFiberImplClass(19,pendingProps,key,mode),type.elementType=REACT_SUSPENSE_LIST_TYPE,type.lanes=lanes,type;default:if(typeof type==`object`&&type)switch(type.$$typeof){case REACT_CONTEXT_TYPE:fiberTag=10;break a;case REACT_CONSUMER_TYPE:fiberTag=9;break a;case REACT_FORWARD_REF_TYPE:fiberTag=11;break a;case REACT_MEMO_TYPE:fiberTag=14;break a;case REACT_LAZY_TYPE:fiberTag=16,owner=null;break a}fiberTag=29,pendingProps=Error(formatProdErrorMessage(130,type===null?`null`:typeof type,``)),owner=null}return key=createFiberImplClass(fiberTag,pendingProps,key,mode),key.elementType=type,key.type=owner,key.lanes=lanes,key}function createFiberFromFragment(elements,mode,lanes,key){return elements=createFiberImplClass(7,elements,key,mode),elements.lanes=lanes,elements}function createFiberFromText(content,mode,lanes){return content=createFiberImplClass(6,content,null,mode),content.lanes=lanes,content}function createFiberFromDehydratedFragment(dehydratedNode){var fiber=createFiberImplClass(18,null,null,0);return fiber.stateNode=dehydratedNode,fiber}function createFiberFromPortal(portal,mode,lanes){return mode=createFiberImplClass(4,portal.children===null?[]:portal.children,portal.key,mode),mode.lanes=lanes,mode.stateNode={containerInfo:portal.containerInfo,pendingChildren:null,implementation:portal.implementation},mode}var CapturedStacks=new WeakMap;function createCapturedValueAtFiber(value,source){if(typeof value==`object`&&value){var existing=CapturedStacks.get(value);return existing===void 0?(source={value,source,stack:getStackByFiberInDevAndProd(source)},CapturedStacks.set(value,source),source):existing}return{value,source,stack:getStackByFiberInDevAndProd(source)}}var forkStack=[],forkStackIndex=0,treeForkProvider=null,treeForkCount=0,idStack=[],idStackIndex=0,treeContextProvider=null,treeContextId=1,treeContextOverflow=``;function pushTreeFork(workInProgress$1,totalChildren){forkStack[forkStackIndex++]=treeForkCount,forkStack[forkStackIndex++]=treeForkProvider,treeForkProvider=workInProgress$1,treeForkCount=totalChildren}function pushTreeId(workInProgress$1,totalChildren,index$1){idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextProvider=workInProgress$1;var baseIdWithLeadingBit=treeContextId;workInProgress$1=treeContextOverflow;var baseLength=32-clz32(baseIdWithLeadingBit)-1;baseIdWithLeadingBit&=~(1<<baseLength),index$1+=1;var length=32-clz32(totalChildren)+baseLength;if(30<length){var numberOfOverflowBits=baseLength-baseLength%5;length=(baseIdWithLeadingBit&(1<<numberOfOverflowBits)-1).toString(32),baseIdWithLeadingBit>>=numberOfOverflowBits,baseLength-=numberOfOverflowBits,treeContextId=1<<32-clz32(totalChildren)+baseLength|index$1<<baseLength|baseIdWithLeadingBit,treeContextOverflow=length+workInProgress$1}else treeContextId=1<<length|index$1<<baseLength|baseIdWithLeadingBit,treeContextOverflow=workInProgress$1}function pushMaterializedTreeId(workInProgress$1){workInProgress$1.return!==null&&(pushTreeFork(workInProgress$1,1),pushTreeId(workInProgress$1,1,0))}function popTreeContext(workInProgress$1){for(;workInProgress$1===treeForkProvider;)treeForkProvider=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null,treeForkCount=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null;for(;workInProgress$1===treeContextProvider;)treeContextProvider=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextOverflow=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextId=idStack[--idStackIndex],idStack[idStackIndex]=null}function restoreSuspendedTreeContext(workInProgress$1,suspendedContext){idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextId=suspendedContext.id,treeContextOverflow=suspendedContext.overflow,treeContextProvider=workInProgress$1}var hydrationParentFiber=null,nextHydratableInstance=null,isHydrating=!1,hydrationErrors=null,rootOrSingletonContext=!1,HydrationMismatchException=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(fiber){var error=Error(formatProdErrorMessage(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``));throw queueHydrationError(createCapturedValueAtFiber(error,fiber)),HydrationMismatchException}function prepareToHydrateHostInstance(fiber){var instance=fiber.stateNode,type=fiber.type,props=fiber.memoizedProps;switch(instance[internalInstanceKey]=fiber,instance[internalPropsKey]=props,type){case`dialog`:listenToNonDelegatedEvent(`cancel`,instance),listenToNonDelegatedEvent(`close`,instance);break;case`iframe`:case`object`:case`embed`:listenToNonDelegatedEvent(`load`,instance);break;case`video`:case`audio`:for(type=0;type<mediaEventTypes.length;type++)listenToNonDelegatedEvent(mediaEventTypes[type],instance);break;case`source`:listenToNonDelegatedEvent(`error`,instance);break;case`img`:case`image`:case`link`:listenToNonDelegatedEvent(`error`,instance),listenToNonDelegatedEvent(`load`,instance);break;case`details`:listenToNonDelegatedEvent(`toggle`,instance);break;case`input`:listenToNonDelegatedEvent(`invalid`,instance),initInput(instance,props.value,props.defaultValue,props.checked,props.defaultChecked,props.type,props.name,!0);break;case`select`:listenToNonDelegatedEvent(`invalid`,instance);break;case`textarea`:listenToNonDelegatedEvent(`invalid`,instance),initTextarea(instance,props.value,props.defaultValue,props.children)}type=props.children,typeof type!=`string`&&typeof type!=`number`&&typeof type!=`bigint`||instance.textContent===``+type||!0===props.suppressHydrationWarning||checkForUnmatchedText(instance.textContent,type)?(props.popover!=null&&(listenToNonDelegatedEvent(`beforetoggle`,instance),listenToNonDelegatedEvent(`toggle`,instance)),props.onScroll!=null&&listenToNonDelegatedEvent(`scroll`,instance),props.onScrollEnd!=null&&listenToNonDelegatedEvent(`scrollend`,instance),props.onClick!=null&&(instance.onclick=noop$1),instance=!0):instance=!1,instance||throwOnHydrationMismatch(fiber,!0)}function popToNextHostParent(fiber){for(hydrationParentFiber=fiber.return;hydrationParentFiber;)switch(hydrationParentFiber.tag){case 5:case 31:case 13:rootOrSingletonContext=!1;return;case 27:case 3:rootOrSingletonContext=!0;return;default:hydrationParentFiber=hydrationParentFiber.return}}function popHydrationState(fiber){if(fiber!==hydrationParentFiber)return!1;if(!isHydrating)return popToNextHostParent(fiber),isHydrating=!0,!1;var tag=fiber.tag,JSCompiler_temp;if((JSCompiler_temp=tag!==3&&tag!==27)&&((JSCompiler_temp=tag===5)&&(JSCompiler_temp=fiber.type,JSCompiler_temp=!(JSCompiler_temp!==`form`&&JSCompiler_temp!==`button`)||shouldSetTextContent(fiber.type,fiber.memoizedProps)),JSCompiler_temp=!JSCompiler_temp),JSCompiler_temp&&nextHydratableInstance&&throwOnHydrationMismatch(fiber),popToNextHostParent(fiber),tag===13){if(fiber=fiber.memoizedState,fiber=fiber===null?null:fiber.dehydrated,!fiber)throw Error(formatProdErrorMessage(317));nextHydratableInstance=getNextHydratableInstanceAfterHydrationBoundary(fiber)}else if(tag===31){if(fiber=fiber.memoizedState,fiber=fiber===null?null:fiber.dehydrated,!fiber)throw Error(formatProdErrorMessage(317));nextHydratableInstance=getNextHydratableInstanceAfterHydrationBoundary(fiber)}else tag===27?(tag=nextHydratableInstance,isSingletonScope(fiber.type)?(fiber=previousHydratableOnEnteringScopedSingleton,previousHydratableOnEnteringScopedSingleton=null,nextHydratableInstance=fiber):nextHydratableInstance=tag):nextHydratableInstance=hydrationParentFiber?getNextHydratable(fiber.stateNode.nextSibling):null;return!0}function resetHydrationState(){nextHydratableInstance=hydrationParentFiber=null,isHydrating=!1}function upgradeHydrationErrorsToRecoverable(){var queuedErrors=hydrationErrors;return queuedErrors!==null&&(workInProgressRootRecoverableErrors===null?workInProgressRootRecoverableErrors=queuedErrors:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,queuedErrors),hydrationErrors=null),queuedErrors}function queueHydrationError(error){hydrationErrors===null?hydrationErrors=[error]:hydrationErrors.push(error)}var valueCursor=createCursor(null),currentlyRenderingFiber$1=null,lastContextDependency=null;function pushProvider(providerFiber,context,nextValue){push(valueCursor,context._currentValue),context._currentValue=nextValue}function popProvider(context){context._currentValue=valueCursor.current,pop(valueCursor)}function scheduleContextWorkOnParentPath(parent,renderLanes$1,propagationRoot){for(;parent!==null;){var alternate=parent.alternate;if((parent.childLanes&renderLanes$1)===renderLanes$1?alternate!==null&&(alternate.childLanes&renderLanes$1)!==renderLanes$1&&(alternate.childLanes|=renderLanes$1):(parent.childLanes|=renderLanes$1,alternate!==null&&(alternate.childLanes|=renderLanes$1)),parent===propagationRoot)break;parent=parent.return}}function propagateContextChanges(workInProgress$1,contexts,renderLanes$1,forcePropagateEntireTree){var fiber=workInProgress$1.child;for(fiber!==null&&(fiber.return=workInProgress$1);fiber!==null;){var list=fiber.dependencies;if(list!==null){var nextFiber=fiber.child;list=list.firstContext;a:for(;list!==null;){var dependency=list;list=fiber;for(var i$3=0;i$3<contexts.length;i$3++)if(dependency.context===contexts[i$3]){list.lanes|=renderLanes$1,dependency=list.alternate,dependency!==null&&(dependency.lanes|=renderLanes$1),scheduleContextWorkOnParentPath(list.return,renderLanes$1,workInProgress$1),forcePropagateEntireTree||(nextFiber=null);break a}list=dependency.next}}else if(fiber.tag===18){if(nextFiber=fiber.return,nextFiber===null)throw Error(formatProdErrorMessage(341));nextFiber.lanes|=renderLanes$1,list=nextFiber.alternate,list!==null&&(list.lanes|=renderLanes$1),scheduleContextWorkOnParentPath(nextFiber,renderLanes$1,workInProgress$1),nextFiber=null}else nextFiber=fiber.child;if(nextFiber!==null)nextFiber.return=fiber;else for(nextFiber=fiber;nextFiber!==null;){if(nextFiber===workInProgress$1){nextFiber=null;break}if(fiber=nextFiber.sibling,fiber!==null){fiber.return=nextFiber.return,nextFiber=fiber;break}nextFiber=nextFiber.return}fiber=nextFiber}}function propagateParentContextChanges(current,workInProgress$1,renderLanes$1,forcePropagateEntireTree){current=null;for(var parent=workInProgress$1,isInsidePropagationBailout=!1;parent!==null;){if(!isInsidePropagationBailout){if(parent.flags&524288)isInsidePropagationBailout=!0;else if(parent.flags&262144)break}if(parent.tag===10){var currentParent=parent.alternate;if(currentParent===null)throw Error(formatProdErrorMessage(387));if(currentParent=currentParent.memoizedProps,currentParent!==null){var context=parent.type;objectIs(parent.pendingProps.value,currentParent.value)||(current===null?current=[context]:current.push(context))}}else if(parent===hostTransitionProviderCursor.current){if(currentParent=parent.alternate,currentParent===null)throw Error(formatProdErrorMessage(387));currentParent.memoizedState.memoizedState!==parent.memoizedState.memoizedState&&(current===null?current=[HostTransitionContext]:current.push(HostTransitionContext))}parent=parent.return}current!==null&&propagateContextChanges(workInProgress$1,current,renderLanes$1,forcePropagateEntireTree),workInProgress$1.flags|=262144}function checkIfContextChanged(currentDependencies){for(currentDependencies=currentDependencies.firstContext;currentDependencies!==null;){if(!objectIs(currentDependencies.context._currentValue,currentDependencies.memoizedValue))return!0;currentDependencies=currentDependencies.next}return!1}function prepareToReadContext(workInProgress$1){currentlyRenderingFiber$1=workInProgress$1,lastContextDependency=null,workInProgress$1=workInProgress$1.dependencies,workInProgress$1!==null&&(workInProgress$1.firstContext=null)}function readContext(context){return readContextForConsumer(currentlyRenderingFiber$1,context)}function readContextDuringReconciliation(consumer,context){return currentlyRenderingFiber$1===null&&prepareToReadContext(consumer),readContextForConsumer(consumer,context)}function readContextForConsumer(consumer,context){var value=context._currentValue;if(context={context,memoizedValue:value,next:null},lastContextDependency===null){if(consumer===null)throw Error(formatProdErrorMessage(308));lastContextDependency=context,consumer.dependencies={lanes:0,firstContext:context},consumer.flags|=524288}else lastContextDependency=lastContextDependency.next=context;return value}var AbortControllerLocal=typeof AbortController<`u`?AbortController:function(){var listeners=[],signal=this.signal={aborted:!1,addEventListener:function(type,listener){listeners.push(listener)}};this.abort=function(){signal.aborted=!0,listeners.forEach(function(listener){return listener()})}},scheduleCallback$2=Scheduler.unstable_scheduleCallback,NormalPriority=Scheduler.unstable_NormalPriority,CacheContext={$$typeof:REACT_CONTEXT_TYPE,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache(){return{controller:new AbortControllerLocal,data:new Map,refCount:0}}function releaseCache(cache){cache.refCount--,cache.refCount===0&&scheduleCallback$2(NormalPriority,function(){cache.controller.abort()})}var currentEntangledListeners=null,currentEntangledPendingCount=0,currentEntangledLane=0,currentEntangledActionThenable=null;function entangleAsyncAction(transition,thenable){if(currentEntangledListeners===null){var entangledListeners=currentEntangledListeners=[];currentEntangledPendingCount=0,currentEntangledLane=requestTransitionLane(),currentEntangledActionThenable={status:`pending`,value:void 0,then:function(resolve){entangledListeners.push(resolve)}}}return currentEntangledPendingCount++,thenable.then(pingEngtangledActionScope,pingEngtangledActionScope),thenable}function pingEngtangledActionScope(){if(--currentEntangledPendingCount===0&&currentEntangledListeners!==null){currentEntangledActionThenable!==null&&(currentEntangledActionThenable.status=`fulfilled`);var listeners=currentEntangledListeners;currentEntangledListeners=null,currentEntangledLane=0,currentEntangledActionThenable=null;for(var i$3=0;i$3<listeners.length;i$3++)(0,listeners[i$3])()}}function chainThenableValue(thenable,result){var listeners=[],thenableWithOverride={status:`pending`,value:null,reason:null,then:function(resolve){listeners.push(resolve)}};return thenable.then(function(){thenableWithOverride.status=`fulfilled`,thenableWithOverride.value=result;for(var i$3=0;i$3<listeners.length;i$3++)(0,listeners[i$3])(result)},function(error){for(thenableWithOverride.status=`rejected`,thenableWithOverride.reason=error,error=0;error<listeners.length;error++)(0,listeners[error])(void 0)}),thenableWithOverride}var prevOnStartTransitionFinish=ReactSharedInternals.S;ReactSharedInternals.S=function(transition,returnValue){globalMostRecentTransitionTime=now(),typeof returnValue==`object`&&returnValue&&typeof returnValue.then==`function`&&entangleAsyncAction(transition,returnValue),prevOnStartTransitionFinish!==null&&prevOnStartTransitionFinish(transition,returnValue)};var resumedCache=createCursor(null);function peekCacheFromPool(){var cacheResumedFromPreviousRender=resumedCache.current;return cacheResumedFromPreviousRender===null?workInProgressRoot.pooledCache:cacheResumedFromPreviousRender}function pushTransition(offscreenWorkInProgress,prevCachePool){prevCachePool===null?push(resumedCache,resumedCache.current):push(resumedCache,prevCachePool.pool)}function getSuspendedCache(){var cacheFromPool=peekCacheFromPool();return cacheFromPool===null?null:{parent:CacheContext._currentValue,pool:cacheFromPool}}var SuspenseException=Error(formatProdErrorMessage(460)),SuspenseyCommitException=Error(formatProdErrorMessage(474)),SuspenseActionException=Error(formatProdErrorMessage(542)),noopSuspenseyCommitThenable={then:function(){}};function isThenableResolved(thenable){return thenable=thenable.status,thenable===`fulfilled`||thenable===`rejected`}function trackUsedThenable(thenableState$2,thenable,index$1){switch(index$1=thenableState$2[index$1],index$1===void 0?thenableState$2.push(thenable):index$1!==thenable&&(thenable.then(noop$1,noop$1),thenable=index$1),thenable.status){case`fulfilled`:return thenable.value;case`rejected`:throw thenableState$2=thenable.reason,checkIfUseWrappedInAsyncCatch(thenableState$2),thenableState$2;default:if(typeof thenable.status==`string`)thenable.then(noop$1,noop$1);else{if(thenableState$2=workInProgressRoot,thenableState$2!==null&&100<thenableState$2.shellSuspendCounter)throw Error(formatProdErrorMessage(482));thenableState$2=thenable,thenableState$2.status=`pending`,thenableState$2.then(function(fulfilledValue){if(thenable.status===`pending`){var fulfilledThenable=thenable;fulfilledThenable.status=`fulfilled`,fulfilledThenable.value=fulfilledValue}},function(error){if(thenable.status===`pending`){var rejectedThenable=thenable;rejectedThenable.status=`rejected`,rejectedThenable.reason=error}})}switch(thenable.status){case`fulfilled`:return thenable.value;case`rejected`:throw thenableState$2=thenable.reason,checkIfUseWrappedInAsyncCatch(thenableState$2),thenableState$2}throw suspendedThenable=thenable,SuspenseException}}function resolveLazy(lazyType){try{var init=lazyType._init;return init(lazyType._payload)}catch(x$2){throw typeof x$2==`object`&&x$2&&typeof x$2.then==`function`?(suspendedThenable=x$2,SuspenseException):x$2}}var suspendedThenable=null;function getSuspendedThenable(){if(suspendedThenable===null)throw Error(formatProdErrorMessage(459));var thenable=suspendedThenable;return suspendedThenable=null,thenable}function checkIfUseWrappedInAsyncCatch(rejectedReason){if(rejectedReason===SuspenseException||rejectedReason===SuspenseActionException)throw Error(formatProdErrorMessage(483))}var thenableState$1=null,thenableIndexCounter$1=0;function unwrapThenable(thenable){var index$1=thenableIndexCounter$1;return thenableIndexCounter$1+=1,thenableState$1===null&&(thenableState$1=[]),trackUsedThenable(thenableState$1,thenable,index$1)}function coerceRef(workInProgress$1,element){element=element.props.ref,workInProgress$1.ref=element===void 0?null:element}function throwOnInvalidObjectTypeImpl(returnFiber,newChild){throw newChild.$$typeof===REACT_LEGACY_ELEMENT_TYPE?Error(formatProdErrorMessage(525)):(returnFiber=Object.prototype.toString.call(newChild),Error(formatProdErrorMessage(31,returnFiber===`[object Object]`?`object with keys {`+Object.keys(newChild).join(`, `)+`}`:returnFiber)))}function createChildReconciler(shouldTrackSideEffects){function deleteChild(returnFiber,childToDelete){if(shouldTrackSideEffects){var deletions=returnFiber.deletions;deletions===null?(returnFiber.deletions=[childToDelete],returnFiber.flags|=16):deletions.push(childToDelete)}}function deleteRemainingChildren(returnFiber,currentFirstChild){if(!shouldTrackSideEffects)return null;for(;currentFirstChild!==null;)deleteChild(returnFiber,currentFirstChild),currentFirstChild=currentFirstChild.sibling;return null}function mapRemainingChildren(currentFirstChild){for(var existingChildren=new Map;currentFirstChild!==null;)currentFirstChild.key===null?existingChildren.set(currentFirstChild.index,currentFirstChild):existingChildren.set(currentFirstChild.key,currentFirstChild),currentFirstChild=currentFirstChild.sibling;return existingChildren}function useFiber(fiber,pendingProps){return fiber=createWorkInProgress(fiber,pendingProps),fiber.index=0,fiber.sibling=null,fiber}function placeChild(newFiber,lastPlacedIndex,newIndex){return newFiber.index=newIndex,shouldTrackSideEffects?(newIndex=newFiber.alternate,newIndex===null?(newFiber.flags|=67108866,lastPlacedIndex):(newIndex=newIndex.index,newIndex<lastPlacedIndex?(newFiber.flags|=67108866,lastPlacedIndex):newIndex)):(newFiber.flags|=1048576,lastPlacedIndex)}function placeSingleChild(newFiber){return shouldTrackSideEffects&&newFiber.alternate===null&&(newFiber.flags|=67108866),newFiber}function updateTextNode(returnFiber,current,textContent,lanes){return current===null||current.tag!==6?(current=createFiberFromText(textContent,returnFiber.mode,lanes),current.return=returnFiber,current):(current=useFiber(current,textContent),current.return=returnFiber,current)}function updateElement(returnFiber,current,element,lanes){var elementType=element.type;return elementType===REACT_FRAGMENT_TYPE$1?updateFragment(returnFiber,current,element.props.children,lanes,element.key):current!==null&&(current.elementType===elementType||typeof elementType==`object`&&elementType&&elementType.$$typeof===REACT_LAZY_TYPE&&resolveLazy(elementType)===current.type)?(current=useFiber(current,element.props),coerceRef(current,element),current.return=returnFiber,current):(current=createFiberFromTypeAndProps(element.type,element.key,element.props,null,returnFiber.mode,lanes),coerceRef(current,element),current.return=returnFiber,current)}function updatePortal(returnFiber,current,portal,lanes){return current===null||current.tag!==4||current.stateNode.containerInfo!==portal.containerInfo||current.stateNode.implementation!==portal.implementation?(current=createFiberFromPortal(portal,returnFiber.mode,lanes),current.return=returnFiber,current):(current=useFiber(current,portal.children||[]),current.return=returnFiber,current)}function updateFragment(returnFiber,current,fragment,lanes,key){return current===null||current.tag!==7?(current=createFiberFromFragment(fragment,returnFiber.mode,lanes,key),current.return=returnFiber,current):(current=useFiber(current,fragment),current.return=returnFiber,current)}function createChild(returnFiber,newChild,lanes){if(typeof newChild==`string`&&newChild!==``||typeof newChild==`number`||typeof newChild==`bigint`)return newChild=createFiberFromText(``+newChild,returnFiber.mode,lanes),newChild.return=returnFiber,newChild;if(typeof newChild==`object`&&newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE$1:return lanes=createFiberFromTypeAndProps(newChild.type,newChild.key,newChild.props,null,returnFiber.mode,lanes),coerceRef(lanes,newChild),lanes.return=returnFiber,lanes;case REACT_PORTAL_TYPE:return newChild=createFiberFromPortal(newChild,returnFiber.mode,lanes),newChild.return=returnFiber,newChild;case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),createChild(returnFiber,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return newChild=createFiberFromFragment(newChild,returnFiber.mode,lanes,null),newChild.return=returnFiber,newChild;if(typeof newChild.then==`function`)return createChild(returnFiber,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return createChild(returnFiber,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function updateSlot(returnFiber,oldFiber,newChild,lanes){var key=oldFiber===null?null:oldFiber.key;if(typeof newChild==`string`&&newChild!==``||typeof newChild==`number`||typeof newChild==`bigint`)return key===null?updateTextNode(returnFiber,oldFiber,``+newChild,lanes):null;if(typeof newChild==`object`&&newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE$1:return newChild.key===key?updateElement(returnFiber,oldFiber,newChild,lanes):null;case REACT_PORTAL_TYPE:return newChild.key===key?updatePortal(returnFiber,oldFiber,newChild,lanes):null;case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),updateSlot(returnFiber,oldFiber,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return key===null?updateFragment(returnFiber,oldFiber,newChild,lanes,null):null;if(typeof newChild.then==`function`)return updateSlot(returnFiber,oldFiber,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return updateSlot(returnFiber,oldFiber,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function updateFromMap(existingChildren,returnFiber,newIdx,newChild,lanes){if(typeof newChild==`string`&&newChild!==``||typeof newChild==`number`||typeof newChild==`bigint`)return existingChildren=existingChildren.get(newIdx)||null,updateTextNode(returnFiber,existingChildren,``+newChild,lanes);if(typeof newChild==`object`&&newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE$1:return existingChildren=existingChildren.get(newChild.key===null?newIdx:newChild.key)||null,updateElement(returnFiber,existingChildren,newChild,lanes);case REACT_PORTAL_TYPE:return existingChildren=existingChildren.get(newChild.key===null?newIdx:newChild.key)||null,updatePortal(returnFiber,existingChildren,newChild,lanes);case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),updateFromMap(existingChildren,returnFiber,newIdx,newChild,lanes)}if(isArrayImpl(newChild)||getIteratorFn(newChild))return existingChildren=existingChildren.get(newIdx)||null,updateFragment(returnFiber,existingChildren,newChild,lanes,null);if(typeof newChild.then==`function`)return updateFromMap(existingChildren,returnFiber,newIdx,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return updateFromMap(existingChildren,returnFiber,newIdx,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return null}function reconcileChildrenArray(returnFiber,currentFirstChild,newChildren,lanes){for(var resultingFirstChild=null,previousNewFiber=null,oldFiber=currentFirstChild,newIdx=currentFirstChild=0,nextOldFiber=null;oldFiber!==null&&newIdx<newChildren.length;newIdx++){oldFiber.index>newIdx?(nextOldFiber=oldFiber,oldFiber=null):nextOldFiber=oldFiber.sibling;var newFiber=updateSlot(returnFiber,oldFiber,newChildren[newIdx],lanes);if(newFiber===null){oldFiber===null&&(oldFiber=nextOldFiber);break}shouldTrackSideEffects&&oldFiber&&newFiber.alternate===null&&deleteChild(returnFiber,oldFiber),currentFirstChild=placeChild(newFiber,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=newFiber:previousNewFiber.sibling=newFiber,previousNewFiber=newFiber,oldFiber=nextOldFiber}if(newIdx===newChildren.length)return deleteRemainingChildren(returnFiber,oldFiber),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild;if(oldFiber===null){for(;newIdx<newChildren.length;newIdx++)oldFiber=createChild(returnFiber,newChildren[newIdx],lanes),oldFiber!==null&&(currentFirstChild=placeChild(oldFiber,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=oldFiber:previousNewFiber.sibling=oldFiber,previousNewFiber=oldFiber);return isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild}for(oldFiber=mapRemainingChildren(oldFiber);newIdx<newChildren.length;newIdx++)nextOldFiber=updateFromMap(oldFiber,returnFiber,newIdx,newChildren[newIdx],lanes),nextOldFiber!==null&&(shouldTrackSideEffects&&nextOldFiber.alternate!==null&&oldFiber.delete(nextOldFiber.key===null?newIdx:nextOldFiber.key),currentFirstChild=placeChild(nextOldFiber,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=nextOldFiber:previousNewFiber.sibling=nextOldFiber,previousNewFiber=nextOldFiber);return shouldTrackSideEffects&&oldFiber.forEach(function(child){return deleteChild(returnFiber,child)}),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild}function reconcileChildrenIterator(returnFiber,currentFirstChild,newChildren,lanes){if(newChildren==null)throw Error(formatProdErrorMessage(151));for(var resultingFirstChild=null,previousNewFiber=null,oldFiber=currentFirstChild,newIdx=currentFirstChild=0,nextOldFiber=null,step=newChildren.next();oldFiber!==null&&!step.done;newIdx++,step=newChildren.next()){oldFiber.index>newIdx?(nextOldFiber=oldFiber,oldFiber=null):nextOldFiber=oldFiber.sibling;var newFiber=updateSlot(returnFiber,oldFiber,step.value,lanes);if(newFiber===null){oldFiber===null&&(oldFiber=nextOldFiber);break}shouldTrackSideEffects&&oldFiber&&newFiber.alternate===null&&deleteChild(returnFiber,oldFiber),currentFirstChild=placeChild(newFiber,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=newFiber:previousNewFiber.sibling=newFiber,previousNewFiber=newFiber,oldFiber=nextOldFiber}if(step.done)return deleteRemainingChildren(returnFiber,oldFiber),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild;if(oldFiber===null){for(;!step.done;newIdx++,step=newChildren.next())step=createChild(returnFiber,step.value,lanes),step!==null&&(currentFirstChild=placeChild(step,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=step:previousNewFiber.sibling=step,previousNewFiber=step);return isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild}for(oldFiber=mapRemainingChildren(oldFiber);!step.done;newIdx++,step=newChildren.next())step=updateFromMap(oldFiber,returnFiber,newIdx,step.value,lanes),step!==null&&(shouldTrackSideEffects&&step.alternate!==null&&oldFiber.delete(step.key===null?newIdx:step.key),currentFirstChild=placeChild(step,currentFirstChild,newIdx),previousNewFiber===null?resultingFirstChild=step:previousNewFiber.sibling=step,previousNewFiber=step);return shouldTrackSideEffects&&oldFiber.forEach(function(child){return deleteChild(returnFiber,child)}),isHydrating&&pushTreeFork(returnFiber,newIdx),resultingFirstChild}function reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes){if(typeof newChild==`object`&&newChild&&newChild.type===REACT_FRAGMENT_TYPE$1&&newChild.key===null&&(newChild=newChild.props.children),typeof newChild==`object`&&newChild){switch(newChild.$$typeof){case REACT_ELEMENT_TYPE$1:a:{for(var key=newChild.key;currentFirstChild!==null;){if(currentFirstChild.key===key){if(key=newChild.type,key===REACT_FRAGMENT_TYPE$1){if(currentFirstChild.tag===7){deleteRemainingChildren(returnFiber,currentFirstChild.sibling),lanes=useFiber(currentFirstChild,newChild.props.children),lanes.return=returnFiber,returnFiber=lanes;break a}}else if(currentFirstChild.elementType===key||typeof key==`object`&&key&&key.$$typeof===REACT_LAZY_TYPE&&resolveLazy(key)===currentFirstChild.type){deleteRemainingChildren(returnFiber,currentFirstChild.sibling),lanes=useFiber(currentFirstChild,newChild.props),coerceRef(lanes,newChild),lanes.return=returnFiber,returnFiber=lanes;break a}deleteRemainingChildren(returnFiber,currentFirstChild);break}else deleteChild(returnFiber,currentFirstChild);currentFirstChild=currentFirstChild.sibling}newChild.type===REACT_FRAGMENT_TYPE$1?(lanes=createFiberFromFragment(newChild.props.children,returnFiber.mode,lanes,newChild.key),lanes.return=returnFiber,returnFiber=lanes):(lanes=createFiberFromTypeAndProps(newChild.type,newChild.key,newChild.props,null,returnFiber.mode,lanes),coerceRef(lanes,newChild),lanes.return=returnFiber,returnFiber=lanes)}return placeSingleChild(returnFiber);case REACT_PORTAL_TYPE:a:{for(key=newChild.key;currentFirstChild!==null;){if(currentFirstChild.key===key)if(currentFirstChild.tag===4&&currentFirstChild.stateNode.containerInfo===newChild.containerInfo&&currentFirstChild.stateNode.implementation===newChild.implementation){deleteRemainingChildren(returnFiber,currentFirstChild.sibling),lanes=useFiber(currentFirstChild,newChild.children||[]),lanes.return=returnFiber,returnFiber=lanes;break a}else{deleteRemainingChildren(returnFiber,currentFirstChild);break}else deleteChild(returnFiber,currentFirstChild);currentFirstChild=currentFirstChild.sibling}lanes=createFiberFromPortal(newChild,returnFiber.mode,lanes),lanes.return=returnFiber,returnFiber=lanes}return placeSingleChild(returnFiber);case REACT_LAZY_TYPE:return newChild=resolveLazy(newChild),reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes)}if(isArrayImpl(newChild))return reconcileChildrenArray(returnFiber,currentFirstChild,newChild,lanes);if(getIteratorFn(newChild)){if(key=getIteratorFn(newChild),typeof key!=`function`)throw Error(formatProdErrorMessage(150));return newChild=key.call(newChild),reconcileChildrenIterator(returnFiber,currentFirstChild,newChild,lanes)}if(typeof newChild.then==`function`)return reconcileChildFibersImpl(returnFiber,currentFirstChild,unwrapThenable(newChild),lanes);if(newChild.$$typeof===REACT_CONTEXT_TYPE)return reconcileChildFibersImpl(returnFiber,currentFirstChild,readContextDuringReconciliation(returnFiber,newChild),lanes);throwOnInvalidObjectTypeImpl(returnFiber,newChild)}return typeof newChild==`string`&&newChild!==``||typeof newChild==`number`||typeof newChild==`bigint`?(newChild=``+newChild,currentFirstChild!==null&&currentFirstChild.tag===6?(deleteRemainingChildren(returnFiber,currentFirstChild.sibling),lanes=useFiber(currentFirstChild,newChild),lanes.return=returnFiber,returnFiber=lanes):(deleteRemainingChildren(returnFiber,currentFirstChild),lanes=createFiberFromText(newChild,returnFiber.mode,lanes),lanes.return=returnFiber,returnFiber=lanes),placeSingleChild(returnFiber)):deleteRemainingChildren(returnFiber,currentFirstChild)}return function(returnFiber,currentFirstChild,newChild,lanes){try{thenableIndexCounter$1=0;var firstChildFiber=reconcileChildFibersImpl(returnFiber,currentFirstChild,newChild,lanes);return thenableState$1=null,firstChildFiber}catch(x$2){if(x$2===SuspenseException||x$2===SuspenseActionException)throw x$2;var fiber=createFiberImplClass(29,x$2,null,returnFiber.mode);return fiber.lanes=lanes,fiber.return=returnFiber,fiber}}}var reconcileChildFibers=createChildReconciler(!0),mountChildFibers=createChildReconciler(!1),hasForceUpdate=!1;function initializeUpdateQueue(fiber){fiber.updateQueue={baseState:fiber.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(current,workInProgress$1){current=current.updateQueue,workInProgress$1.updateQueue===current&&(workInProgress$1.updateQueue={baseState:current.baseState,firstBaseUpdate:current.firstBaseUpdate,lastBaseUpdate:current.lastBaseUpdate,shared:current.shared,callbacks:null})}function createUpdate(lane){return{lane,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(fiber,update,lane){var updateQueue=fiber.updateQueue;if(updateQueue===null)return null;if(updateQueue=updateQueue.shared,executionContext&2){var pending=updateQueue.pending;return pending===null?update.next=update:(update.next=pending.next,pending.next=update),updateQueue.pending=update,update=getRootForUpdatedFiber(fiber),markUpdateLaneFromFiberToRoot(fiber,null,lane),update}return enqueueUpdate$1(fiber,updateQueue,update,lane),getRootForUpdatedFiber(fiber)}function entangleTransitions(root$1,fiber,lane){if(fiber=fiber.updateQueue,fiber!==null&&(fiber=fiber.shared,lane&4194048)){var queueLanes=fiber.lanes;queueLanes&=root$1.pendingLanes,lane|=queueLanes,fiber.lanes=lane,markRootEntangled(root$1,lane)}}function enqueueCapturedUpdate(workInProgress$1,capturedUpdate){var queue=workInProgress$1.updateQueue,current=workInProgress$1.alternate;if(current!==null&&(current=current.updateQueue,queue===current)){var newFirst=null,newLast=null;if(queue=queue.firstBaseUpdate,queue!==null){do{var clone={lane:queue.lane,tag:queue.tag,payload:queue.payload,callback:null,next:null};newLast===null?newFirst=newLast=clone:newLast=newLast.next=clone,queue=queue.next}while(queue!==null);newLast===null?newFirst=newLast=capturedUpdate:newLast=newLast.next=capturedUpdate}else newFirst=newLast=capturedUpdate;queue={baseState:current.baseState,firstBaseUpdate:newFirst,lastBaseUpdate:newLast,shared:current.shared,callbacks:current.callbacks},workInProgress$1.updateQueue=queue;return}workInProgress$1=queue.lastBaseUpdate,workInProgress$1===null?queue.firstBaseUpdate=capturedUpdate:workInProgress$1.next=capturedUpdate,queue.lastBaseUpdate=capturedUpdate}var didReadFromEntangledAsyncAction=!1;function suspendIfUpdateReadFromEntangledAsyncAction(){if(didReadFromEntangledAsyncAction){var entangledActionThenable=currentEntangledActionThenable;if(entangledActionThenable!==null)throw entangledActionThenable}}function processUpdateQueue(workInProgress$jscomp$0,props,instance$jscomp$0,renderLanes$1){didReadFromEntangledAsyncAction=!1;var queue=workInProgress$jscomp$0.updateQueue;hasForceUpdate=!1;var firstBaseUpdate=queue.firstBaseUpdate,lastBaseUpdate=queue.lastBaseUpdate,pendingQueue=queue.shared.pending;if(pendingQueue!==null){queue.shared.pending=null;var lastPendingUpdate=pendingQueue,firstPendingUpdate=lastPendingUpdate.next;lastPendingUpdate.next=null,lastBaseUpdate===null?firstBaseUpdate=firstPendingUpdate:lastBaseUpdate.next=firstPendingUpdate,lastBaseUpdate=lastPendingUpdate;var current=workInProgress$jscomp$0.alternate;current!==null&&(current=current.updateQueue,pendingQueue=current.lastBaseUpdate,pendingQueue!==lastBaseUpdate&&(pendingQueue===null?current.firstBaseUpdate=firstPendingUpdate:pendingQueue.next=firstPendingUpdate,current.lastBaseUpdate=lastPendingUpdate))}if(firstBaseUpdate!==null){var newState=queue.baseState;lastBaseUpdate=0,current=firstPendingUpdate=lastPendingUpdate=null,pendingQueue=firstBaseUpdate;do{var updateLane=pendingQueue.lane&-536870913,isHiddenUpdate=updateLane!==pendingQueue.lane;if(isHiddenUpdate?(workInProgressRootRenderLanes&updateLane)===updateLane:(renderLanes$1&updateLane)===updateLane){updateLane!==0&&updateLane===currentEntangledLane&&(didReadFromEntangledAsyncAction=!0),current!==null&&(current=current.next={lane:0,tag:pendingQueue.tag,payload:pendingQueue.payload,callback:null,next:null});a:{var workInProgress$1=workInProgress$jscomp$0,update=pendingQueue;updateLane=props;var instance=instance$jscomp$0;switch(update.tag){case 1:if(workInProgress$1=update.payload,typeof workInProgress$1==`function`){newState=workInProgress$1.call(instance,newState,updateLane);break a}newState=workInProgress$1;break a;case 3:workInProgress$1.flags=workInProgress$1.flags&-65537|128;case 0:if(workInProgress$1=update.payload,updateLane=typeof workInProgress$1==`function`?workInProgress$1.call(instance,newState,updateLane):workInProgress$1,updateLane==null)break a;newState=assign$1({},newState,updateLane);break a;case 2:hasForceUpdate=!0}}updateLane=pendingQueue.callback,updateLane!==null&&(workInProgress$jscomp$0.flags|=64,isHiddenUpdate&&(workInProgress$jscomp$0.flags|=8192),isHiddenUpdate=queue.callbacks,isHiddenUpdate===null?queue.callbacks=[updateLane]:isHiddenUpdate.push(updateLane))}else isHiddenUpdate={lane:updateLane,tag:pendingQueue.tag,payload:pendingQueue.payload,callback:pendingQueue.callback,next:null},current===null?(firstPendingUpdate=current=isHiddenUpdate,lastPendingUpdate=newState):current=current.next=isHiddenUpdate,lastBaseUpdate|=updateLane;if(pendingQueue=pendingQueue.next,pendingQueue===null){if(pendingQueue=queue.shared.pending,pendingQueue===null)break;isHiddenUpdate=pendingQueue,pendingQueue=isHiddenUpdate.next,isHiddenUpdate.next=null,queue.lastBaseUpdate=isHiddenUpdate,queue.shared.pending=null}}while(1);current===null&&(lastPendingUpdate=newState),queue.baseState=lastPendingUpdate,queue.firstBaseUpdate=firstPendingUpdate,queue.lastBaseUpdate=current,firstBaseUpdate===null&&(queue.shared.lanes=0),workInProgressRootSkippedLanes|=lastBaseUpdate,workInProgress$jscomp$0.lanes=lastBaseUpdate,workInProgress$jscomp$0.memoizedState=newState}}function callCallback(callback,context){if(typeof callback!=`function`)throw Error(formatProdErrorMessage(191,callback));callback.call(context)}function commitCallbacks(updateQueue,context){var callbacks=updateQueue.callbacks;if(callbacks!==null)for(updateQueue.callbacks=null,updateQueue=0;updateQueue<callbacks.length;updateQueue++)callCallback(callbacks[updateQueue],context)}var currentTreeHiddenStackCursor=createCursor(null),prevEntangledRenderLanesCursor=createCursor(0);function pushHiddenContext(fiber,context){fiber=entangledRenderLanes,push(prevEntangledRenderLanesCursor,fiber),push(currentTreeHiddenStackCursor,context),entangledRenderLanes=fiber|context.baseLanes}function reuseHiddenContextOnStack(){push(prevEntangledRenderLanesCursor,entangledRenderLanes),push(currentTreeHiddenStackCursor,currentTreeHiddenStackCursor.current)}function popHiddenContext(){entangledRenderLanes=prevEntangledRenderLanesCursor.current,pop(currentTreeHiddenStackCursor),pop(prevEntangledRenderLanesCursor)}var suspenseHandlerStackCursor=createCursor(null),shellBoundary=null;function pushPrimaryTreeSuspenseHandler(handler){var current=handler.alternate;push(suspenseStackCursor,suspenseStackCursor.current&1),push(suspenseHandlerStackCursor,handler),shellBoundary===null&&(current===null||currentTreeHiddenStackCursor.current!==null||current.memoizedState!==null)&&(shellBoundary=handler)}function pushDehydratedActivitySuspenseHandler(fiber){push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,fiber),shellBoundary===null&&(shellBoundary=fiber)}function pushOffscreenSuspenseHandler(fiber){fiber.tag===22?(push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,fiber),shellBoundary===null&&(shellBoundary=fiber)):reuseSuspenseHandlerOnStack(fiber)}function reuseSuspenseHandlerOnStack(){push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,suspenseHandlerStackCursor.current)}function popSuspenseHandler(fiber){pop(suspenseHandlerStackCursor),shellBoundary===fiber&&(shellBoundary=null),pop(suspenseStackCursor)}var suspenseStackCursor=createCursor(0);function findFirstSuspended(row){for(var node=row;node!==null;){if(node.tag===13){var state=node.memoizedState;if(state!==null&&(state=state.dehydrated,state===null||isSuspenseInstancePending(state)||isSuspenseInstanceFallback(state)))return node}else if(node.tag===19&&(node.memoizedProps.revealOrder===`forwards`||node.memoizedProps.revealOrder===`backwards`||node.memoizedProps.revealOrder===`unstable_legacy-backwards`||node.memoizedProps.revealOrder===`together`)){if(node.flags&128)return node}else if(node.child!==null){node.child.return=node,node=node.child;continue}if(node===row)break;for(;node.sibling===null;){if(node.return===null||node.return===row)return null;node=node.return}node.sibling.return=node.return,node=node.sibling}return null}var renderLanes=0,currentlyRenderingFiber=null,currentHook=null,workInProgressHook=null,didScheduleRenderPhaseUpdate=!1,didScheduleRenderPhaseUpdateDuringThisPass=!1,shouldDoubleInvokeUserFnsInHooksDEV=!1,localIdCounter=0,thenableIndexCounter=0,thenableState=null,globalClientIdCounter=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(nextDeps,prevDeps){if(prevDeps===null)return!1;for(var i$3=0;i$3<prevDeps.length&&i$3<nextDeps.length;i$3++)if(!objectIs(nextDeps[i$3],prevDeps[i$3]))return!1;return!0}function renderWithHooks(current,workInProgress$1,Component$1,props,secondArg,nextRenderLanes){return renderLanes=nextRenderLanes,currentlyRenderingFiber=workInProgress$1,workInProgress$1.memoizedState=null,workInProgress$1.updateQueue=null,workInProgress$1.lanes=0,ReactSharedInternals.H=current===null||current.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate,shouldDoubleInvokeUserFnsInHooksDEV=!1,nextRenderLanes=Component$1(props,secondArg),shouldDoubleInvokeUserFnsInHooksDEV=!1,didScheduleRenderPhaseUpdateDuringThisPass&&(nextRenderLanes=renderWithHooksAgain(workInProgress$1,Component$1,props,secondArg)),finishRenderingHooks(current),nextRenderLanes}function finishRenderingHooks(current){ReactSharedInternals.H=ContextOnlyDispatcher;var didRenderTooFewHooks=currentHook!==null&&currentHook.next!==null;if(renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber=null,didScheduleRenderPhaseUpdate=!1,thenableIndexCounter=0,thenableState=null,didRenderTooFewHooks)throw Error(formatProdErrorMessage(300));current===null||didReceiveUpdate||(current=current.dependencies,current!==null&&checkIfContextChanged(current)&&(didReceiveUpdate=!0))}function renderWithHooksAgain(workInProgress$1,Component$1,props,secondArg){currentlyRenderingFiber=workInProgress$1;var numberOfReRenders=0;do{if(didScheduleRenderPhaseUpdateDuringThisPass&&(thenableState=null),thenableIndexCounter=0,didScheduleRenderPhaseUpdateDuringThisPass=!1,25<=numberOfReRenders)throw Error(formatProdErrorMessage(301));if(numberOfReRenders+=1,workInProgressHook=currentHook=null,workInProgress$1.updateQueue!=null){var children=workInProgress$1.updateQueue;children.lastEffect=null,children.events=null,children.stores=null,children.memoCache!=null&&(children.memoCache.index=0)}ReactSharedInternals.H=HooksDispatcherOnRerender,children=Component$1(props,secondArg)}while(didScheduleRenderPhaseUpdateDuringThisPass);return children}function TransitionAwareHostComponent(){var dispatcher=ReactSharedInternals.H,maybeThenable=dispatcher.useState()[0];return maybeThenable=typeof maybeThenable.then==`function`?useThenable(maybeThenable):maybeThenable,dispatcher=dispatcher.useState()[0],(currentHook===null?null:currentHook.memoizedState)!==dispatcher&&(currentlyRenderingFiber.flags|=1024),maybeThenable}function checkDidRenderIdHook(){var didRenderIdHook=localIdCounter!==0;return localIdCounter=0,didRenderIdHook}function bailoutHooks(current,workInProgress$1,lanes){workInProgress$1.updateQueue=current.updateQueue,workInProgress$1.flags&=-2053,current.lanes&=~lanes}function resetHooksOnUnwind(workInProgress$1){if(didScheduleRenderPhaseUpdate){for(workInProgress$1=workInProgress$1.memoizedState;workInProgress$1!==null;){var queue=workInProgress$1.queue;queue!==null&&(queue.pending=null),workInProgress$1=workInProgress$1.next}didScheduleRenderPhaseUpdate=!1}renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber=null,didScheduleRenderPhaseUpdateDuringThisPass=!1,thenableIndexCounter=localIdCounter=0,thenableState=null}function mountWorkInProgressHook(){var hook={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return workInProgressHook===null?currentlyRenderingFiber.memoizedState=workInProgressHook=hook:workInProgressHook=workInProgressHook.next=hook,workInProgressHook}function updateWorkInProgressHook(){if(currentHook===null){var nextCurrentHook=currentlyRenderingFiber.alternate;nextCurrentHook=nextCurrentHook===null?null:nextCurrentHook.memoizedState}else nextCurrentHook=currentHook.next;var nextWorkInProgressHook=workInProgressHook===null?currentlyRenderingFiber.memoizedState:workInProgressHook.next;if(nextWorkInProgressHook!==null)workInProgressHook=nextWorkInProgressHook,currentHook=nextCurrentHook;else{if(nextCurrentHook===null)throw currentlyRenderingFiber.alternate===null?Error(formatProdErrorMessage(467)):Error(formatProdErrorMessage(310));currentHook=nextCurrentHook,nextCurrentHook={memoizedState:currentHook.memoizedState,baseState:currentHook.baseState,baseQueue:currentHook.baseQueue,queue:currentHook.queue,next:null},workInProgressHook===null?currentlyRenderingFiber.memoizedState=workInProgressHook=nextCurrentHook:workInProgressHook=workInProgressHook.next=nextCurrentHook}return workInProgressHook}function createFunctionComponentUpdateQueue(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function useThenable(thenable){var index$1=thenableIndexCounter;return thenableIndexCounter+=1,thenableState===null&&(thenableState=[]),thenable=trackUsedThenable(thenableState,thenable,index$1),index$1=currentlyRenderingFiber,(workInProgressHook===null?index$1.memoizedState:workInProgressHook.next)===null&&(index$1=index$1.alternate,ReactSharedInternals.H=index$1===null||index$1.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate),thenable}function use(usable){if(typeof usable==`object`&&usable){if(typeof usable.then==`function`)return useThenable(usable);if(usable.$$typeof===REACT_CONTEXT_TYPE)return readContext(usable)}throw Error(formatProdErrorMessage(438,String(usable)))}function useMemoCache(size){var memoCache=null,updateQueue=currentlyRenderingFiber.updateQueue;if(updateQueue!==null&&(memoCache=updateQueue.memoCache),memoCache==null){var current=currentlyRenderingFiber.alternate;current!==null&&(current=current.updateQueue,current!==null&&(current=current.memoCache,current!=null&&(memoCache={data:current.data.map(function(array){return array.slice()}),index:0})))}if(memoCache??={data:[],index:0},updateQueue===null&&(updateQueue=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=updateQueue),updateQueue.memoCache=memoCache,updateQueue=memoCache.data[memoCache.index],updateQueue===void 0)for(updateQueue=memoCache.data[memoCache.index]=Array(size),current=0;current<size;current++)updateQueue[current]=REACT_MEMO_CACHE_SENTINEL;return memoCache.index++,updateQueue}function basicStateReducer(state,action){return typeof action==`function`?action(state):action}function updateReducer(reducer){var hook=updateWorkInProgressHook();return updateReducerImpl(hook,currentHook,reducer)}function updateReducerImpl(hook,current,reducer){var queue=hook.queue;if(queue===null)throw Error(formatProdErrorMessage(311));queue.lastRenderedReducer=reducer;var baseQueue=hook.baseQueue,pendingQueue=queue.pending;if(pendingQueue!==null){if(baseQueue!==null){var baseFirst=baseQueue.next;baseQueue.next=pendingQueue.next,pendingQueue.next=baseFirst}current.baseQueue=baseQueue=pendingQueue,queue.pending=null}if(pendingQueue=hook.baseState,baseQueue===null)hook.memoizedState=pendingQueue;else{current=baseQueue.next;var newBaseQueueFirst=baseFirst=null,newBaseQueueLast=null,update=current,didReadFromEntangledAsyncAction$60=!1;do{var updateLane=update.lane&-536870913;if(updateLane===update.lane?(renderLanes&updateLane)===updateLane:(workInProgressRootRenderLanes&updateLane)===updateLane){var revertLane=update.revertLane;if(revertLane===0)newBaseQueueLast!==null&&(newBaseQueueLast=newBaseQueueLast.next={lane:0,revertLane:0,gesture:null,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null}),updateLane===currentEntangledLane&&(didReadFromEntangledAsyncAction$60=!0);else if((renderLanes&revertLane)===revertLane){update=update.next,revertLane===currentEntangledLane&&(didReadFromEntangledAsyncAction$60=!0);continue}else updateLane={lane:0,revertLane:update.revertLane,gesture:null,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null},newBaseQueueLast===null?(newBaseQueueFirst=newBaseQueueLast=updateLane,baseFirst=pendingQueue):newBaseQueueLast=newBaseQueueLast.next=updateLane,currentlyRenderingFiber.lanes|=revertLane,workInProgressRootSkippedLanes|=revertLane;updateLane=update.action,shouldDoubleInvokeUserFnsInHooksDEV&&reducer(pendingQueue,updateLane),pendingQueue=update.hasEagerState?update.eagerState:reducer(pendingQueue,updateLane)}else revertLane={lane:updateLane,revertLane:update.revertLane,gesture:update.gesture,action:update.action,hasEagerState:update.hasEagerState,eagerState:update.eagerState,next:null},newBaseQueueLast===null?(newBaseQueueFirst=newBaseQueueLast=revertLane,baseFirst=pendingQueue):newBaseQueueLast=newBaseQueueLast.next=revertLane,currentlyRenderingFiber.lanes|=updateLane,workInProgressRootSkippedLanes|=updateLane;update=update.next}while(update!==null&&update!==current);if(newBaseQueueLast===null?baseFirst=pendingQueue:newBaseQueueLast.next=newBaseQueueFirst,!objectIs(pendingQueue,hook.memoizedState)&&(didReceiveUpdate=!0,didReadFromEntangledAsyncAction$60&&(reducer=currentEntangledActionThenable,reducer!==null)))throw reducer;hook.memoizedState=pendingQueue,hook.baseState=baseFirst,hook.baseQueue=newBaseQueueLast,queue.lastRenderedState=pendingQueue}return baseQueue===null&&(queue.lanes=0),[hook.memoizedState,queue.dispatch]}function rerenderReducer(reducer){var hook=updateWorkInProgressHook(),queue=hook.queue;if(queue===null)throw Error(formatProdErrorMessage(311));queue.lastRenderedReducer=reducer;var dispatch=queue.dispatch,lastRenderPhaseUpdate=queue.pending,newState=hook.memoizedState;if(lastRenderPhaseUpdate!==null){queue.pending=null;var update=lastRenderPhaseUpdate=lastRenderPhaseUpdate.next;do newState=reducer(newState,update.action),update=update.next;while(update!==lastRenderPhaseUpdate);objectIs(newState,hook.memoizedState)||(didReceiveUpdate=!0),hook.memoizedState=newState,hook.baseQueue===null&&(hook.baseState=newState),queue.lastRenderedState=newState}return[newState,dispatch]}function updateSyncExternalStore(subscribe,getSnapshot,getServerSnapshot){var fiber=currentlyRenderingFiber,hook=updateWorkInProgressHook(),isHydrating$jscomp$0=isHydrating;if(isHydrating$jscomp$0){if(getServerSnapshot===void 0)throw Error(formatProdErrorMessage(407));getServerSnapshot=getServerSnapshot()}else getServerSnapshot=getSnapshot();var snapshotChanged=!objectIs((currentHook||hook).memoizedState,getServerSnapshot);if(snapshotChanged&&(hook.memoizedState=getServerSnapshot,didReceiveUpdate=!0),hook=hook.queue,updateEffect(subscribeToStore.bind(null,fiber,hook,subscribe),[subscribe]),hook.getSnapshot!==getSnapshot||snapshotChanged||workInProgressHook!==null&&workInProgressHook.memoizedState.tag&1){if(fiber.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,fiber,hook,getServerSnapshot,getSnapshot),null),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));isHydrating$jscomp$0||renderLanes&127||pushStoreConsistencyCheck(fiber,getSnapshot,getServerSnapshot)}return getServerSnapshot}function pushStoreConsistencyCheck(fiber,getSnapshot,renderedSnapshot){fiber.flags|=16384,fiber={getSnapshot,value:renderedSnapshot},getSnapshot=currentlyRenderingFiber.updateQueue,getSnapshot===null?(getSnapshot=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=getSnapshot,getSnapshot.stores=[fiber]):(renderedSnapshot=getSnapshot.stores,renderedSnapshot===null?getSnapshot.stores=[fiber]:renderedSnapshot.push(fiber))}function updateStoreInstance(fiber,inst,nextSnapshot,getSnapshot){inst.value=nextSnapshot,inst.getSnapshot=getSnapshot,checkIfSnapshotChanged(inst)&&forceStoreRerender(fiber)}function subscribeToStore(fiber,inst,subscribe){return subscribe(function(){checkIfSnapshotChanged(inst)&&forceStoreRerender(fiber)})}function checkIfSnapshotChanged(inst){var latestGetSnapshot=inst.getSnapshot;inst=inst.value;try{var nextValue=latestGetSnapshot();return!objectIs(inst,nextValue)}catch{return!0}}function forceStoreRerender(fiber){var root$1=enqueueConcurrentRenderForLane(fiber,2);root$1!==null&&scheduleUpdateOnFiber(root$1,fiber,2)}function mountStateImpl(initialState){var hook=mountWorkInProgressHook();if(typeof initialState==`function`){var initialStateInitializer=initialState;if(initialState=initialStateInitializer(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{initialStateInitializer()}finally{setIsStrictModeForDevtools(!1)}}}return hook.memoizedState=hook.baseState=initialState,hook.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:initialState},hook}function updateOptimisticImpl(hook,current,passthrough,reducer){return hook.baseState=passthrough,updateReducerImpl(hook,currentHook,typeof reducer==`function`?reducer:basicStateReducer)}function dispatchActionState(fiber,actionQueue,setPendingState,setState,payload){if(isRenderPhaseUpdate(fiber))throw Error(formatProdErrorMessage(485));if(fiber=actionQueue.action,fiber!==null){var actionNode={payload,action:fiber,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(listener){actionNode.listeners.push(listener)}};ReactSharedInternals.T===null?actionNode.isTransition=!1:setPendingState(!0),setState(actionNode),setPendingState=actionQueue.pending,setPendingState===null?(actionNode.next=actionQueue.pending=actionNode,runActionStateAction(actionQueue,actionNode)):(actionNode.next=setPendingState.next,actionQueue.pending=setPendingState.next=actionNode)}}function runActionStateAction(actionQueue,node){var action=node.action,payload=node.payload,prevState=actionQueue.state;if(node.isTransition){var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition;try{var returnValue=action(prevState,payload),onStartTransitionFinish=ReactSharedInternals.S;onStartTransitionFinish!==null&&onStartTransitionFinish(currentTransition,returnValue),handleActionReturnValue(actionQueue,node,returnValue)}catch(error){onActionError(actionQueue,node,error)}finally{prevTransition!==null&&currentTransition.types!==null&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}}else try{prevTransition=action(prevState,payload),handleActionReturnValue(actionQueue,node,prevTransition)}catch(error$66){onActionError(actionQueue,node,error$66)}}function handleActionReturnValue(actionQueue,node,returnValue){typeof returnValue==`object`&&returnValue&&typeof returnValue.then==`function`?returnValue.then(function(nextState){onActionSuccess(actionQueue,node,nextState)},function(error){return onActionError(actionQueue,node,error)}):onActionSuccess(actionQueue,node,returnValue)}function onActionSuccess(actionQueue,actionNode,nextState){actionNode.status=`fulfilled`,actionNode.value=nextState,notifyActionListeners(actionNode),actionQueue.state=nextState,actionNode=actionQueue.pending,actionNode!==null&&(nextState=actionNode.next,nextState===actionNode?actionQueue.pending=null:(nextState=nextState.next,actionNode.next=nextState,runActionStateAction(actionQueue,nextState)))}function onActionError(actionQueue,actionNode,error){var last=actionQueue.pending;if(actionQueue.pending=null,last!==null){last=last.next;do actionNode.status=`rejected`,actionNode.reason=error,notifyActionListeners(actionNode),actionNode=actionNode.next;while(actionNode!==last)}actionQueue.action=null}function notifyActionListeners(actionNode){actionNode=actionNode.listeners;for(var i$3=0;i$3<actionNode.length;i$3++)(0,actionNode[i$3])()}function actionStateReducer(oldState,newState){return newState}function mountActionState(action,initialStateProp){if(isHydrating){var ssrFormState=workInProgressRoot.formState;if(ssrFormState!==null){a:{var JSCompiler_inline_result=currentlyRenderingFiber;if(isHydrating){if(nextHydratableInstance){b:{for(var JSCompiler_inline_result$jscomp$0=nextHydratableInstance,inRootOrSingleton=rootOrSingletonContext;JSCompiler_inline_result$jscomp$0.nodeType!==8;){if(!inRootOrSingleton){JSCompiler_inline_result$jscomp$0=null;break b}if(JSCompiler_inline_result$jscomp$0=getNextHydratable(JSCompiler_inline_result$jscomp$0.nextSibling),JSCompiler_inline_result$jscomp$0===null){JSCompiler_inline_result$jscomp$0=null;break b}}inRootOrSingleton=JSCompiler_inline_result$jscomp$0.data,JSCompiler_inline_result$jscomp$0=inRootOrSingleton===`F!`||inRootOrSingleton===`F`?JSCompiler_inline_result$jscomp$0:null}if(JSCompiler_inline_result$jscomp$0){nextHydratableInstance=getNextHydratable(JSCompiler_inline_result$jscomp$0.nextSibling),JSCompiler_inline_result=JSCompiler_inline_result$jscomp$0.data===`F!`;break a}}throwOnHydrationMismatch(JSCompiler_inline_result)}JSCompiler_inline_result=!1}JSCompiler_inline_result&&(initialStateProp=ssrFormState[0])}}return ssrFormState=mountWorkInProgressHook(),ssrFormState.memoizedState=ssrFormState.baseState=initialStateProp,JSCompiler_inline_result={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:initialStateProp},ssrFormState.queue=JSCompiler_inline_result,ssrFormState=dispatchSetState.bind(null,currentlyRenderingFiber,JSCompiler_inline_result),JSCompiler_inline_result.dispatch=ssrFormState,JSCompiler_inline_result=mountStateImpl(!1),inRootOrSingleton=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber,!1,JSCompiler_inline_result.queue),JSCompiler_inline_result=mountWorkInProgressHook(),JSCompiler_inline_result$jscomp$0={state:initialStateProp,dispatch:null,action,pending:null},JSCompiler_inline_result.queue=JSCompiler_inline_result$jscomp$0,ssrFormState=dispatchActionState.bind(null,currentlyRenderingFiber,JSCompiler_inline_result$jscomp$0,inRootOrSingleton,ssrFormState),JSCompiler_inline_result$jscomp$0.dispatch=ssrFormState,JSCompiler_inline_result.memoizedState=action,[initialStateProp,ssrFormState,!1]}function updateActionState(action){var stateHook=updateWorkInProgressHook();return updateActionStateImpl(stateHook,currentHook,action)}function updateActionStateImpl(stateHook,currentStateHook,action){if(currentStateHook=updateReducerImpl(stateHook,currentStateHook,actionStateReducer)[0],stateHook=updateReducer(basicStateReducer)[0],typeof currentStateHook==`object`&&currentStateHook&&typeof currentStateHook.then==`function`)try{var state=useThenable(currentStateHook)}catch(x$2){throw x$2===SuspenseException?SuspenseActionException:x$2}else state=currentStateHook;currentStateHook=updateWorkInProgressHook();var actionQueue=currentStateHook.queue,dispatch=actionQueue.dispatch;return action!==currentStateHook.memoizedState&&(currentlyRenderingFiber.flags|=2048,pushSimpleEffect(9,{destroy:void 0},actionStateActionEffect.bind(null,actionQueue,action),null)),[state,dispatch,stateHook]}function actionStateActionEffect(actionQueue,action){actionQueue.action=action}function rerenderActionState(action){var stateHook=updateWorkInProgressHook(),currentStateHook=currentHook;if(currentStateHook!==null)return updateActionStateImpl(stateHook,currentStateHook,action);updateWorkInProgressHook(),stateHook=stateHook.memoizedState,currentStateHook=updateWorkInProgressHook();var dispatch=currentStateHook.queue.dispatch;return currentStateHook.memoizedState=action,[stateHook,dispatch,!1]}function pushSimpleEffect(tag,inst,create,deps){return tag={tag,create,deps,inst,next:null},inst=currentlyRenderingFiber.updateQueue,inst===null&&(inst=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=inst),create=inst.lastEffect,create===null?inst.lastEffect=tag.next=tag:(deps=create.next,create.next=tag,tag.next=deps,inst.lastEffect=tag),tag}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(fiberFlags,hookFlags,create,deps){var hook=mountWorkInProgressHook();currentlyRenderingFiber.flags|=fiberFlags,hook.memoizedState=pushSimpleEffect(1|hookFlags,{destroy:void 0},create,deps===void 0?null:deps)}function updateEffectImpl(fiberFlags,hookFlags,create,deps){var hook=updateWorkInProgressHook();deps=deps===void 0?null:deps;var inst=hook.memoizedState.inst;currentHook!==null&&deps!==null&&areHookInputsEqual(deps,currentHook.memoizedState.deps)?hook.memoizedState=pushSimpleEffect(hookFlags,inst,create,deps):(currentlyRenderingFiber.flags|=fiberFlags,hook.memoizedState=pushSimpleEffect(1|hookFlags,inst,create,deps))}function mountEffect(create,deps){mountEffectImpl(8390656,8,create,deps)}function updateEffect(create,deps){updateEffectImpl(2048,8,create,deps)}function useEffectEventImpl(payload){currentlyRenderingFiber.flags|=4;var componentUpdateQueue=currentlyRenderingFiber.updateQueue;if(componentUpdateQueue===null)componentUpdateQueue=createFunctionComponentUpdateQueue(),currentlyRenderingFiber.updateQueue=componentUpdateQueue,componentUpdateQueue.events=[payload];else{var events=componentUpdateQueue.events;events===null?componentUpdateQueue.events=[payload]:events.push(payload)}}function updateEvent(callback){var ref=updateWorkInProgressHook().memoizedState;return useEffectEventImpl({ref,nextImpl:callback}),function(){if(executionContext&2)throw Error(formatProdErrorMessage(440));return ref.impl.apply(void 0,arguments)}}function updateInsertionEffect(create,deps){return updateEffectImpl(4,2,create,deps)}function updateLayoutEffect(create,deps){return updateEffectImpl(4,4,create,deps)}function imperativeHandleEffect(create,ref){if(typeof ref==`function`){create=create();var refCleanup=ref(create);return function(){typeof refCleanup==`function`?refCleanup():ref(null)}}if(ref!=null)return create=create(),ref.current=create,function(){ref.current=null}}function updateImperativeHandle(ref,create,deps){deps=deps==null?null:deps.concat([ref]),updateEffectImpl(4,4,imperativeHandleEffect.bind(null,create,ref),deps)}function mountDebugValue(){}function updateCallback(callback,deps){var hook=updateWorkInProgressHook();deps=deps===void 0?null:deps;var prevState=hook.memoizedState;return deps!==null&&areHookInputsEqual(deps,prevState[1])?prevState[0]:(hook.memoizedState=[callback,deps],callback)}function updateMemo(nextCreate,deps){var hook=updateWorkInProgressHook();deps=deps===void 0?null:deps;var prevState=hook.memoizedState;if(deps!==null&&areHookInputsEqual(deps,prevState[1]))return prevState[0];if(prevState=nextCreate(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{nextCreate()}finally{setIsStrictModeForDevtools(!1)}}return hook.memoizedState=[prevState,deps],prevState}function mountDeferredValueImpl(hook,value,initialValue){return initialValue===void 0||renderLanes&1073741824&&!(workInProgressRootRenderLanes&261930)?hook.memoizedState=value:(hook.memoizedState=initialValue,hook=requestDeferredLane(),currentlyRenderingFiber.lanes|=hook,workInProgressRootSkippedLanes|=hook,initialValue)}function updateDeferredValueImpl(hook,prevValue,value,initialValue){return objectIs(value,prevValue)?value:currentTreeHiddenStackCursor.current===null?!(renderLanes&42)||renderLanes&1073741824&&!(workInProgressRootRenderLanes&261930)?(didReceiveUpdate=!0,hook.memoizedState=value):(hook=requestDeferredLane(),currentlyRenderingFiber.lanes|=hook,workInProgressRootSkippedLanes|=hook,prevValue):(hook=mountDeferredValueImpl(hook,value,initialValue),objectIs(hook,prevValue)||(didReceiveUpdate=!0),hook)}function startTransition(fiber,queue,pendingState,finishedState,callback){var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=previousPriority!==0&&8>previousPriority?previousPriority:8;var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition,dispatchOptimisticSetState(fiber,!1,queue,pendingState);try{var returnValue=callback(),onStartTransitionFinish=ReactSharedInternals.S;if(onStartTransitionFinish!==null&&onStartTransitionFinish(currentTransition,returnValue),typeof returnValue==`object`&&returnValue&&typeof returnValue.then==`function`){var thenableForFinishedState=chainThenableValue(returnValue,finishedState);dispatchSetStateInternal(fiber,queue,thenableForFinishedState,requestUpdateLane(fiber))}else dispatchSetStateInternal(fiber,queue,finishedState,requestUpdateLane(fiber))}catch(error){dispatchSetStateInternal(fiber,queue,{then:function(){},status:`rejected`,reason:error},requestUpdateLane())}finally{ReactDOMSharedInternals.p=previousPriority,prevTransition!==null&&currentTransition.types!==null&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}}function noop(){}function startHostTransition(formFiber,pendingState,action,formData){if(formFiber.tag!==5)throw Error(formatProdErrorMessage(476));var queue=ensureFormComponentIsStateful(formFiber).queue;startTransition(formFiber,queue,pendingState,sharedNotPendingObject,action===null?noop:function(){return requestFormReset$1(formFiber),action(formData)})}function ensureFormComponentIsStateful(formFiber){var existingStateHook=formFiber.memoizedState;if(existingStateHook!==null)return existingStateHook;existingStateHook={memoizedState:sharedNotPendingObject,baseState:sharedNotPendingObject,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:sharedNotPendingObject},next:null};var initialResetState={};return existingStateHook.next={memoizedState:initialResetState,baseState:initialResetState,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:initialResetState},next:null},formFiber.memoizedState=existingStateHook,formFiber=formFiber.alternate,formFiber!==null&&(formFiber.memoizedState=existingStateHook),existingStateHook}function requestFormReset$1(formFiber){var stateHook=ensureFormComponentIsStateful(formFiber);stateHook.next===null&&(stateHook=formFiber.alternate.memoizedState),dispatchSetStateInternal(formFiber,stateHook.next.queue,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(HostTransitionContext)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(fiber){for(var provider=fiber.return;provider!==null;){switch(provider.tag){case 24:case 3:var lane=requestUpdateLane();fiber=createUpdate(lane);var root$69=enqueueUpdate(provider,fiber,lane);root$69!==null&&(scheduleUpdateOnFiber(root$69,provider,lane),entangleTransitions(root$69,provider,lane)),provider={cache:createCache()},fiber.payload=provider;return}provider=provider.return}}function dispatchReducerAction(fiber,queue,action){var lane=requestUpdateLane();action={lane,revertLane:0,gesture:null,action,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(fiber)?enqueueRenderPhaseUpdate(queue,action):(action=enqueueConcurrentHookUpdate(fiber,queue,action,lane),action!==null&&(scheduleUpdateOnFiber(action,fiber,lane),entangleTransitionUpdate(action,queue,lane)))}function dispatchSetState(fiber,queue,action){var lane=requestUpdateLane();dispatchSetStateInternal(fiber,queue,action,lane)}function dispatchSetStateInternal(fiber,queue,action,lane){var update={lane,revertLane:0,gesture:null,action,hasEagerState:!1,eagerState:null,next:null};if(isRenderPhaseUpdate(fiber))enqueueRenderPhaseUpdate(queue,update);else{var alternate=fiber.alternate;if(fiber.lanes===0&&(alternate===null||alternate.lanes===0)&&(alternate=queue.lastRenderedReducer,alternate!==null))try{var currentState=queue.lastRenderedState,eagerState=alternate(currentState,action);if(update.hasEagerState=!0,update.eagerState=eagerState,objectIs(eagerState,currentState))return enqueueUpdate$1(fiber,queue,update,0),workInProgressRoot===null&&finishQueueingConcurrentUpdates(),!1}catch{}if(action=enqueueConcurrentHookUpdate(fiber,queue,update,lane),action!==null)return scheduleUpdateOnFiber(action,fiber,lane),entangleTransitionUpdate(action,queue,lane),!0}return!1}function dispatchOptimisticSetState(fiber,throwIfDuringRender,queue,action){if(action={lane:2,revertLane:requestTransitionLane(),gesture:null,action,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(fiber)){if(throwIfDuringRender)throw Error(formatProdErrorMessage(479))}else throwIfDuringRender=enqueueConcurrentHookUpdate(fiber,queue,action,2),throwIfDuringRender!==null&&scheduleUpdateOnFiber(throwIfDuringRender,fiber,2)}function isRenderPhaseUpdate(fiber){var alternate=fiber.alternate;return fiber===currentlyRenderingFiber||alternate!==null&&alternate===currentlyRenderingFiber}function enqueueRenderPhaseUpdate(queue,update){didScheduleRenderPhaseUpdateDuringThisPass=didScheduleRenderPhaseUpdate=!0;var pending=queue.pending;pending===null?update.next=update:(update.next=pending.next,pending.next=update),queue.pending=update}function entangleTransitionUpdate(root$1,queue,lane){if(lane&4194048){var queueLanes=queue.lanes;queueLanes&=root$1.pendingLanes,lane|=queueLanes,queue.lanes=lane,markRootEntangled(root$1,lane)}}var ContextOnlyDispatcher={readContext,use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError,useHostTransitionStatus:throwInvalidHookError,useFormState:throwInvalidHookError,useActionState:throwInvalidHookError,useOptimistic:throwInvalidHookError,useMemoCache:throwInvalidHookError,useCacheRefresh:throwInvalidHookError};ContextOnlyDispatcher.useEffectEvent=throwInvalidHookError;var HooksDispatcherOnMount={readContext,use,useCallback:function(callback,deps){return mountWorkInProgressHook().memoizedState=[callback,deps===void 0?null:deps],callback},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(ref,create,deps){deps=deps==null?null:deps.concat([ref]),mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,create,ref),deps)},useLayoutEffect:function(create,deps){return mountEffectImpl(4194308,4,create,deps)},useInsertionEffect:function(create,deps){mountEffectImpl(4,2,create,deps)},useMemo:function(nextCreate,deps){var hook=mountWorkInProgressHook();deps=deps===void 0?null:deps;var nextValue=nextCreate();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{nextCreate()}finally{setIsStrictModeForDevtools(!1)}}return hook.memoizedState=[nextValue,deps],nextValue},useReducer:function(reducer,initialArg,init){var hook=mountWorkInProgressHook();if(init!==void 0){var initialState=init(initialArg);if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{init(initialArg)}finally{setIsStrictModeForDevtools(!1)}}}else initialState=initialArg;return hook.memoizedState=hook.baseState=initialState,reducer={pending:null,lanes:0,dispatch:null,lastRenderedReducer:reducer,lastRenderedState:initialState},hook.queue=reducer,reducer=reducer.dispatch=dispatchReducerAction.bind(null,currentlyRenderingFiber,reducer),[hook.memoizedState,reducer]},useRef:function(initialValue){var hook=mountWorkInProgressHook();return initialValue={current:initialValue},hook.memoizedState=initialValue},useState:function(initialState){initialState=mountStateImpl(initialState);var queue=initialState.queue,dispatch=dispatchSetState.bind(null,currentlyRenderingFiber,queue);return queue.dispatch=dispatch,[initialState.memoizedState,dispatch]},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=mountWorkInProgressHook();return mountDeferredValueImpl(hook,value,initialValue)},useTransition:function(){var stateHook=mountStateImpl(!1);return stateHook=startTransition.bind(null,currentlyRenderingFiber,stateHook.queue,!0,!1),mountWorkInProgressHook().memoizedState=stateHook,[!1,stateHook]},useSyncExternalStore:function(subscribe,getSnapshot,getServerSnapshot){var fiber=currentlyRenderingFiber,hook=mountWorkInProgressHook();if(isHydrating){if(getServerSnapshot===void 0)throw Error(formatProdErrorMessage(407));getServerSnapshot=getServerSnapshot()}else{if(getServerSnapshot=getSnapshot(),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));workInProgressRootRenderLanes&127||pushStoreConsistencyCheck(fiber,getSnapshot,getServerSnapshot)}hook.memoizedState=getServerSnapshot;var inst={value:getServerSnapshot,getSnapshot};return hook.queue=inst,mountEffect(subscribeToStore.bind(null,fiber,inst,subscribe),[subscribe]),fiber.flags|=2048,pushSimpleEffect(9,{destroy:void 0},updateStoreInstance.bind(null,fiber,inst,getServerSnapshot,getSnapshot),null),getServerSnapshot},useId:function(){var hook=mountWorkInProgressHook(),identifierPrefix=workInProgressRoot.identifierPrefix;if(isHydrating){var JSCompiler_inline_result=treeContextOverflow,idWithLeadingBit=treeContextId;JSCompiler_inline_result=(idWithLeadingBit&~(1<<32-clz32(idWithLeadingBit)-1)).toString(32)+JSCompiler_inline_result,identifierPrefix=`_`+identifierPrefix+`R_`+JSCompiler_inline_result,JSCompiler_inline_result=localIdCounter++,0<JSCompiler_inline_result&&(identifierPrefix+=`H`+JSCompiler_inline_result.toString(32)),identifierPrefix+=`_`}else JSCompiler_inline_result=globalClientIdCounter++,identifierPrefix=`_`+identifierPrefix+`r_`+JSCompiler_inline_result.toString(32)+`_`;return hook.memoizedState=identifierPrefix},useHostTransitionStatus,useFormState:mountActionState,useActionState:mountActionState,useOptimistic:function(passthrough){var hook=mountWorkInProgressHook();hook.memoizedState=hook.baseState=passthrough;var queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return hook.queue=queue,hook=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber,!0,queue),queue.dispatch=hook,[passthrough,hook]},useMemoCache,useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,currentlyRenderingFiber)},useEffectEvent:function(callback){var hook=mountWorkInProgressHook(),ref={impl:callback};return hook.memoizedState=ref,function(){if(executionContext&2)throw Error(formatProdErrorMessage(440));return ref.impl.apply(void 0,arguments)}}},HooksDispatcherOnUpdate={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=updateWorkInProgressHook();return updateDeferredValueImpl(hook,currentHook.memoizedState,value,initialValue)},useTransition:function(){var booleanOrThenable=updateReducer(basicStateReducer)[0],start=updateWorkInProgressHook().memoizedState;return[typeof booleanOrThenable==`boolean`?booleanOrThenable:useThenable(booleanOrThenable),start]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus,useFormState:updateActionState,useActionState:updateActionState,useOptimistic:function(passthrough,reducer){var hook=updateWorkInProgressHook();return updateOptimisticImpl(hook,currentHook,passthrough,reducer)},useMemoCache,useCacheRefresh:updateRefresh};HooksDispatcherOnUpdate.useEffectEvent=updateEvent;var HooksDispatcherOnRerender={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(value,initialValue){var hook=updateWorkInProgressHook();return currentHook===null?mountDeferredValueImpl(hook,value,initialValue):updateDeferredValueImpl(hook,currentHook.memoizedState,value,initialValue)},useTransition:function(){var booleanOrThenable=rerenderReducer(basicStateReducer)[0],start=updateWorkInProgressHook().memoizedState;return[typeof booleanOrThenable==`boolean`?booleanOrThenable:useThenable(booleanOrThenable),start]},useSyncExternalStore:updateSyncExternalStore,useId:updateId,useHostTransitionStatus,useFormState:rerenderActionState,useActionState:rerenderActionState,useOptimistic:function(passthrough,reducer){var hook=updateWorkInProgressHook();return currentHook===null?(hook.baseState=passthrough,[passthrough,hook.queue.dispatch]):updateOptimisticImpl(hook,currentHook,passthrough,reducer)},useMemoCache,useCacheRefresh:updateRefresh};HooksDispatcherOnRerender.useEffectEvent=updateEvent;function applyDerivedStateFromProps(workInProgress$1,ctor,getDerivedStateFromProps,nextProps){ctor=workInProgress$1.memoizedState,getDerivedStateFromProps=getDerivedStateFromProps(nextProps,ctor),getDerivedStateFromProps=getDerivedStateFromProps==null?ctor:assign$1({},ctor,getDerivedStateFromProps),workInProgress$1.memoizedState=getDerivedStateFromProps,workInProgress$1.lanes===0&&(workInProgress$1.updateQueue.baseState=getDerivedStateFromProps)}var classComponentUpdater={enqueueSetState:function(inst,payload,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.payload=payload,callback!=null&&(update.callback=callback),payload=enqueueUpdate(inst,update,lane),payload!==null&&(scheduleUpdateOnFiber(payload,inst,lane),entangleTransitions(payload,inst,lane))},enqueueReplaceState:function(inst,payload,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.tag=1,update.payload=payload,callback!=null&&(update.callback=callback),payload=enqueueUpdate(inst,update,lane),payload!==null&&(scheduleUpdateOnFiber(payload,inst,lane),entangleTransitions(payload,inst,lane))},enqueueForceUpdate:function(inst,callback){inst=inst._reactInternals;var lane=requestUpdateLane(),update=createUpdate(lane);update.tag=2,callback!=null&&(update.callback=callback),callback=enqueueUpdate(inst,update,lane),callback!==null&&(scheduleUpdateOnFiber(callback,inst,lane),entangleTransitions(callback,inst,lane))}};function checkShouldComponentUpdate(workInProgress$1,ctor,oldProps,newProps,oldState,newState,nextContext){return workInProgress$1=workInProgress$1.stateNode,typeof workInProgress$1.shouldComponentUpdate==`function`?workInProgress$1.shouldComponentUpdate(newProps,newState,nextContext):ctor.prototype&&ctor.prototype.isPureReactComponent?!shallowEqual(oldProps,newProps)||!shallowEqual(oldState,newState):!0}function callComponentWillReceiveProps(workInProgress$1,instance,newProps,nextContext){workInProgress$1=instance.state,typeof instance.componentWillReceiveProps==`function`&&instance.componentWillReceiveProps(newProps,nextContext),typeof instance.UNSAFE_componentWillReceiveProps==`function`&&instance.UNSAFE_componentWillReceiveProps(newProps,nextContext),instance.state!==workInProgress$1&&classComponentUpdater.enqueueReplaceState(instance,instance.state,null)}function resolveClassComponentProps(Component$1,baseProps){var newProps=baseProps;if(`ref`in baseProps)for(var propName in newProps={},baseProps)propName!==`ref`&&(newProps[propName]=baseProps[propName]);if(Component$1=Component$1.defaultProps)for(var propName$73 in newProps===baseProps&&(newProps=assign$1({},newProps)),Component$1)newProps[propName$73]===void 0&&(newProps[propName$73]=Component$1[propName$73]);return newProps}function defaultOnUncaughtError(error){reportGlobalError(error)}function defaultOnCaughtError(error){console.error(error)}function defaultOnRecoverableError(error){reportGlobalError(error)}function logUncaughtError(root$1,errorInfo){try{var onUncaughtError=root$1.onUncaughtError;onUncaughtError(errorInfo.value,{componentStack:errorInfo.stack})}catch(e$74){setTimeout(function(){throw e$74})}}function logCaughtError(root$1,boundary,errorInfo){try{var onCaughtError=root$1.onCaughtError;onCaughtError(errorInfo.value,{componentStack:errorInfo.stack,errorBoundary:boundary.tag===1?boundary.stateNode:null})}catch(e$75){setTimeout(function(){throw e$75})}}function createRootErrorUpdate(root$1,errorInfo,lane){return lane=createUpdate(lane),lane.tag=3,lane.payload={element:null},lane.callback=function(){logUncaughtError(root$1,errorInfo)},lane}function createClassErrorUpdate(lane){return lane=createUpdate(lane),lane.tag=3,lane}function initializeClassErrorUpdate(update,root$1,fiber,errorInfo){var getDerivedStateFromError=fiber.type.getDerivedStateFromError;if(typeof getDerivedStateFromError==`function`){var error=errorInfo.value;update.payload=function(){return getDerivedStateFromError(error)},update.callback=function(){logCaughtError(root$1,fiber,errorInfo)}}var inst=fiber.stateNode;inst!==null&&typeof inst.componentDidCatch==`function`&&(update.callback=function(){logCaughtError(root$1,fiber,errorInfo),typeof getDerivedStateFromError!=`function`&&(legacyErrorBoundariesThatAlreadyFailed===null?legacyErrorBoundariesThatAlreadyFailed=new Set([this]):legacyErrorBoundariesThatAlreadyFailed.add(this));var stack=errorInfo.stack;this.componentDidCatch(errorInfo.value,{componentStack:stack===null?``:stack})})}function throwException(root$1,returnFiber,sourceFiber,value,rootRenderLanes){if(sourceFiber.flags|=32768,typeof value==`object`&&value&&typeof value.then==`function`){if(returnFiber=sourceFiber.alternate,returnFiber!==null&&propagateParentContextChanges(returnFiber,sourceFiber,rootRenderLanes,!0),sourceFiber=suspenseHandlerStackCursor.current,sourceFiber!==null){switch(sourceFiber.tag){case 31:case 13:return shellBoundary===null?renderDidSuspendDelayIfPossible():sourceFiber.alternate===null&&workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=3),sourceFiber.flags&=-257,sourceFiber.flags|=65536,sourceFiber.lanes=rootRenderLanes,value===noopSuspenseyCommitThenable?sourceFiber.flags|=16384:(returnFiber=sourceFiber.updateQueue,returnFiber===null?sourceFiber.updateQueue=new Set([value]):returnFiber.add(value),attachPingListener(root$1,value,rootRenderLanes)),!1;case 22:return sourceFiber.flags|=65536,value===noopSuspenseyCommitThenable?sourceFiber.flags|=16384:(returnFiber=sourceFiber.updateQueue,returnFiber===null?(returnFiber={transitions:null,markerInstances:null,retryQueue:new Set([value])},sourceFiber.updateQueue=returnFiber):(sourceFiber=returnFiber.retryQueue,sourceFiber===null?returnFiber.retryQueue=new Set([value]):sourceFiber.add(value)),attachPingListener(root$1,value,rootRenderLanes)),!1}throw Error(formatProdErrorMessage(435,sourceFiber.tag))}return attachPingListener(root$1,value,rootRenderLanes),renderDidSuspendDelayIfPossible(),!1}if(isHydrating)return returnFiber=suspenseHandlerStackCursor.current,returnFiber===null?(value!==HydrationMismatchException&&(returnFiber=Error(formatProdErrorMessage(423),{cause:value}),queueHydrationError(createCapturedValueAtFiber(returnFiber,sourceFiber))),root$1=root$1.current.alternate,root$1.flags|=65536,rootRenderLanes&=-rootRenderLanes,root$1.lanes|=rootRenderLanes,value=createCapturedValueAtFiber(value,sourceFiber),rootRenderLanes=createRootErrorUpdate(root$1.stateNode,value,rootRenderLanes),enqueueCapturedUpdate(root$1,rootRenderLanes),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2)):(!(returnFiber.flags&65536)&&(returnFiber.flags|=256),returnFiber.flags|=65536,returnFiber.lanes=rootRenderLanes,value!==HydrationMismatchException&&(root$1=Error(formatProdErrorMessage(422),{cause:value}),queueHydrationError(createCapturedValueAtFiber(root$1,sourceFiber)))),!1;var wrapperError=Error(formatProdErrorMessage(520),{cause:value});if(wrapperError=createCapturedValueAtFiber(wrapperError,sourceFiber),workInProgressRootConcurrentErrors===null?workInProgressRootConcurrentErrors=[wrapperError]:workInProgressRootConcurrentErrors.push(wrapperError),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2),returnFiber===null)return!0;value=createCapturedValueAtFiber(value,sourceFiber),sourceFiber=returnFiber;do{switch(sourceFiber.tag){case 3:return sourceFiber.flags|=65536,root$1=rootRenderLanes&-rootRenderLanes,sourceFiber.lanes|=root$1,root$1=createRootErrorUpdate(sourceFiber.stateNode,value,root$1),enqueueCapturedUpdate(sourceFiber,root$1),!1;case 1:if(returnFiber=sourceFiber.type,wrapperError=sourceFiber.stateNode,!(sourceFiber.flags&128)&&(typeof returnFiber.getDerivedStateFromError==`function`||wrapperError!==null&&typeof wrapperError.componentDidCatch==`function`&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(wrapperError))))return sourceFiber.flags|=65536,rootRenderLanes&=-rootRenderLanes,sourceFiber.lanes|=rootRenderLanes,rootRenderLanes=createClassErrorUpdate(rootRenderLanes),initializeClassErrorUpdate(rootRenderLanes,root$1,sourceFiber,value),enqueueCapturedUpdate(sourceFiber,rootRenderLanes),!1}sourceFiber=sourceFiber.return}while(sourceFiber!==null);return!1}var SelectiveHydrationException=Error(formatProdErrorMessage(461)),didReceiveUpdate=!1;function reconcileChildren(current,workInProgress$1,nextChildren,renderLanes$1){workInProgress$1.child=current===null?mountChildFibers(workInProgress$1,null,nextChildren,renderLanes$1):reconcileChildFibers(workInProgress$1,current.child,nextChildren,renderLanes$1)}function updateForwardRef(current,workInProgress$1,Component$1,nextProps,renderLanes$1){Component$1=Component$1.render;var ref=workInProgress$1.ref;if(`ref`in nextProps){var propsWithoutRef={};for(var key in nextProps)key!==`ref`&&(propsWithoutRef[key]=nextProps[key])}else propsWithoutRef=nextProps;return prepareToReadContext(workInProgress$1),nextProps=renderWithHooks(current,workInProgress$1,Component$1,propsWithoutRef,ref,renderLanes$1),key=checkDidRenderIdHook(),current!==null&&!didReceiveUpdate?(bailoutHooks(current,workInProgress$1,renderLanes$1),bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)):(isHydrating&&key&&pushMaterializedTreeId(workInProgress$1),workInProgress$1.flags|=1,reconcileChildren(current,workInProgress$1,nextProps,renderLanes$1),workInProgress$1.child)}function updateMemoComponent(current,workInProgress$1,Component$1,nextProps,renderLanes$1){if(current===null){var type=Component$1.type;return typeof type==`function`&&!shouldConstruct(type)&&type.defaultProps===void 0&&Component$1.compare===null?(workInProgress$1.tag=15,workInProgress$1.type=type,updateSimpleMemoComponent(current,workInProgress$1,type,nextProps,renderLanes$1)):(current=createFiberFromTypeAndProps(Component$1.type,null,nextProps,workInProgress$1,workInProgress$1.mode,renderLanes$1),current.ref=workInProgress$1.ref,current.return=workInProgress$1,workInProgress$1.child=current)}if(type=current.child,!checkScheduledUpdateOrContext(current,renderLanes$1)){var prevProps=type.memoizedProps;if(Component$1=Component$1.compare,Component$1=Component$1===null?shallowEqual:Component$1,Component$1(prevProps,nextProps)&&current.ref===workInProgress$1.ref)return bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)}return workInProgress$1.flags|=1,current=createWorkInProgress(type,nextProps),current.ref=workInProgress$1.ref,current.return=workInProgress$1,workInProgress$1.child=current}function updateSimpleMemoComponent(current,workInProgress$1,Component$1,nextProps,renderLanes$1){if(current!==null){var prevProps=current.memoizedProps;if(shallowEqual(prevProps,nextProps)&&current.ref===workInProgress$1.ref)if(didReceiveUpdate=!1,workInProgress$1.pendingProps=nextProps=prevProps,checkScheduledUpdateOrContext(current,renderLanes$1))current.flags&131072&&(didReceiveUpdate=!0);else return workInProgress$1.lanes=current.lanes,bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)}return updateFunctionComponent(current,workInProgress$1,Component$1,nextProps,renderLanes$1)}function updateOffscreenComponent(current,workInProgress$1,renderLanes$1,nextProps){var nextChildren=nextProps.children,prevState=current===null?null:current.memoizedState;if(current===null&&workInProgress$1.stateNode===null&&(workInProgress$1.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),nextProps.mode===`hidden`){if(workInProgress$1.flags&128){if(prevState=prevState===null?renderLanes$1:prevState.baseLanes|renderLanes$1,current!==null){for(nextProps=workInProgress$1.child=current.child,nextChildren=0;nextProps!==null;)nextChildren=nextChildren|nextProps.lanes|nextProps.childLanes,nextProps=nextProps.sibling;nextProps=nextChildren&~prevState}else nextProps=0,workInProgress$1.child=null;return deferHiddenOffscreenComponent(current,workInProgress$1,prevState,renderLanes$1,nextProps)}if(renderLanes$1&536870912)workInProgress$1.memoizedState={baseLanes:0,cachePool:null},current!==null&&pushTransition(workInProgress$1,prevState===null?null:prevState.cachePool),prevState===null?reuseHiddenContextOnStack():pushHiddenContext(workInProgress$1,prevState),pushOffscreenSuspenseHandler(workInProgress$1);else return nextProps=workInProgress$1.lanes=536870912,deferHiddenOffscreenComponent(current,workInProgress$1,prevState===null?renderLanes$1:prevState.baseLanes|renderLanes$1,renderLanes$1,nextProps)}else prevState===null?(current!==null&&pushTransition(workInProgress$1,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack(workInProgress$1)):(pushTransition(workInProgress$1,prevState.cachePool),pushHiddenContext(workInProgress$1,prevState),reuseSuspenseHandlerOnStack(workInProgress$1),workInProgress$1.memoizedState=null);return reconcileChildren(current,workInProgress$1,nextChildren,renderLanes$1),workInProgress$1.child}function bailoutOffscreenComponent(current,workInProgress$1){return current!==null&&current.tag===22||workInProgress$1.stateNode!==null||(workInProgress$1.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),workInProgress$1.sibling}function deferHiddenOffscreenComponent(current,workInProgress$1,nextBaseLanes,renderLanes$1,remainingChildLanes){var JSCompiler_inline_result=peekCacheFromPool();return JSCompiler_inline_result=JSCompiler_inline_result===null?null:{parent:CacheContext._currentValue,pool:JSCompiler_inline_result},workInProgress$1.memoizedState={baseLanes:nextBaseLanes,cachePool:JSCompiler_inline_result},current!==null&&pushTransition(workInProgress$1,null),reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler(workInProgress$1),current!==null&&propagateParentContextChanges(current,workInProgress$1,renderLanes$1,!0),workInProgress$1.childLanes=remainingChildLanes,null}function mountActivityChildren(workInProgress$1,nextProps){return nextProps=mountWorkInProgressOffscreenFiber({mode:nextProps.mode,children:nextProps.children},workInProgress$1.mode),nextProps.ref=workInProgress$1.ref,workInProgress$1.child=nextProps,nextProps.return=workInProgress$1,nextProps}function retryActivityComponentWithoutHydrating(current,workInProgress$1,renderLanes$1){return reconcileChildFibers(workInProgress$1,current.child,null,renderLanes$1),current=mountActivityChildren(workInProgress$1,workInProgress$1.pendingProps),current.flags|=2,popSuspenseHandler(workInProgress$1),workInProgress$1.memoizedState=null,current}function updateActivityComponent(current,workInProgress$1,renderLanes$1){var nextProps=workInProgress$1.pendingProps,didSuspend=(workInProgress$1.flags&128)!=0;if(workInProgress$1.flags&=-129,current===null){if(isHydrating){if(nextProps.mode===`hidden`)return current=mountActivityChildren(workInProgress$1,nextProps),workInProgress$1.lanes=536870912,bailoutOffscreenComponent(null,current);if(pushDehydratedActivitySuspenseHandler(workInProgress$1),(current=nextHydratableInstance)?(current=canHydrateHydrationBoundary(current,rootOrSingletonContext),current=current!==null&&current.data===`&`?current:null,current!==null&&(workInProgress$1.memoizedState={dehydrated:current,treeContext:treeContextProvider===null?null:{id:treeContextId,overflow:treeContextOverflow},retryLane:536870912,hydrationErrors:null},renderLanes$1=createFiberFromDehydratedFragment(current),renderLanes$1.return=workInProgress$1,workInProgress$1.child=renderLanes$1,hydrationParentFiber=workInProgress$1,nextHydratableInstance=null)):current=null,current===null)throw throwOnHydrationMismatch(workInProgress$1);return workInProgress$1.lanes=536870912,null}return mountActivityChildren(workInProgress$1,nextProps)}var prevState=current.memoizedState;if(prevState!==null){var dehydrated=prevState.dehydrated;if(pushDehydratedActivitySuspenseHandler(workInProgress$1),didSuspend)if(workInProgress$1.flags&256)workInProgress$1.flags&=-257,workInProgress$1=retryActivityComponentWithoutHydrating(current,workInProgress$1,renderLanes$1);else if(workInProgress$1.memoizedState!==null)workInProgress$1.child=current.child,workInProgress$1.flags|=128,workInProgress$1=null;else throw Error(formatProdErrorMessage(558));else if(didReceiveUpdate||propagateParentContextChanges(current,workInProgress$1,renderLanes$1,!1),didSuspend=(renderLanes$1&current.childLanes)!==0,didReceiveUpdate||didSuspend){if(nextProps=workInProgressRoot,nextProps!==null&&(dehydrated=getBumpedLaneForHydration(nextProps,renderLanes$1),dehydrated!==0&&dehydrated!==prevState.retryLane))throw prevState.retryLane=dehydrated,enqueueConcurrentRenderForLane(current,dehydrated),scheduleUpdateOnFiber(nextProps,current,dehydrated),SelectiveHydrationException;renderDidSuspendDelayIfPossible(),workInProgress$1=retryActivityComponentWithoutHydrating(current,workInProgress$1,renderLanes$1)}else current=prevState.treeContext,nextHydratableInstance=getNextHydratable(dehydrated.nextSibling),hydrationParentFiber=workInProgress$1,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!1,current!==null&&restoreSuspendedTreeContext(workInProgress$1,current),workInProgress$1=mountActivityChildren(workInProgress$1,nextProps),workInProgress$1.flags|=4096;return workInProgress$1}return current=createWorkInProgress(current.child,{mode:nextProps.mode,children:nextProps.children}),current.ref=workInProgress$1.ref,workInProgress$1.child=current,current.return=workInProgress$1,current}function markRef(current,workInProgress$1){var ref=workInProgress$1.ref;if(ref===null)current!==null&&current.ref!==null&&(workInProgress$1.flags|=4194816);else{if(typeof ref!=`function`&&typeof ref!=`object`)throw Error(formatProdErrorMessage(284));(current===null||current.ref!==ref)&&(workInProgress$1.flags|=4194816)}}function updateFunctionComponent(current,workInProgress$1,Component$1,nextProps,renderLanes$1){return prepareToReadContext(workInProgress$1),Component$1=renderWithHooks(current,workInProgress$1,Component$1,nextProps,void 0,renderLanes$1),nextProps=checkDidRenderIdHook(),current!==null&&!didReceiveUpdate?(bailoutHooks(current,workInProgress$1,renderLanes$1),bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)):(isHydrating&&nextProps&&pushMaterializedTreeId(workInProgress$1),workInProgress$1.flags|=1,reconcileChildren(current,workInProgress$1,Component$1,renderLanes$1),workInProgress$1.child)}function replayFunctionComponent(current,workInProgress$1,nextProps,Component$1,secondArg,renderLanes$1){return prepareToReadContext(workInProgress$1),workInProgress$1.updateQueue=null,nextProps=renderWithHooksAgain(workInProgress$1,Component$1,nextProps,secondArg),finishRenderingHooks(current),Component$1=checkDidRenderIdHook(),current!==null&&!didReceiveUpdate?(bailoutHooks(current,workInProgress$1,renderLanes$1),bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)):(isHydrating&&Component$1&&pushMaterializedTreeId(workInProgress$1),workInProgress$1.flags|=1,reconcileChildren(current,workInProgress$1,nextProps,renderLanes$1),workInProgress$1.child)}function updateClassComponent(current,workInProgress$1,Component$1,nextProps,renderLanes$1){if(prepareToReadContext(workInProgress$1),workInProgress$1.stateNode===null){var context=emptyContextObject,contextType=Component$1.contextType;typeof contextType==`object`&&contextType&&(context=readContext(contextType)),context=new Component$1(nextProps,context),workInProgress$1.memoizedState=context.state!==null&&context.state!==void 0?context.state:null,context.updater=classComponentUpdater,workInProgress$1.stateNode=context,context._reactInternals=workInProgress$1,context=workInProgress$1.stateNode,context.props=nextProps,context.state=workInProgress$1.memoizedState,context.refs={},initializeUpdateQueue(workInProgress$1),contextType=Component$1.contextType,context.context=typeof contextType==`object`&&contextType?readContext(contextType):emptyContextObject,context.state=workInProgress$1.memoizedState,contextType=Component$1.getDerivedStateFromProps,typeof contextType==`function`&&(applyDerivedStateFromProps(workInProgress$1,Component$1,contextType,nextProps),context.state=workInProgress$1.memoizedState),typeof Component$1.getDerivedStateFromProps==`function`||typeof context.getSnapshotBeforeUpdate==`function`||typeof context.UNSAFE_componentWillMount!=`function`&&typeof context.componentWillMount!=`function`||(contextType=context.state,typeof context.componentWillMount==`function`&&context.componentWillMount(),typeof context.UNSAFE_componentWillMount==`function`&&context.UNSAFE_componentWillMount(),contextType!==context.state&&classComponentUpdater.enqueueReplaceState(context,context.state,null),processUpdateQueue(workInProgress$1,nextProps,context,renderLanes$1),suspendIfUpdateReadFromEntangledAsyncAction(),context.state=workInProgress$1.memoizedState),typeof context.componentDidMount==`function`&&(workInProgress$1.flags|=4194308),nextProps=!0}else if(current===null){context=workInProgress$1.stateNode;var unresolvedOldProps=workInProgress$1.memoizedProps,oldProps=resolveClassComponentProps(Component$1,unresolvedOldProps);context.props=oldProps;var oldContext=context.context,contextType$jscomp$0=Component$1.contextType;contextType=emptyContextObject,typeof contextType$jscomp$0==`object`&&contextType$jscomp$0&&(contextType=readContext(contextType$jscomp$0));var getDerivedStateFromProps=Component$1.getDerivedStateFromProps;contextType$jscomp$0=typeof getDerivedStateFromProps==`function`||typeof context.getSnapshotBeforeUpdate==`function`,unresolvedOldProps=workInProgress$1.pendingProps!==unresolvedOldProps,contextType$jscomp$0||typeof context.UNSAFE_componentWillReceiveProps!=`function`&&typeof context.componentWillReceiveProps!=`function`||(unresolvedOldProps||oldContext!==contextType)&&callComponentWillReceiveProps(workInProgress$1,context,nextProps,contextType),hasForceUpdate=!1;var oldState=workInProgress$1.memoizedState;context.state=oldState,processUpdateQueue(workInProgress$1,nextProps,context,renderLanes$1),suspendIfUpdateReadFromEntangledAsyncAction(),oldContext=workInProgress$1.memoizedState,unresolvedOldProps||oldState!==oldContext||hasForceUpdate?(typeof getDerivedStateFromProps==`function`&&(applyDerivedStateFromProps(workInProgress$1,Component$1,getDerivedStateFromProps,nextProps),oldContext=workInProgress$1.memoizedState),(oldProps=hasForceUpdate||checkShouldComponentUpdate(workInProgress$1,Component$1,oldProps,nextProps,oldState,oldContext,contextType))?(contextType$jscomp$0||typeof context.UNSAFE_componentWillMount!=`function`&&typeof context.componentWillMount!=`function`||(typeof context.componentWillMount==`function`&&context.componentWillMount(),typeof context.UNSAFE_componentWillMount==`function`&&context.UNSAFE_componentWillMount()),typeof context.componentDidMount==`function`&&(workInProgress$1.flags|=4194308)):(typeof context.componentDidMount==`function`&&(workInProgress$1.flags|=4194308),workInProgress$1.memoizedProps=nextProps,workInProgress$1.memoizedState=oldContext),context.props=nextProps,context.state=oldContext,context.context=contextType,nextProps=oldProps):(typeof context.componentDidMount==`function`&&(workInProgress$1.flags|=4194308),nextProps=!1)}else{context=workInProgress$1.stateNode,cloneUpdateQueue(current,workInProgress$1),contextType=workInProgress$1.memoizedProps,contextType$jscomp$0=resolveClassComponentProps(Component$1,contextType),context.props=contextType$jscomp$0,getDerivedStateFromProps=workInProgress$1.pendingProps,oldState=context.context,oldContext=Component$1.contextType,oldProps=emptyContextObject,typeof oldContext==`object`&&oldContext&&(oldProps=readContext(oldContext)),unresolvedOldProps=Component$1.getDerivedStateFromProps,(oldContext=typeof unresolvedOldProps==`function`||typeof context.getSnapshotBeforeUpdate==`function`)||typeof context.UNSAFE_componentWillReceiveProps!=`function`&&typeof context.componentWillReceiveProps!=`function`||(contextType!==getDerivedStateFromProps||oldState!==oldProps)&&callComponentWillReceiveProps(workInProgress$1,context,nextProps,oldProps),hasForceUpdate=!1,oldState=workInProgress$1.memoizedState,context.state=oldState,processUpdateQueue(workInProgress$1,nextProps,context,renderLanes$1),suspendIfUpdateReadFromEntangledAsyncAction();var newState=workInProgress$1.memoizedState;contextType!==getDerivedStateFromProps||oldState!==newState||hasForceUpdate||current!==null&&current.dependencies!==null&&checkIfContextChanged(current.dependencies)?(typeof unresolvedOldProps==`function`&&(applyDerivedStateFromProps(workInProgress$1,Component$1,unresolvedOldProps,nextProps),newState=workInProgress$1.memoizedState),(contextType$jscomp$0=hasForceUpdate||checkShouldComponentUpdate(workInProgress$1,Component$1,contextType$jscomp$0,nextProps,oldState,newState,oldProps)||current!==null&&current.dependencies!==null&&checkIfContextChanged(current.dependencies))?(oldContext||typeof context.UNSAFE_componentWillUpdate!=`function`&&typeof context.componentWillUpdate!=`function`||(typeof context.componentWillUpdate==`function`&&context.componentWillUpdate(nextProps,newState,oldProps),typeof context.UNSAFE_componentWillUpdate==`function`&&context.UNSAFE_componentWillUpdate(nextProps,newState,oldProps)),typeof context.componentDidUpdate==`function`&&(workInProgress$1.flags|=4),typeof context.getSnapshotBeforeUpdate==`function`&&(workInProgress$1.flags|=1024)):(typeof context.componentDidUpdate!=`function`||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress$1.flags|=4),typeof context.getSnapshotBeforeUpdate!=`function`||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress$1.flags|=1024),workInProgress$1.memoizedProps=nextProps,workInProgress$1.memoizedState=newState),context.props=nextProps,context.state=newState,context.context=oldProps,nextProps=contextType$jscomp$0):(typeof context.componentDidUpdate!=`function`||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress$1.flags|=4),typeof context.getSnapshotBeforeUpdate!=`function`||contextType===current.memoizedProps&&oldState===current.memoizedState||(workInProgress$1.flags|=1024),nextProps=!1)}return context=nextProps,markRef(current,workInProgress$1),nextProps=(workInProgress$1.flags&128)!=0,context||nextProps?(context=workInProgress$1.stateNode,Component$1=nextProps&&typeof Component$1.getDerivedStateFromError!=`function`?null:context.render(),workInProgress$1.flags|=1,current!==null&&nextProps?(workInProgress$1.child=reconcileChildFibers(workInProgress$1,current.child,null,renderLanes$1),workInProgress$1.child=reconcileChildFibers(workInProgress$1,null,Component$1,renderLanes$1)):reconcileChildren(current,workInProgress$1,Component$1,renderLanes$1),workInProgress$1.memoizedState=context.state,current=workInProgress$1.child):current=bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1),current}function mountHostRootWithoutHydrating(current,workInProgress$1,nextChildren,renderLanes$1){return resetHydrationState(),workInProgress$1.flags|=256,reconcileChildren(current,workInProgress$1,nextChildren,renderLanes$1),workInProgress$1.child}var SUSPENDED_MARKER={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mountSuspenseOffscreenState(renderLanes$1){return{baseLanes:renderLanes$1,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(current,primaryTreeDidDefer,renderLanes$1){return current=current===null?0:current.childLanes&~renderLanes$1,primaryTreeDidDefer&&(current|=workInProgressDeferredLane),current}function updateSuspenseComponent(current,workInProgress$1,renderLanes$1){var nextProps=workInProgress$1.pendingProps,showFallback=!1,didSuspend=(workInProgress$1.flags&128)!=0,JSCompiler_temp;if((JSCompiler_temp=didSuspend)||(JSCompiler_temp=current!==null&&current.memoizedState===null?!1:(suspenseStackCursor.current&2)!=0),JSCompiler_temp&&(showFallback=!0,workInProgress$1.flags&=-129),JSCompiler_temp=(workInProgress$1.flags&32)!=0,workInProgress$1.flags&=-33,current===null){if(isHydrating){if(showFallback?pushPrimaryTreeSuspenseHandler(workInProgress$1):reuseSuspenseHandlerOnStack(workInProgress$1),(current=nextHydratableInstance)?(current=canHydrateHydrationBoundary(current,rootOrSingletonContext),current=current!==null&&current.data!==`&`?current:null,current!==null&&(workInProgress$1.memoizedState={dehydrated:current,treeContext:treeContextProvider===null?null:{id:treeContextId,overflow:treeContextOverflow},retryLane:536870912,hydrationErrors:null},renderLanes$1=createFiberFromDehydratedFragment(current),renderLanes$1.return=workInProgress$1,workInProgress$1.child=renderLanes$1,hydrationParentFiber=workInProgress$1,nextHydratableInstance=null)):current=null,current===null)throw throwOnHydrationMismatch(workInProgress$1);return isSuspenseInstanceFallback(current)?workInProgress$1.lanes=32:workInProgress$1.lanes=536870912,null}var nextPrimaryChildren=nextProps.children;return nextProps=nextProps.fallback,showFallback?(reuseSuspenseHandlerOnStack(workInProgress$1),showFallback=workInProgress$1.mode,nextPrimaryChildren=mountWorkInProgressOffscreenFiber({mode:`hidden`,children:nextPrimaryChildren},showFallback),nextProps=createFiberFromFragment(nextProps,showFallback,renderLanes$1,null),nextPrimaryChildren.return=workInProgress$1,nextProps.return=workInProgress$1,nextPrimaryChildren.sibling=nextProps,workInProgress$1.child=nextPrimaryChildren,nextProps=workInProgress$1.child,nextProps.memoizedState=mountSuspenseOffscreenState(renderLanes$1),nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes$1),workInProgress$1.memoizedState=SUSPENDED_MARKER,bailoutOffscreenComponent(null,nextProps)):(pushPrimaryTreeSuspenseHandler(workInProgress$1),mountSuspensePrimaryChildren(workInProgress$1,nextPrimaryChildren))}var prevState=current.memoizedState;if(prevState!==null&&(nextPrimaryChildren=prevState.dehydrated,nextPrimaryChildren!==null)){if(didSuspend)workInProgress$1.flags&256?(pushPrimaryTreeSuspenseHandler(workInProgress$1),workInProgress$1.flags&=-257,workInProgress$1=retrySuspenseComponentWithoutHydrating(current,workInProgress$1,renderLanes$1)):workInProgress$1.memoizedState===null?(reuseSuspenseHandlerOnStack(workInProgress$1),nextPrimaryChildren=nextProps.fallback,showFallback=workInProgress$1.mode,nextProps=mountWorkInProgressOffscreenFiber({mode:`visible`,children:nextProps.children},showFallback),nextPrimaryChildren=createFiberFromFragment(nextPrimaryChildren,showFallback,renderLanes$1,null),nextPrimaryChildren.flags|=2,nextProps.return=workInProgress$1,nextPrimaryChildren.return=workInProgress$1,nextProps.sibling=nextPrimaryChildren,workInProgress$1.child=nextProps,reconcileChildFibers(workInProgress$1,current.child,null,renderLanes$1),nextProps=workInProgress$1.child,nextProps.memoizedState=mountSuspenseOffscreenState(renderLanes$1),nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes$1),workInProgress$1.memoizedState=SUSPENDED_MARKER,workInProgress$1=bailoutOffscreenComponent(null,nextProps)):(reuseSuspenseHandlerOnStack(workInProgress$1),workInProgress$1.child=current.child,workInProgress$1.flags|=128,workInProgress$1=null);else if(pushPrimaryTreeSuspenseHandler(workInProgress$1),isSuspenseInstanceFallback(nextPrimaryChildren)){if(JSCompiler_temp=nextPrimaryChildren.nextSibling&&nextPrimaryChildren.nextSibling.dataset,JSCompiler_temp)var digest=JSCompiler_temp.dgst;JSCompiler_temp=digest,nextProps=Error(formatProdErrorMessage(419)),nextProps.stack=``,nextProps.digest=JSCompiler_temp,queueHydrationError({value:nextProps,source:null,stack:null}),workInProgress$1=retrySuspenseComponentWithoutHydrating(current,workInProgress$1,renderLanes$1)}else if(didReceiveUpdate||propagateParentContextChanges(current,workInProgress$1,renderLanes$1,!1),JSCompiler_temp=(renderLanes$1&current.childLanes)!==0,didReceiveUpdate||JSCompiler_temp){if(JSCompiler_temp=workInProgressRoot,JSCompiler_temp!==null&&(nextProps=getBumpedLaneForHydration(JSCompiler_temp,renderLanes$1),nextProps!==0&&nextProps!==prevState.retryLane))throw prevState.retryLane=nextProps,enqueueConcurrentRenderForLane(current,nextProps),scheduleUpdateOnFiber(JSCompiler_temp,current,nextProps),SelectiveHydrationException;isSuspenseInstancePending(nextPrimaryChildren)||renderDidSuspendDelayIfPossible(),workInProgress$1=retrySuspenseComponentWithoutHydrating(current,workInProgress$1,renderLanes$1)}else isSuspenseInstancePending(nextPrimaryChildren)?(workInProgress$1.flags|=192,workInProgress$1.child=current.child,workInProgress$1=null):(current=prevState.treeContext,nextHydratableInstance=getNextHydratable(nextPrimaryChildren.nextSibling),hydrationParentFiber=workInProgress$1,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!1,current!==null&&restoreSuspendedTreeContext(workInProgress$1,current),workInProgress$1=mountSuspensePrimaryChildren(workInProgress$1,nextProps.children),workInProgress$1.flags|=4096);return workInProgress$1}return showFallback?(reuseSuspenseHandlerOnStack(workInProgress$1),nextPrimaryChildren=nextProps.fallback,showFallback=workInProgress$1.mode,prevState=current.child,digest=prevState.sibling,nextProps=createWorkInProgress(prevState,{mode:`hidden`,children:nextProps.children}),nextProps.subtreeFlags=prevState.subtreeFlags&65011712,digest===null?(nextPrimaryChildren=createFiberFromFragment(nextPrimaryChildren,showFallback,renderLanes$1,null),nextPrimaryChildren.flags|=2):nextPrimaryChildren=createWorkInProgress(digest,nextPrimaryChildren),nextPrimaryChildren.return=workInProgress$1,nextProps.return=workInProgress$1,nextProps.sibling=nextPrimaryChildren,workInProgress$1.child=nextProps,bailoutOffscreenComponent(null,nextProps),nextProps=workInProgress$1.child,nextPrimaryChildren=current.child.memoizedState,nextPrimaryChildren===null?nextPrimaryChildren=mountSuspenseOffscreenState(renderLanes$1):(showFallback=nextPrimaryChildren.cachePool,showFallback===null?showFallback=getSuspendedCache():(prevState=CacheContext._currentValue,showFallback=showFallback.parent===prevState?showFallback:{parent:prevState,pool:prevState}),nextPrimaryChildren={baseLanes:nextPrimaryChildren.baseLanes|renderLanes$1,cachePool:showFallback}),nextProps.memoizedState=nextPrimaryChildren,nextProps.childLanes=getRemainingWorkInPrimaryTree(current,JSCompiler_temp,renderLanes$1),workInProgress$1.memoizedState=SUSPENDED_MARKER,bailoutOffscreenComponent(current.child,nextProps)):(pushPrimaryTreeSuspenseHandler(workInProgress$1),renderLanes$1=current.child,current=renderLanes$1.sibling,renderLanes$1=createWorkInProgress(renderLanes$1,{mode:`visible`,children:nextProps.children}),renderLanes$1.return=workInProgress$1,renderLanes$1.sibling=null,current!==null&&(JSCompiler_temp=workInProgress$1.deletions,JSCompiler_temp===null?(workInProgress$1.deletions=[current],workInProgress$1.flags|=16):JSCompiler_temp.push(current)),workInProgress$1.child=renderLanes$1,workInProgress$1.memoizedState=null,renderLanes$1)}function mountSuspensePrimaryChildren(workInProgress$1,primaryChildren){return primaryChildren=mountWorkInProgressOffscreenFiber({mode:`visible`,children:primaryChildren},workInProgress$1.mode),primaryChildren.return=workInProgress$1,workInProgress$1.child=primaryChildren}function mountWorkInProgressOffscreenFiber(offscreenProps,mode){return offscreenProps=createFiberImplClass(22,offscreenProps,null,mode),offscreenProps.lanes=0,offscreenProps}function retrySuspenseComponentWithoutHydrating(current,workInProgress$1,renderLanes$1){return reconcileChildFibers(workInProgress$1,current.child,null,renderLanes$1),current=mountSuspensePrimaryChildren(workInProgress$1,workInProgress$1.pendingProps.children),current.flags|=2,workInProgress$1.memoizedState=null,current}function scheduleSuspenseWorkOnFiber(fiber,renderLanes$1,propagationRoot){fiber.lanes|=renderLanes$1;var alternate=fiber.alternate;alternate!==null&&(alternate.lanes|=renderLanes$1),scheduleContextWorkOnParentPath(fiber.return,renderLanes$1,propagationRoot)}function initSuspenseListRenderState(workInProgress$1,isBackwards,tail,lastContentRow,tailMode,treeForkCount$1){var renderState=workInProgress$1.memoizedState;renderState===null?workInProgress$1.memoizedState={isBackwards,rendering:null,renderingStartTime:0,last:lastContentRow,tail,tailMode,treeForkCount:treeForkCount$1}:(renderState.isBackwards=isBackwards,renderState.rendering=null,renderState.renderingStartTime=0,renderState.last=lastContentRow,renderState.tail=tail,renderState.tailMode=tailMode,renderState.treeForkCount=treeForkCount$1)}function updateSuspenseListComponent(current,workInProgress$1,renderLanes$1){var nextProps=workInProgress$1.pendingProps,revealOrder=nextProps.revealOrder,tailMode=nextProps.tail;nextProps=nextProps.children;var suspenseContext=suspenseStackCursor.current,shouldForceFallback=(suspenseContext&2)!=0;if(shouldForceFallback?(suspenseContext=suspenseContext&1|2,workInProgress$1.flags|=128):suspenseContext&=1,push(suspenseStackCursor,suspenseContext),reconcileChildren(current,workInProgress$1,nextProps,renderLanes$1),nextProps=isHydrating?treeForkCount:0,!shouldForceFallback&&current!==null&&current.flags&128)a:for(current=workInProgress$1.child;current!==null;){if(current.tag===13)current.memoizedState!==null&&scheduleSuspenseWorkOnFiber(current,renderLanes$1,workInProgress$1);else if(current.tag===19)scheduleSuspenseWorkOnFiber(current,renderLanes$1,workInProgress$1);else if(current.child!==null){current.child.return=current,current=current.child;continue}if(current===workInProgress$1)break a;for(;current.sibling===null;){if(current.return===null||current.return===workInProgress$1)break a;current=current.return}current.sibling.return=current.return,current=current.sibling}switch(revealOrder){case`forwards`:for(renderLanes$1=workInProgress$1.child,revealOrder=null;renderLanes$1!==null;)current=renderLanes$1.alternate,current!==null&&findFirstSuspended(current)===null&&(revealOrder=renderLanes$1),renderLanes$1=renderLanes$1.sibling;renderLanes$1=revealOrder,renderLanes$1===null?(revealOrder=workInProgress$1.child,workInProgress$1.child=null):(revealOrder=renderLanes$1.sibling,renderLanes$1.sibling=null),initSuspenseListRenderState(workInProgress$1,!1,revealOrder,renderLanes$1,tailMode,nextProps);break;case`backwards`:case`unstable_legacy-backwards`:for(renderLanes$1=null,revealOrder=workInProgress$1.child,workInProgress$1.child=null;revealOrder!==null;){if(current=revealOrder.alternate,current!==null&&findFirstSuspended(current)===null){workInProgress$1.child=revealOrder;break}current=revealOrder.sibling,revealOrder.sibling=renderLanes$1,renderLanes$1=revealOrder,revealOrder=current}initSuspenseListRenderState(workInProgress$1,!0,renderLanes$1,null,tailMode,nextProps);break;case`together`:initSuspenseListRenderState(workInProgress$1,!1,null,null,void 0,nextProps);break;default:workInProgress$1.memoizedState=null}return workInProgress$1.child}function bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1){if(current!==null&&(workInProgress$1.dependencies=current.dependencies),workInProgressRootSkippedLanes|=workInProgress$1.lanes,(renderLanes$1&workInProgress$1.childLanes)===0)if(current!==null){if(propagateParentContextChanges(current,workInProgress$1,renderLanes$1,!1),(renderLanes$1&workInProgress$1.childLanes)===0)return null}else return null;if(current!==null&&workInProgress$1.child!==current.child)throw Error(formatProdErrorMessage(153));if(workInProgress$1.child!==null){for(current=workInProgress$1.child,renderLanes$1=createWorkInProgress(current,current.pendingProps),workInProgress$1.child=renderLanes$1,renderLanes$1.return=workInProgress$1;current.sibling!==null;)current=current.sibling,renderLanes$1=renderLanes$1.sibling=createWorkInProgress(current,current.pendingProps),renderLanes$1.return=workInProgress$1;renderLanes$1.sibling=null}return workInProgress$1.child}function checkScheduledUpdateOrContext(current,renderLanes$1){return(current.lanes&renderLanes$1)===0?(current=current.dependencies,!!(current!==null&&checkIfContextChanged(current))):!0}function attemptEarlyBailoutIfNoScheduledUpdate(current,workInProgress$1,renderLanes$1){switch(workInProgress$1.tag){case 3:pushHostContainer(workInProgress$1,workInProgress$1.stateNode.containerInfo),pushProvider(workInProgress$1,CacheContext,current.memoizedState.cache),resetHydrationState();break;case 27:case 5:pushHostContext(workInProgress$1);break;case 4:pushHostContainer(workInProgress$1,workInProgress$1.stateNode.containerInfo);break;case 10:pushProvider(workInProgress$1,workInProgress$1.type,workInProgress$1.memoizedProps.value);break;case 31:if(workInProgress$1.memoizedState!==null)return workInProgress$1.flags|=128,pushDehydratedActivitySuspenseHandler(workInProgress$1),null;break;case 13:var state$102=workInProgress$1.memoizedState;if(state$102!==null)return state$102.dehydrated===null?(renderLanes$1&workInProgress$1.child.childLanes)===0?(pushPrimaryTreeSuspenseHandler(workInProgress$1),current=bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1),current===null?null:current.sibling):updateSuspenseComponent(current,workInProgress$1,renderLanes$1):(pushPrimaryTreeSuspenseHandler(workInProgress$1),workInProgress$1.flags|=128,null);pushPrimaryTreeSuspenseHandler(workInProgress$1);break;case 19:var didSuspendBefore=(current.flags&128)!=0;if(state$102=(renderLanes$1&workInProgress$1.childLanes)!==0,state$102||=(propagateParentContextChanges(current,workInProgress$1,renderLanes$1,!1),(renderLanes$1&workInProgress$1.childLanes)!==0),didSuspendBefore){if(state$102)return updateSuspenseListComponent(current,workInProgress$1,renderLanes$1);workInProgress$1.flags|=128}if(didSuspendBefore=workInProgress$1.memoizedState,didSuspendBefore!==null&&(didSuspendBefore.rendering=null,didSuspendBefore.tail=null,didSuspendBefore.lastEffect=null),push(suspenseStackCursor,suspenseStackCursor.current),state$102)break;return null;case 22:return workInProgress$1.lanes=0,updateOffscreenComponent(current,workInProgress$1,renderLanes$1,workInProgress$1.pendingProps);case 24:pushProvider(workInProgress$1,CacheContext,current.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1)}function beginWork(current,workInProgress$1,renderLanes$1){if(current!==null)if(current.memoizedProps!==workInProgress$1.pendingProps)didReceiveUpdate=!0;else{if(!checkScheduledUpdateOrContext(current,renderLanes$1)&&!(workInProgress$1.flags&128))return didReceiveUpdate=!1,attemptEarlyBailoutIfNoScheduledUpdate(current,workInProgress$1,renderLanes$1);didReceiveUpdate=!!(current.flags&131072)}else didReceiveUpdate=!1,isHydrating&&workInProgress$1.flags&1048576&&pushTreeId(workInProgress$1,treeForkCount,workInProgress$1.index);switch(workInProgress$1.lanes=0,workInProgress$1.tag){case 16:a:{var props=workInProgress$1.pendingProps;if(current=resolveLazy(workInProgress$1.elementType),workInProgress$1.type=current,typeof current==`function`)shouldConstruct(current)?(props=resolveClassComponentProps(current,props),workInProgress$1.tag=1,workInProgress$1=updateClassComponent(null,workInProgress$1,current,props,renderLanes$1)):(workInProgress$1.tag=0,workInProgress$1=updateFunctionComponent(null,workInProgress$1,current,props,renderLanes$1));else{if(current!=null){var $$typeof=current.$$typeof;if($$typeof===REACT_FORWARD_REF_TYPE){workInProgress$1.tag=11,workInProgress$1=updateForwardRef(null,workInProgress$1,current,props,renderLanes$1);break a}else if($$typeof===REACT_MEMO_TYPE){workInProgress$1.tag=14,workInProgress$1=updateMemoComponent(null,workInProgress$1,current,props,renderLanes$1);break a}}throw workInProgress$1=getComponentNameFromType(current)||current,Error(formatProdErrorMessage(306,workInProgress$1,``))}}return workInProgress$1;case 0:return updateFunctionComponent(current,workInProgress$1,workInProgress$1.type,workInProgress$1.pendingProps,renderLanes$1);case 1:return props=workInProgress$1.type,$$typeof=resolveClassComponentProps(props,workInProgress$1.pendingProps),updateClassComponent(current,workInProgress$1,props,$$typeof,renderLanes$1);case 3:a:{if(pushHostContainer(workInProgress$1,workInProgress$1.stateNode.containerInfo),current===null)throw Error(formatProdErrorMessage(387));props=workInProgress$1.pendingProps;var prevState=workInProgress$1.memoizedState;$$typeof=prevState.element,cloneUpdateQueue(current,workInProgress$1),processUpdateQueue(workInProgress$1,props,null,renderLanes$1);var nextState=workInProgress$1.memoizedState;if(props=nextState.cache,pushProvider(workInProgress$1,CacheContext,props),props!==prevState.cache&&propagateContextChanges(workInProgress$1,[CacheContext],renderLanes$1,!0),suspendIfUpdateReadFromEntangledAsyncAction(),props=nextState.element,prevState.isDehydrated)if(prevState={element:props,isDehydrated:!1,cache:nextState.cache},workInProgress$1.updateQueue.baseState=prevState,workInProgress$1.memoizedState=prevState,workInProgress$1.flags&256){workInProgress$1=mountHostRootWithoutHydrating(current,workInProgress$1,props,renderLanes$1);break a}else if(props!==$$typeof){$$typeof=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),workInProgress$1),queueHydrationError($$typeof),workInProgress$1=mountHostRootWithoutHydrating(current,workInProgress$1,props,renderLanes$1);break a}else{switch(current=workInProgress$1.stateNode.containerInfo,current.nodeType){case 9:current=current.body;break;default:current=current.nodeName===`HTML`?current.ownerDocument.body:current}for(nextHydratableInstance=getNextHydratable(current.firstChild),hydrationParentFiber=workInProgress$1,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!0,renderLanes$1=mountChildFibers(workInProgress$1,null,props,renderLanes$1),workInProgress$1.child=renderLanes$1;renderLanes$1;)renderLanes$1.flags=renderLanes$1.flags&-3|4096,renderLanes$1=renderLanes$1.sibling}else{if(resetHydrationState(),props===$$typeof){workInProgress$1=bailoutOnAlreadyFinishedWork(current,workInProgress$1,renderLanes$1);break a}reconcileChildren(current,workInProgress$1,props,renderLanes$1)}workInProgress$1=workInProgress$1.child}return workInProgress$1;case 26:return markRef(current,workInProgress$1),current===null?(renderLanes$1=getResource(workInProgress$1.type,null,workInProgress$1.pendingProps,null))?workInProgress$1.memoizedState=renderLanes$1:isHydrating||(renderLanes$1=workInProgress$1.type,current=workInProgress$1.pendingProps,props=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current).createElement(renderLanes$1),props[internalInstanceKey]=workInProgress$1,props[internalPropsKey]=current,setInitialProperties(props,renderLanes$1,current),markNodeAsHoistable(props),workInProgress$1.stateNode=props):workInProgress$1.memoizedState=getResource(workInProgress$1.type,current.memoizedProps,workInProgress$1.pendingProps,current.memoizedState),null;case 27:return pushHostContext(workInProgress$1),current===null&&isHydrating&&(props=workInProgress$1.stateNode=resolveSingletonInstance(workInProgress$1.type,workInProgress$1.pendingProps,rootInstanceStackCursor.current),hydrationParentFiber=workInProgress$1,rootOrSingletonContext=!0,$$typeof=nextHydratableInstance,isSingletonScope(workInProgress$1.type)?(previousHydratableOnEnteringScopedSingleton=$$typeof,nextHydratableInstance=getNextHydratable(props.firstChild)):nextHydratableInstance=$$typeof),reconcileChildren(current,workInProgress$1,workInProgress$1.pendingProps.children,renderLanes$1),markRef(current,workInProgress$1),current===null&&(workInProgress$1.flags|=4194304),workInProgress$1.child;case 5:return current===null&&isHydrating&&(($$typeof=props=nextHydratableInstance)&&(props=canHydrateInstance(props,workInProgress$1.type,workInProgress$1.pendingProps,rootOrSingletonContext),props===null?$$typeof=!1:(workInProgress$1.stateNode=props,hydrationParentFiber=workInProgress$1,nextHydratableInstance=getNextHydratable(props.firstChild),rootOrSingletonContext=!1,$$typeof=!0)),$$typeof||throwOnHydrationMismatch(workInProgress$1)),pushHostContext(workInProgress$1),$$typeof=workInProgress$1.type,prevState=workInProgress$1.pendingProps,nextState=current===null?null:current.memoizedProps,props=prevState.children,shouldSetTextContent($$typeof,prevState)?props=null:nextState!==null&&shouldSetTextContent($$typeof,nextState)&&(workInProgress$1.flags|=32),workInProgress$1.memoizedState!==null&&($$typeof=renderWithHooks(current,workInProgress$1,TransitionAwareHostComponent,null,null,renderLanes$1),HostTransitionContext._currentValue=$$typeof),markRef(current,workInProgress$1),reconcileChildren(current,workInProgress$1,props,renderLanes$1),workInProgress$1.child;case 6:return current===null&&isHydrating&&((current=renderLanes$1=nextHydratableInstance)&&(renderLanes$1=canHydrateTextInstance(renderLanes$1,workInProgress$1.pendingProps,rootOrSingletonContext),renderLanes$1===null?current=!1:(workInProgress$1.stateNode=renderLanes$1,hydrationParentFiber=workInProgress$1,nextHydratableInstance=null,current=!0)),current||throwOnHydrationMismatch(workInProgress$1)),null;case 13:return updateSuspenseComponent(current,workInProgress$1,renderLanes$1);case 4:return pushHostContainer(workInProgress$1,workInProgress$1.stateNode.containerInfo),props=workInProgress$1.pendingProps,current===null?workInProgress$1.child=reconcileChildFibers(workInProgress$1,null,props,renderLanes$1):reconcileChildren(current,workInProgress$1,props,renderLanes$1),workInProgress$1.child;case 11:return updateForwardRef(current,workInProgress$1,workInProgress$1.type,workInProgress$1.pendingProps,renderLanes$1);case 7:return reconcileChildren(current,workInProgress$1,workInProgress$1.pendingProps,renderLanes$1),workInProgress$1.child;case 8:return reconcileChildren(current,workInProgress$1,workInProgress$1.pendingProps.children,renderLanes$1),workInProgress$1.child;case 12:return reconcileChildren(current,workInProgress$1,workInProgress$1.pendingProps.children,renderLanes$1),workInProgress$1.child;case 10:return props=workInProgress$1.pendingProps,pushProvider(workInProgress$1,workInProgress$1.type,props.value),reconcileChildren(current,workInProgress$1,props.children,renderLanes$1),workInProgress$1.child;case 9:return $$typeof=workInProgress$1.type._context,props=workInProgress$1.pendingProps.children,prepareToReadContext(workInProgress$1),$$typeof=readContext($$typeof),props=props($$typeof),workInProgress$1.flags|=1,reconcileChildren(current,workInProgress$1,props,renderLanes$1),workInProgress$1.child;case 14:return updateMemoComponent(current,workInProgress$1,workInProgress$1.type,workInProgress$1.pendingProps,renderLanes$1);case 15:return updateSimpleMemoComponent(current,workInProgress$1,workInProgress$1.type,workInProgress$1.pendingProps,renderLanes$1);case 19:return updateSuspenseListComponent(current,workInProgress$1,renderLanes$1);case 31:return updateActivityComponent(current,workInProgress$1,renderLanes$1);case 22:return updateOffscreenComponent(current,workInProgress$1,renderLanes$1,workInProgress$1.pendingProps);case 24:return prepareToReadContext(workInProgress$1),props=readContext(CacheContext),current===null?($$typeof=peekCacheFromPool(),$$typeof===null&&($$typeof=workInProgressRoot,prevState=createCache(),$$typeof.pooledCache=prevState,prevState.refCount++,prevState!==null&&($$typeof.pooledCacheLanes|=renderLanes$1),$$typeof=prevState),workInProgress$1.memoizedState={parent:props,cache:$$typeof},initializeUpdateQueue(workInProgress$1),pushProvider(workInProgress$1,CacheContext,$$typeof)):((current.lanes&renderLanes$1)!==0&&(cloneUpdateQueue(current,workInProgress$1),processUpdateQueue(workInProgress$1,null,null,renderLanes$1),suspendIfUpdateReadFromEntangledAsyncAction()),$$typeof=current.memoizedState,prevState=workInProgress$1.memoizedState,$$typeof.parent===props?(props=prevState.cache,pushProvider(workInProgress$1,CacheContext,props),props!==$$typeof.cache&&propagateContextChanges(workInProgress$1,[CacheContext],renderLanes$1,!0)):($$typeof={parent:props,cache:props},workInProgress$1.memoizedState=$$typeof,workInProgress$1.lanes===0&&(workInProgress$1.memoizedState=workInProgress$1.updateQueue.baseState=$$typeof),pushProvider(workInProgress$1,CacheContext,props))),reconcileChildren(current,workInProgress$1,workInProgress$1.pendingProps.children,renderLanes$1),workInProgress$1.child;case 29:throw workInProgress$1.pendingProps}throw Error(formatProdErrorMessage(156,workInProgress$1.tag))}function markUpdate(workInProgress$1){workInProgress$1.flags|=4}function preloadInstanceAndSuspendIfNeeded(workInProgress$1,type,oldProps,newProps,renderLanes$1){if((type=(workInProgress$1.mode&32)!=0)&&(type=!1),type){if(workInProgress$1.flags|=16777216,(renderLanes$1&335544128)===renderLanes$1)if(workInProgress$1.stateNode.complete)workInProgress$1.flags|=8192;else if(shouldRemainOnPreviousScreen())workInProgress$1.flags|=8192;else throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException}else workInProgress$1.flags&=-16777217}function preloadResourceAndSuspendIfNeeded(workInProgress$1,resource){if(resource.type!==`stylesheet`||resource.state.loading&4)workInProgress$1.flags&=-16777217;else if(workInProgress$1.flags|=16777216,!preloadResource(resource))if(shouldRemainOnPreviousScreen())workInProgress$1.flags|=8192;else throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException}function scheduleRetryEffect(workInProgress$1,retryQueue){retryQueue!==null&&(workInProgress$1.flags|=4),workInProgress$1.flags&16384&&(retryQueue=workInProgress$1.tag===22?536870912:claimNextRetryLane(),workInProgress$1.lanes|=retryQueue,workInProgressSuspendedRetryLanes|=retryQueue)}function cutOffTailIfNeeded(renderState,hasRenderedATailFallback){if(!isHydrating)switch(renderState.tailMode){case`hidden`:hasRenderedATailFallback=renderState.tail;for(var lastTailNode=null;hasRenderedATailFallback!==null;)hasRenderedATailFallback.alternate!==null&&(lastTailNode=hasRenderedATailFallback),hasRenderedATailFallback=hasRenderedATailFallback.sibling;lastTailNode===null?renderState.tail=null:lastTailNode.sibling=null;break;case`collapsed`:lastTailNode=renderState.tail;for(var lastTailNode$106=null;lastTailNode!==null;)lastTailNode.alternate!==null&&(lastTailNode$106=lastTailNode),lastTailNode=lastTailNode.sibling;lastTailNode$106===null?hasRenderedATailFallback||renderState.tail===null?renderState.tail=null:renderState.tail.sibling=null:lastTailNode$106.sibling=null}}function bubbleProperties(completedWork){var didBailout=completedWork.alternate!==null&&completedWork.alternate.child===completedWork.child,newChildLanes=0,subtreeFlags=0;if(didBailout)for(var child$107=completedWork.child;child$107!==null;)newChildLanes|=child$107.lanes|child$107.childLanes,subtreeFlags|=child$107.subtreeFlags&65011712,subtreeFlags|=child$107.flags&65011712,child$107.return=completedWork,child$107=child$107.sibling;else for(child$107=completedWork.child;child$107!==null;)newChildLanes|=child$107.lanes|child$107.childLanes,subtreeFlags|=child$107.subtreeFlags,subtreeFlags|=child$107.flags,child$107.return=completedWork,child$107=child$107.sibling;return completedWork.subtreeFlags|=subtreeFlags,completedWork.childLanes=newChildLanes,didBailout}function completeWork(current,workInProgress$1,renderLanes$1){var newProps=workInProgress$1.pendingProps;switch(popTreeContext(workInProgress$1),workInProgress$1.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bubbleProperties(workInProgress$1),null;case 1:return bubbleProperties(workInProgress$1),null;case 3:return renderLanes$1=workInProgress$1.stateNode,newProps=null,current!==null&&(newProps=current.memoizedState.cache),workInProgress$1.memoizedState.cache!==newProps&&(workInProgress$1.flags|=2048),popProvider(CacheContext),popHostContainer(),renderLanes$1.pendingContext&&=(renderLanes$1.context=renderLanes$1.pendingContext,null),(current===null||current.child===null)&&(popHydrationState(workInProgress$1)?markUpdate(workInProgress$1):current===null||current.memoizedState.isDehydrated&&!(workInProgress$1.flags&256)||(workInProgress$1.flags|=1024,upgradeHydrationErrorsToRecoverable())),bubbleProperties(workInProgress$1),null;case 26:var type=workInProgress$1.type,nextResource=workInProgress$1.memoizedState;return current===null?(markUpdate(workInProgress$1),nextResource===null?(bubbleProperties(workInProgress$1),preloadInstanceAndSuspendIfNeeded(workInProgress$1,type,null,newProps,renderLanes$1)):(bubbleProperties(workInProgress$1),preloadResourceAndSuspendIfNeeded(workInProgress$1,nextResource))):nextResource?nextResource===current.memoizedState?(bubbleProperties(workInProgress$1),workInProgress$1.flags&=-16777217):(markUpdate(workInProgress$1),bubbleProperties(workInProgress$1),preloadResourceAndSuspendIfNeeded(workInProgress$1,nextResource)):(current=current.memoizedProps,current!==newProps&&markUpdate(workInProgress$1),bubbleProperties(workInProgress$1),preloadInstanceAndSuspendIfNeeded(workInProgress$1,type,current,newProps,renderLanes$1)),null;case 27:if(popHostContext(workInProgress$1),renderLanes$1=rootInstanceStackCursor.current,type=workInProgress$1.type,current!==null&&workInProgress$1.stateNode!=null)current.memoizedProps!==newProps&&markUpdate(workInProgress$1);else{if(!newProps){if(workInProgress$1.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties(workInProgress$1),null}current=contextStackCursor.current,popHydrationState(workInProgress$1)?prepareToHydrateHostInstance(workInProgress$1,current):(current=resolveSingletonInstance(type,newProps,renderLanes$1),workInProgress$1.stateNode=current,markUpdate(workInProgress$1))}return bubbleProperties(workInProgress$1),null;case 5:if(popHostContext(workInProgress$1),type=workInProgress$1.type,current!==null&&workInProgress$1.stateNode!=null)current.memoizedProps!==newProps&&markUpdate(workInProgress$1);else{if(!newProps){if(workInProgress$1.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties(workInProgress$1),null}if(nextResource=contextStackCursor.current,popHydrationState(workInProgress$1))prepareToHydrateHostInstance(workInProgress$1,nextResource);else{var ownerDocument=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current);switch(nextResource){case 1:nextResource=ownerDocument.createElementNS(`http://www.w3.org/2000/svg`,type);break;case 2:nextResource=ownerDocument.createElementNS(`http://www.w3.org/1998/Math/MathML`,type);break;default:switch(type){case`svg`:nextResource=ownerDocument.createElementNS(`http://www.w3.org/2000/svg`,type);break;case`math`:nextResource=ownerDocument.createElementNS(`http://www.w3.org/1998/Math/MathML`,type);break;case`script`:nextResource=ownerDocument.createElement(`div`),nextResource.innerHTML=`<script><\/script>`,nextResource=nextResource.removeChild(nextResource.firstChild);break;case`select`:nextResource=typeof newProps.is==`string`?ownerDocument.createElement(`select`,{is:newProps.is}):ownerDocument.createElement(`select`),newProps.multiple?nextResource.multiple=!0:newProps.size&&(nextResource.size=newProps.size);break;default:nextResource=typeof newProps.is==`string`?ownerDocument.createElement(type,{is:newProps.is}):ownerDocument.createElement(type)}}nextResource[internalInstanceKey]=workInProgress$1,nextResource[internalPropsKey]=newProps;a:for(ownerDocument=workInProgress$1.child;ownerDocument!==null;){if(ownerDocument.tag===5||ownerDocument.tag===6)nextResource.appendChild(ownerDocument.stateNode);else if(ownerDocument.tag!==4&&ownerDocument.tag!==27&&ownerDocument.child!==null){ownerDocument.child.return=ownerDocument,ownerDocument=ownerDocument.child;continue}if(ownerDocument===workInProgress$1)break a;for(;ownerDocument.sibling===null;){if(ownerDocument.return===null||ownerDocument.return===workInProgress$1)break a;ownerDocument=ownerDocument.return}ownerDocument.sibling.return=ownerDocument.return,ownerDocument=ownerDocument.sibling}workInProgress$1.stateNode=nextResource;a:switch(setInitialProperties(nextResource,type,newProps),type){case`button`:case`input`:case`select`:case`textarea`:newProps=!!newProps.autoFocus;break a;case`img`:newProps=!0;break a;default:newProps=!1}newProps&&markUpdate(workInProgress$1)}}return bubbleProperties(workInProgress$1),preloadInstanceAndSuspendIfNeeded(workInProgress$1,workInProgress$1.type,current===null?null:current.memoizedProps,workInProgress$1.pendingProps,renderLanes$1),null;case 6:if(current&&workInProgress$1.stateNode!=null)current.memoizedProps!==newProps&&markUpdate(workInProgress$1);else{if(typeof newProps!=`string`&&workInProgress$1.stateNode===null)throw Error(formatProdErrorMessage(166));if(current=rootInstanceStackCursor.current,popHydrationState(workInProgress$1)){if(current=workInProgress$1.stateNode,renderLanes$1=workInProgress$1.memoizedProps,newProps=null,type=hydrationParentFiber,type!==null)switch(type.tag){case 27:case 5:newProps=type.memoizedProps}current[internalInstanceKey]=workInProgress$1,current=!!(current.nodeValue===renderLanes$1||newProps!==null&&!0===newProps.suppressHydrationWarning||checkForUnmatchedText(current.nodeValue,renderLanes$1)),current||throwOnHydrationMismatch(workInProgress$1,!0)}else current=getOwnerDocumentFromRootContainer(current).createTextNode(newProps),current[internalInstanceKey]=workInProgress$1,workInProgress$1.stateNode=current}return bubbleProperties(workInProgress$1),null;case 31:if(renderLanes$1=workInProgress$1.memoizedState,current===null||current.memoizedState!==null){if(newProps=popHydrationState(workInProgress$1),renderLanes$1!==null){if(current===null){if(!newProps)throw Error(formatProdErrorMessage(318));if(current=workInProgress$1.memoizedState,current=current===null?null:current.dehydrated,!current)throw Error(formatProdErrorMessage(557));current[internalInstanceKey]=workInProgress$1}else resetHydrationState(),!(workInProgress$1.flags&128)&&(workInProgress$1.memoizedState=null),workInProgress$1.flags|=4;bubbleProperties(workInProgress$1),current=!1}else renderLanes$1=upgradeHydrationErrorsToRecoverable(),current!==null&&current.memoizedState!==null&&(current.memoizedState.hydrationErrors=renderLanes$1),current=!0;if(!current)return workInProgress$1.flags&256?(popSuspenseHandler(workInProgress$1),workInProgress$1):(popSuspenseHandler(workInProgress$1),null);if(workInProgress$1.flags&128)throw Error(formatProdErrorMessage(558))}return bubbleProperties(workInProgress$1),null;case 13:if(newProps=workInProgress$1.memoizedState,current===null||current.memoizedState!==null&&current.memoizedState.dehydrated!==null){if(type=popHydrationState(workInProgress$1),newProps!==null&&newProps.dehydrated!==null){if(current===null){if(!type)throw Error(formatProdErrorMessage(318));if(type=workInProgress$1.memoizedState,type=type===null?null:type.dehydrated,!type)throw Error(formatProdErrorMessage(317));type[internalInstanceKey]=workInProgress$1}else resetHydrationState(),!(workInProgress$1.flags&128)&&(workInProgress$1.memoizedState=null),workInProgress$1.flags|=4;bubbleProperties(workInProgress$1),type=!1}else type=upgradeHydrationErrorsToRecoverable(),current!==null&&current.memoizedState!==null&&(current.memoizedState.hydrationErrors=type),type=!0;if(!type)return workInProgress$1.flags&256?(popSuspenseHandler(workInProgress$1),workInProgress$1):(popSuspenseHandler(workInProgress$1),null)}return popSuspenseHandler(workInProgress$1),workInProgress$1.flags&128?(workInProgress$1.lanes=renderLanes$1,workInProgress$1):(renderLanes$1=newProps!==null,current=current!==null&&current.memoizedState!==null,renderLanes$1&&(newProps=workInProgress$1.child,type=null,newProps.alternate!==null&&newProps.alternate.memoizedState!==null&&newProps.alternate.memoizedState.cachePool!==null&&(type=newProps.alternate.memoizedState.cachePool.pool),nextResource=null,newProps.memoizedState!==null&&newProps.memoizedState.cachePool!==null&&(nextResource=newProps.memoizedState.cachePool.pool),nextResource!==type&&(newProps.flags|=2048)),renderLanes$1!==current&&renderLanes$1&&(workInProgress$1.child.flags|=8192),scheduleRetryEffect(workInProgress$1,workInProgress$1.updateQueue),bubbleProperties(workInProgress$1),null);case 4:return popHostContainer(),current===null&&listenToAllSupportedEvents(workInProgress$1.stateNode.containerInfo),bubbleProperties(workInProgress$1),null;case 10:return popProvider(workInProgress$1.type),bubbleProperties(workInProgress$1),null;case 19:if(pop(suspenseStackCursor),newProps=workInProgress$1.memoizedState,newProps===null)return bubbleProperties(workInProgress$1),null;if(type=(workInProgress$1.flags&128)!=0,nextResource=newProps.rendering,nextResource===null)if(type)cutOffTailIfNeeded(newProps,!1);else{if(workInProgressRootExitStatus!==0||current!==null&&current.flags&128)for(current=workInProgress$1.child;current!==null;){if(nextResource=findFirstSuspended(current),nextResource!==null){for(workInProgress$1.flags|=128,cutOffTailIfNeeded(newProps,!1),current=nextResource.updateQueue,workInProgress$1.updateQueue=current,scheduleRetryEffect(workInProgress$1,current),workInProgress$1.subtreeFlags=0,current=renderLanes$1,renderLanes$1=workInProgress$1.child;renderLanes$1!==null;)resetWorkInProgress(renderLanes$1,current),renderLanes$1=renderLanes$1.sibling;return push(suspenseStackCursor,suspenseStackCursor.current&1|2),isHydrating&&pushTreeFork(workInProgress$1,newProps.treeForkCount),workInProgress$1.child}current=current.sibling}newProps.tail!==null&&now()>workInProgressRootRenderTargetTime&&(workInProgress$1.flags|=128,type=!0,cutOffTailIfNeeded(newProps,!1),workInProgress$1.lanes=4194304)}else{if(!type)if(current=findFirstSuspended(nextResource),current!==null){if(workInProgress$1.flags|=128,type=!0,current=current.updateQueue,workInProgress$1.updateQueue=current,scheduleRetryEffect(workInProgress$1,current),cutOffTailIfNeeded(newProps,!0),newProps.tail===null&&newProps.tailMode===`hidden`&&!nextResource.alternate&&!isHydrating)return bubbleProperties(workInProgress$1),null}else 2*now()-newProps.renderingStartTime>workInProgressRootRenderTargetTime&&renderLanes$1!==536870912&&(workInProgress$1.flags|=128,type=!0,cutOffTailIfNeeded(newProps,!1),workInProgress$1.lanes=4194304);newProps.isBackwards?(nextResource.sibling=workInProgress$1.child,workInProgress$1.child=nextResource):(current=newProps.last,current===null?workInProgress$1.child=nextResource:current.sibling=nextResource,newProps.last=nextResource)}return newProps.tail===null?(bubbleProperties(workInProgress$1),null):(current=newProps.tail,newProps.rendering=current,newProps.tail=current.sibling,newProps.renderingStartTime=now(),current.sibling=null,renderLanes$1=suspenseStackCursor.current,push(suspenseStackCursor,type?renderLanes$1&1|2:renderLanes$1&1),isHydrating&&pushTreeFork(workInProgress$1,newProps.treeForkCount),current);case 22:case 23:return popSuspenseHandler(workInProgress$1),popHiddenContext(),newProps=workInProgress$1.memoizedState!==null,current===null?newProps&&(workInProgress$1.flags|=8192):current.memoizedState!==null!==newProps&&(workInProgress$1.flags|=8192),newProps?renderLanes$1&536870912&&!(workInProgress$1.flags&128)&&(bubbleProperties(workInProgress$1),workInProgress$1.subtreeFlags&6&&(workInProgress$1.flags|=8192)):bubbleProperties(workInProgress$1),renderLanes$1=workInProgress$1.updateQueue,renderLanes$1!==null&&scheduleRetryEffect(workInProgress$1,renderLanes$1.retryQueue),renderLanes$1=null,current!==null&&current.memoizedState!==null&&current.memoizedState.cachePool!==null&&(renderLanes$1=current.memoizedState.cachePool.pool),newProps=null,workInProgress$1.memoizedState!==null&&workInProgress$1.memoizedState.cachePool!==null&&(newProps=workInProgress$1.memoizedState.cachePool.pool),newProps!==renderLanes$1&&(workInProgress$1.flags|=2048),current!==null&&pop(resumedCache),null;case 24:return renderLanes$1=null,current!==null&&(renderLanes$1=current.memoizedState.cache),workInProgress$1.memoizedState.cache!==renderLanes$1&&(workInProgress$1.flags|=2048),popProvider(CacheContext),bubbleProperties(workInProgress$1),null;case 25:return null;case 30:return null}throw Error(formatProdErrorMessage(156,workInProgress$1.tag))}function unwindWork(current,workInProgress$1){switch(popTreeContext(workInProgress$1),workInProgress$1.tag){case 1:return current=workInProgress$1.flags,current&65536?(workInProgress$1.flags=current&-65537|128,workInProgress$1):null;case 3:return popProvider(CacheContext),popHostContainer(),current=workInProgress$1.flags,current&65536&&!(current&128)?(workInProgress$1.flags=current&-65537|128,workInProgress$1):null;case 26:case 27:case 5:return popHostContext(workInProgress$1),null;case 31:if(workInProgress$1.memoizedState!==null){if(popSuspenseHandler(workInProgress$1),workInProgress$1.alternate===null)throw Error(formatProdErrorMessage(340));resetHydrationState()}return current=workInProgress$1.flags,current&65536?(workInProgress$1.flags=current&-65537|128,workInProgress$1):null;case 13:if(popSuspenseHandler(workInProgress$1),current=workInProgress$1.memoizedState,current!==null&&current.dehydrated!==null){if(workInProgress$1.alternate===null)throw Error(formatProdErrorMessage(340));resetHydrationState()}return current=workInProgress$1.flags,current&65536?(workInProgress$1.flags=current&-65537|128,workInProgress$1):null;case 19:return pop(suspenseStackCursor),null;case 4:return popHostContainer(),null;case 10:return popProvider(workInProgress$1.type),null;case 22:case 23:return popSuspenseHandler(workInProgress$1),popHiddenContext(),current!==null&&pop(resumedCache),current=workInProgress$1.flags,current&65536?(workInProgress$1.flags=current&-65537|128,workInProgress$1):null;case 24:return popProvider(CacheContext),null;case 25:return null;default:return null}}function unwindInterruptedWork(current,interruptedWork){switch(popTreeContext(interruptedWork),interruptedWork.tag){case 3:popProvider(CacheContext),popHostContainer();break;case 26:case 27:case 5:popHostContext(interruptedWork);break;case 4:popHostContainer();break;case 31:interruptedWork.memoizedState!==null&&popSuspenseHandler(interruptedWork);break;case 13:popSuspenseHandler(interruptedWork);break;case 19:pop(suspenseStackCursor);break;case 10:popProvider(interruptedWork.type);break;case 22:case 23:popSuspenseHandler(interruptedWork),popHiddenContext(),current!==null&&pop(resumedCache);break;case 24:popProvider(CacheContext)}}function commitHookEffectListMount(flags,finishedWork){try{var updateQueue=finishedWork.updateQueue,lastEffect=updateQueue===null?null:updateQueue.lastEffect;if(lastEffect!==null){var firstEffect=lastEffect.next;updateQueue=firstEffect;do{if((updateQueue.tag&flags)===flags){lastEffect=void 0;var create=updateQueue.create,inst=updateQueue.inst;lastEffect=create(),inst.destroy=lastEffect}updateQueue=updateQueue.next}while(updateQueue!==firstEffect)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitHookEffectListUnmount(flags,finishedWork,nearestMountedAncestor$jscomp$0){try{var updateQueue=finishedWork.updateQueue,lastEffect=updateQueue===null?null:updateQueue.lastEffect;if(lastEffect!==null){var firstEffect=lastEffect.next;updateQueue=firstEffect;do{if((updateQueue.tag&flags)===flags){var inst=updateQueue.inst,destroy=inst.destroy;if(destroy!==void 0){inst.destroy=void 0,lastEffect=finishedWork;var nearestMountedAncestor=nearestMountedAncestor$jscomp$0,destroy_=destroy;try{destroy_()}catch(error){captureCommitPhaseError(lastEffect,nearestMountedAncestor,error)}}}updateQueue=updateQueue.next}while(updateQueue!==firstEffect)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitClassCallbacks(finishedWork){var updateQueue=finishedWork.updateQueue;if(updateQueue!==null){var instance=finishedWork.stateNode;try{commitCallbacks(updateQueue,instance)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}}function safelyCallComponentWillUnmount(current,nearestMountedAncestor,instance){instance.props=resolveClassComponentProps(current.type,current.memoizedProps),instance.state=current.memoizedState;try{instance.componentWillUnmount()}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}}function safelyAttachRef(current,nearestMountedAncestor){try{var ref=current.ref;if(ref!==null){switch(current.tag){case 26:case 27:case 5:var instanceToUse=current.stateNode;break;case 30:instanceToUse=current.stateNode;break;default:instanceToUse=current.stateNode}typeof ref==`function`?current.refCleanup=ref(instanceToUse):ref.current=instanceToUse}}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}}function safelyDetachRef(current,nearestMountedAncestor){var ref=current.ref,refCleanup=current.refCleanup;if(ref!==null)if(typeof refCleanup==`function`)try{refCleanup()}catch(error){captureCommitPhaseError(current,nearestMountedAncestor,error)}finally{current.refCleanup=null,current=current.alternate,current!=null&&(current.refCleanup=null)}else if(typeof ref==`function`)try{ref(null)}catch(error$140){captureCommitPhaseError(current,nearestMountedAncestor,error$140)}else ref.current=null}function commitHostMount(finishedWork){var type=finishedWork.type,props=finishedWork.memoizedProps,instance=finishedWork.stateNode;try{a:switch(type){case`button`:case`input`:case`select`:case`textarea`:props.autoFocus&&instance.focus();break a;case`img`:props.src?instance.src=props.src:props.srcSet&&(instance.srcset=props.srcSet)}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function commitHostUpdate(finishedWork,newProps,oldProps){try{var domElement=finishedWork.stateNode;updateProperties(domElement,finishedWork.type,oldProps,newProps),domElement[internalPropsKey]=newProps}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function isHostParent(fiber){return fiber.tag===5||fiber.tag===3||fiber.tag===26||fiber.tag===27&&isSingletonScope(fiber.type)||fiber.tag===4}function getHostSibling(fiber){a:for(;;){for(;fiber.sibling===null;){if(fiber.return===null||isHostParent(fiber.return))return null;fiber=fiber.return}for(fiber.sibling.return=fiber.return,fiber=fiber.sibling;fiber.tag!==5&&fiber.tag!==6&&fiber.tag!==18;){if(fiber.tag===27&&isSingletonScope(fiber.type)||fiber.flags&2||fiber.child===null||fiber.tag===4)continue a;fiber.child.return=fiber,fiber=fiber.child}if(!(fiber.flags&2))return fiber.stateNode}}function insertOrAppendPlacementNodeIntoContainer(node,before,parent){var tag=node.tag;if(tag===5||tag===6)node=node.stateNode,before?(parent.nodeType===9?parent.body:parent.nodeName===`HTML`?parent.ownerDocument.body:parent).insertBefore(node,before):(before=parent.nodeType===9?parent.body:parent.nodeName===`HTML`?parent.ownerDocument.body:parent,before.appendChild(node),parent=parent._reactRootContainer,parent!=null||before.onclick!==null||(before.onclick=noop$1));else if(tag!==4&&(tag===27&&isSingletonScope(node.type)&&(parent=node.stateNode,before=null),node=node.child,node!==null))for(insertOrAppendPlacementNodeIntoContainer(node,before,parent),node=node.sibling;node!==null;)insertOrAppendPlacementNodeIntoContainer(node,before,parent),node=node.sibling}function insertOrAppendPlacementNode(node,before,parent){var tag=node.tag;if(tag===5||tag===6)node=node.stateNode,before?parent.insertBefore(node,before):parent.appendChild(node);else if(tag!==4&&(tag===27&&isSingletonScope(node.type)&&(parent=node.stateNode),node=node.child,node!==null))for(insertOrAppendPlacementNode(node,before,parent),node=node.sibling;node!==null;)insertOrAppendPlacementNode(node,before,parent),node=node.sibling}function commitHostSingletonAcquisition(finishedWork){var singleton=finishedWork.stateNode,props=finishedWork.memoizedProps;try{for(var type=finishedWork.type,attributes=singleton.attributes;attributes.length;)singleton.removeAttributeNode(attributes[0]);setInitialProperties(singleton,type,props),singleton[internalInstanceKey]=finishedWork,singleton[internalPropsKey]=props}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}var offscreenSubtreeIsHidden=!1,offscreenSubtreeWasHidden=!1,needsFormReset=!1,PossiblyWeakSet=typeof WeakSet==`function`?WeakSet:Set,nextEffect=null;function commitBeforeMutationEffects(root$1,firstChild){if(root$1=root$1.containerInfo,eventsEnabled=_enabled,root$1=getActiveElementDeep(root$1),hasSelectionCapabilities(root$1)){if(`selectionStart`in root$1)var JSCompiler_temp={start:root$1.selectionStart,end:root$1.selectionEnd};else a:{JSCompiler_temp=(JSCompiler_temp=root$1.ownerDocument)&&JSCompiler_temp.defaultView||window;var selection=JSCompiler_temp.getSelection&&JSCompiler_temp.getSelection();if(selection&&selection.rangeCount!==0){JSCompiler_temp=selection.anchorNode;var anchorOffset=selection.anchorOffset,focusNode=selection.focusNode;selection=selection.focusOffset;try{JSCompiler_temp.nodeType,focusNode.nodeType}catch{JSCompiler_temp=null;break a}var length=0,start=-1,end=-1,indexWithinAnchor=0,indexWithinFocus=0,node=root$1,parentNode=null;b:for(;;){for(var next;node!==JSCompiler_temp||anchorOffset!==0&&node.nodeType!==3||(start=length+anchorOffset),node!==focusNode||selection!==0&&node.nodeType!==3||(end=length+selection),node.nodeType===3&&(length+=node.nodeValue.length),(next=node.firstChild)!==null;)parentNode=node,node=next;for(;;){if(node===root$1)break b;if(parentNode===JSCompiler_temp&&++indexWithinAnchor===anchorOffset&&(start=length),parentNode===focusNode&&++indexWithinFocus===selection&&(end=length),(next=node.nextSibling)!==null)break;node=parentNode,parentNode=node.parentNode}node=next}JSCompiler_temp=start===-1||end===-1?null:{start,end}}else JSCompiler_temp=null}JSCompiler_temp||={start:0,end:0}}else JSCompiler_temp=null;for(selectionInformation={focusedElem:root$1,selectionRange:JSCompiler_temp},_enabled=!1,nextEffect=firstChild;nextEffect!==null;)if(firstChild=nextEffect,root$1=firstChild.child,firstChild.subtreeFlags&1028&&root$1!==null)root$1.return=firstChild,nextEffect=root$1;else for(;nextEffect!==null;){switch(firstChild=nextEffect,focusNode=firstChild.alternate,root$1=firstChild.flags,firstChild.tag){case 0:if(root$1&4&&(root$1=firstChild.updateQueue,root$1=root$1===null?null:root$1.events,root$1!==null))for(JSCompiler_temp=0;JSCompiler_temp<root$1.length;JSCompiler_temp++)anchorOffset=root$1[JSCompiler_temp],anchorOffset.ref.impl=anchorOffset.nextImpl;break;case 11:case 15:break;case 1:if(root$1&1024&&focusNode!==null){root$1=void 0,JSCompiler_temp=firstChild,anchorOffset=focusNode.memoizedProps,focusNode=focusNode.memoizedState,selection=JSCompiler_temp.stateNode;try{var resolvedPrevProps=resolveClassComponentProps(JSCompiler_temp.type,anchorOffset);root$1=selection.getSnapshotBeforeUpdate(resolvedPrevProps,focusNode),selection.__reactInternalSnapshotBeforeUpdate=root$1}catch(error){captureCommitPhaseError(JSCompiler_temp,JSCompiler_temp.return,error)}}break;case 3:if(root$1&1024){if(root$1=firstChild.stateNode.containerInfo,JSCompiler_temp=root$1.nodeType,JSCompiler_temp===9)clearContainerSparingly(root$1);else if(JSCompiler_temp===1)switch(root$1.nodeName){case`HEAD`:case`HTML`:case`BODY`:clearContainerSparingly(root$1);break;default:root$1.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(root$1&1024)throw Error(formatProdErrorMessage(163))}if(root$1=firstChild.sibling,root$1!==null){root$1.return=firstChild.return,nextEffect=root$1;break}nextEffect=firstChild.return}}function commitLayoutEffectOnFiber(finishedRoot,current,finishedWork){var flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),flags&4&&commitHookEffectListMount(5,finishedWork);break;case 1:if(recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),flags&4)if(finishedRoot=finishedWork.stateNode,current===null)try{finishedRoot.componentDidMount()}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}else{var prevProps=resolveClassComponentProps(finishedWork.type,current.memoizedProps);current=current.memoizedState;try{finishedRoot.componentDidUpdate(prevProps,current,finishedRoot.__reactInternalSnapshotBeforeUpdate)}catch(error$139){captureCommitPhaseError(finishedWork,finishedWork.return,error$139)}}flags&64&&commitClassCallbacks(finishedWork),flags&512&&safelyAttachRef(finishedWork,finishedWork.return);break;case 3:if(recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),flags&64&&(finishedRoot=finishedWork.updateQueue,finishedRoot!==null)){if(current=null,finishedWork.child!==null)switch(finishedWork.child.tag){case 27:case 5:current=finishedWork.child.stateNode;break;case 1:current=finishedWork.child.stateNode}try{commitCallbacks(finishedRoot,current)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}break;case 27:current===null&&flags&4&&commitHostSingletonAcquisition(finishedWork);case 26:case 5:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),current===null&&flags&4&&commitHostMount(finishedWork),flags&512&&safelyAttachRef(finishedWork,finishedWork.return);break;case 12:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork);break;case 31:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),flags&4&&commitActivityHydrationCallbacks(finishedRoot,finishedWork);break;case 13:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),flags&4&&commitSuspenseHydrationCallbacks(finishedRoot,finishedWork),flags&64&&(finishedRoot=finishedWork.memoizedState,finishedRoot!==null&&(finishedRoot=finishedRoot.dehydrated,finishedRoot!==null&&(finishedWork=retryDehydratedSuspenseBoundary.bind(null,finishedWork),registerSuspenseInstanceRetry(finishedRoot,finishedWork))));break;case 22:if(flags=finishedWork.memoizedState!==null||offscreenSubtreeIsHidden,!flags){current=current!==null&&current.memoizedState!==null||offscreenSubtreeWasHidden,prevProps=offscreenSubtreeIsHidden;var prevOffscreenSubtreeWasHidden=offscreenSubtreeWasHidden;offscreenSubtreeIsHidden=flags,(offscreenSubtreeWasHidden=current)&&!prevOffscreenSubtreeWasHidden?recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,(finishedWork.subtreeFlags&8772)!=0):recursivelyTraverseLayoutEffects(finishedRoot,finishedWork),offscreenSubtreeIsHidden=prevProps,offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden}break;case 30:break;default:recursivelyTraverseLayoutEffects(finishedRoot,finishedWork)}}function detachFiberAfterEffects(fiber){var alternate=fiber.alternate;alternate!==null&&(fiber.alternate=null,detachFiberAfterEffects(alternate)),fiber.child=null,fiber.deletions=null,fiber.sibling=null,fiber.tag===5&&(alternate=fiber.stateNode,alternate!==null&&detachDeletedInstance(alternate)),fiber.stateNode=null,fiber.return=null,fiber.dependencies=null,fiber.memoizedProps=null,fiber.memoizedState=null,fiber.pendingProps=null,fiber.stateNode=null,fiber.updateQueue=null}var hostParent=null,hostParentIsContainer=!1;function recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,parent){for(parent=parent.child;parent!==null;)commitDeletionEffectsOnFiber(finishedRoot,nearestMountedAncestor,parent),parent=parent.sibling}function commitDeletionEffectsOnFiber(finishedRoot,nearestMountedAncestor,deletedFiber){if(injectedHook&&typeof injectedHook.onCommitFiberUnmount==`function`)try{injectedHook.onCommitFiberUnmount(rendererID,deletedFiber)}catch{}switch(deletedFiber.tag){case 26:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor),recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber),deletedFiber.memoizedState?deletedFiber.memoizedState.count--:deletedFiber.stateNode&&(deletedFiber=deletedFiber.stateNode,deletedFiber.parentNode.removeChild(deletedFiber));break;case 27:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor);var prevHostParent=hostParent,prevHostParentIsContainer=hostParentIsContainer;isSingletonScope(deletedFiber.type)&&(hostParent=deletedFiber.stateNode,hostParentIsContainer=!1),recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber),releaseSingletonInstance(deletedFiber.stateNode),hostParent=prevHostParent,hostParentIsContainer=prevHostParentIsContainer;break;case 5:offscreenSubtreeWasHidden||safelyDetachRef(deletedFiber,nearestMountedAncestor);case 6:if(prevHostParent=hostParent,prevHostParentIsContainer=hostParentIsContainer,hostParent=null,recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber),hostParent=prevHostParent,hostParentIsContainer=prevHostParentIsContainer,hostParent!==null)if(hostParentIsContainer)try{(hostParent.nodeType===9?hostParent.body:hostParent.nodeName===`HTML`?hostParent.ownerDocument.body:hostParent).removeChild(deletedFiber.stateNode)}catch(error){captureCommitPhaseError(deletedFiber,nearestMountedAncestor,error)}else try{hostParent.removeChild(deletedFiber.stateNode)}catch(error){captureCommitPhaseError(deletedFiber,nearestMountedAncestor,error)}break;case 18:hostParent!==null&&(hostParentIsContainer?(finishedRoot=hostParent,clearHydrationBoundary(finishedRoot.nodeType===9?finishedRoot.body:finishedRoot.nodeName===`HTML`?finishedRoot.ownerDocument.body:finishedRoot,deletedFiber.stateNode),retryIfBlockedOn(finishedRoot)):clearHydrationBoundary(hostParent,deletedFiber.stateNode));break;case 4:prevHostParent=hostParent,prevHostParentIsContainer=hostParentIsContainer,hostParent=deletedFiber.stateNode.containerInfo,hostParentIsContainer=!0,recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber),hostParent=prevHostParent,hostParentIsContainer=prevHostParentIsContainer;break;case 0:case 11:case 14:case 15:commitHookEffectListUnmount(2,deletedFiber,nearestMountedAncestor),offscreenSubtreeWasHidden||commitHookEffectListUnmount(4,deletedFiber,nearestMountedAncestor),recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 1:offscreenSubtreeWasHidden||(safelyDetachRef(deletedFiber,nearestMountedAncestor),prevHostParent=deletedFiber.stateNode,typeof prevHostParent.componentWillUnmount==`function`&&safelyCallComponentWillUnmount(deletedFiber,nearestMountedAncestor,prevHostParent)),recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 21:recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber);break;case 22:offscreenSubtreeWasHidden=(prevHostParent=offscreenSubtreeWasHidden)||deletedFiber.memoizedState!==null,recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber),offscreenSubtreeWasHidden=prevHostParent;break;default:recursivelyTraverseDeletionEffects(finishedRoot,nearestMountedAncestor,deletedFiber)}}function commitActivityHydrationCallbacks(finishedRoot,finishedWork){if(finishedWork.memoizedState===null&&(finishedRoot=finishedWork.alternate,finishedRoot!==null&&(finishedRoot=finishedRoot.memoizedState,finishedRoot!==null))){finishedRoot=finishedRoot.dehydrated;try{retryIfBlockedOn(finishedRoot)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}}function commitSuspenseHydrationCallbacks(finishedRoot,finishedWork){if(finishedWork.memoizedState===null&&(finishedRoot=finishedWork.alternate,finishedRoot!==null&&(finishedRoot=finishedRoot.memoizedState,finishedRoot!==null&&(finishedRoot=finishedRoot.dehydrated,finishedRoot!==null))))try{retryIfBlockedOn(finishedRoot)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}function getRetryCache(finishedWork){switch(finishedWork.tag){case 31:case 13:case 19:var retryCache=finishedWork.stateNode;return retryCache===null&&(retryCache=finishedWork.stateNode=new PossiblyWeakSet),retryCache;case 22:return finishedWork=finishedWork.stateNode,retryCache=finishedWork._retryCache,retryCache===null&&(retryCache=finishedWork._retryCache=new PossiblyWeakSet),retryCache;default:throw Error(formatProdErrorMessage(435,finishedWork.tag))}}function attachSuspenseRetryListeners(finishedWork,wakeables){var retryCache=getRetryCache(finishedWork);wakeables.forEach(function(wakeable){if(!retryCache.has(wakeable)){retryCache.add(wakeable);var retry=resolveRetryWakeable.bind(null,finishedWork,wakeable);wakeable.then(retry,retry)}})}function recursivelyTraverseMutationEffects(root$jscomp$0,parentFiber){var deletions=parentFiber.deletions;if(deletions!==null)for(var i$3=0;i$3<deletions.length;i$3++){var childToDelete=deletions[i$3],root$1=root$jscomp$0,returnFiber=parentFiber,parent=returnFiber;a:for(;parent!==null;){switch(parent.tag){case 27:if(isSingletonScope(parent.type)){hostParent=parent.stateNode,hostParentIsContainer=!1;break a}break;case 5:hostParent=parent.stateNode,hostParentIsContainer=!1;break a;case 3:case 4:hostParent=parent.stateNode.containerInfo,hostParentIsContainer=!0;break a}parent=parent.return}if(hostParent===null)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(root$1,returnFiber,childToDelete),hostParent=null,hostParentIsContainer=!1,root$1=childToDelete.alternate,root$1!==null&&(root$1.return=null),childToDelete.return=null}if(parentFiber.subtreeFlags&13886)for(parentFiber=parentFiber.child;parentFiber!==null;)commitMutationEffectsOnFiber(parentFiber,root$jscomp$0),parentFiber=parentFiber.sibling}var currentHoistableRoot=null;function commitMutationEffectsOnFiber(finishedWork,root$1){var current=finishedWork.alternate,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&4&&(commitHookEffectListUnmount(3,finishedWork,finishedWork.return),commitHookEffectListMount(3,finishedWork),commitHookEffectListUnmount(5,finishedWork,finishedWork.return));break;case 1:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&512&&(offscreenSubtreeWasHidden||current===null||safelyDetachRef(current,current.return)),flags&64&&offscreenSubtreeIsHidden&&(finishedWork=finishedWork.updateQueue,finishedWork!==null&&(flags=finishedWork.callbacks,flags!==null&&(current=finishedWork.shared.hiddenCallbacks,finishedWork.shared.hiddenCallbacks=current===null?flags:current.concat(flags))));break;case 26:var hoistableRoot=currentHoistableRoot;if(recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&512&&(offscreenSubtreeWasHidden||current===null||safelyDetachRef(current,current.return)),flags&4){var currentResource=current===null?null:current.memoizedState;if(flags=finishedWork.memoizedState,current===null)if(flags===null)if(finishedWork.stateNode===null){a:{flags=finishedWork.type,current=finishedWork.memoizedProps,hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot;b:switch(flags){case`title`:currentResource=hoistableRoot.getElementsByTagName(`title`)[0],(!currentResource||currentResource[internalHoistableMarker]||currentResource[internalInstanceKey]||currentResource.namespaceURI===`http://www.w3.org/2000/svg`||currentResource.hasAttribute(`itemprop`))&&(currentResource=hoistableRoot.createElement(flags),hoistableRoot.head.insertBefore(currentResource,hoistableRoot.querySelector(`head > title`))),setInitialProperties(currentResource,flags,current),currentResource[internalInstanceKey]=finishedWork,markNodeAsHoistable(currentResource),flags=currentResource;break a;case`link`:var maybeNodes=getHydratableHoistableCache(`link`,`href`,hoistableRoot).get(flags+(current.href||``));if(maybeNodes){for(var i$3=0;i$3<maybeNodes.length;i$3++)if(currentResource=maybeNodes[i$3],currentResource.getAttribute(`href`)===(current.href==null||current.href===``?null:current.href)&&currentResource.getAttribute(`rel`)===(current.rel==null?null:current.rel)&&currentResource.getAttribute(`title`)===(current.title==null?null:current.title)&&currentResource.getAttribute(`crossorigin`)===(current.crossOrigin==null?null:current.crossOrigin)){maybeNodes.splice(i$3,1);break b}}currentResource=hoistableRoot.createElement(flags),setInitialProperties(currentResource,flags,current),hoistableRoot.head.appendChild(currentResource);break;case`meta`:if(maybeNodes=getHydratableHoistableCache(`meta`,`content`,hoistableRoot).get(flags+(current.content||``))){for(i$3=0;i$3<maybeNodes.length;i$3++)if(currentResource=maybeNodes[i$3],currentResource.getAttribute(`content`)===(current.content==null?null:``+current.content)&&currentResource.getAttribute(`name`)===(current.name==null?null:current.name)&&currentResource.getAttribute(`property`)===(current.property==null?null:current.property)&&currentResource.getAttribute(`http-equiv`)===(current.httpEquiv==null?null:current.httpEquiv)&&currentResource.getAttribute(`charset`)===(current.charSet==null?null:current.charSet)){maybeNodes.splice(i$3,1);break b}}currentResource=hoistableRoot.createElement(flags),setInitialProperties(currentResource,flags,current),hoistableRoot.head.appendChild(currentResource);break;default:throw Error(formatProdErrorMessage(468,flags))}currentResource[internalInstanceKey]=finishedWork,markNodeAsHoistable(currentResource),flags=currentResource}finishedWork.stateNode=flags}else mountHoistable(hoistableRoot,finishedWork.type,finishedWork.stateNode);else finishedWork.stateNode=acquireResource(hoistableRoot,flags,finishedWork.memoizedProps);else currentResource===flags?flags===null&&finishedWork.stateNode!==null&&commitHostUpdate(finishedWork,finishedWork.memoizedProps,current.memoizedProps):(currentResource===null?current.stateNode!==null&&(current=current.stateNode,current.parentNode.removeChild(current)):currentResource.count--,flags===null?mountHoistable(hoistableRoot,finishedWork.type,finishedWork.stateNode):acquireResource(hoistableRoot,flags,finishedWork.memoizedProps))}break;case 27:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&512&&(offscreenSubtreeWasHidden||current===null||safelyDetachRef(current,current.return)),current!==null&&flags&4&&commitHostUpdate(finishedWork,finishedWork.memoizedProps,current.memoizedProps);break;case 5:if(recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&512&&(offscreenSubtreeWasHidden||current===null||safelyDetachRef(current,current.return)),finishedWork.flags&32){hoistableRoot=finishedWork.stateNode;try{setTextContent(hoistableRoot,``)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}flags&4&&finishedWork.stateNode!=null&&(hoistableRoot=finishedWork.memoizedProps,commitHostUpdate(finishedWork,hoistableRoot,current===null?hoistableRoot:current.memoizedProps)),flags&1024&&(needsFormReset=!0);break;case 6:if(recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&4){if(finishedWork.stateNode===null)throw Error(formatProdErrorMessage(162));flags=finishedWork.memoizedProps,current=finishedWork.stateNode;try{current.nodeValue=flags}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}break;case 3:if(tagCaches=null,hoistableRoot=currentHoistableRoot,currentHoistableRoot=getHoistableRoot(root$1.containerInfo),recursivelyTraverseMutationEffects(root$1,finishedWork),currentHoistableRoot=hoistableRoot,commitReconciliationEffects(finishedWork),flags&4&&current!==null&&current.memoizedState.isDehydrated)try{retryIfBlockedOn(root$1.containerInfo)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}needsFormReset&&(needsFormReset=!1,recursivelyResetForms(finishedWork));break;case 4:flags=currentHoistableRoot,currentHoistableRoot=getHoistableRoot(finishedWork.stateNode.containerInfo),recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),currentHoistableRoot=flags;break;case 12:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork);break;case 31:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&4&&(flags=finishedWork.updateQueue,flags!==null&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 13:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),finishedWork.child.flags&8192&&finishedWork.memoizedState!==null!=(current!==null&&current.memoizedState!==null)&&(globalMostRecentFallbackTime=now()),flags&4&&(flags=finishedWork.updateQueue,flags!==null&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 22:hoistableRoot=finishedWork.memoizedState!==null;var wasHidden=current!==null&&current.memoizedState!==null,prevOffscreenSubtreeIsHidden=offscreenSubtreeIsHidden,prevOffscreenSubtreeWasHidden=offscreenSubtreeWasHidden;if(offscreenSubtreeIsHidden=prevOffscreenSubtreeIsHidden||hoistableRoot,offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden||wasHidden,recursivelyTraverseMutationEffects(root$1,finishedWork),offscreenSubtreeWasHidden=prevOffscreenSubtreeWasHidden,offscreenSubtreeIsHidden=prevOffscreenSubtreeIsHidden,commitReconciliationEffects(finishedWork),flags&8192)a:for(root$1=finishedWork.stateNode,root$1._visibility=hoistableRoot?root$1._visibility&-2:root$1._visibility|1,hoistableRoot&&(current===null||wasHidden||offscreenSubtreeIsHidden||offscreenSubtreeWasHidden||recursivelyTraverseDisappearLayoutEffects(finishedWork)),current=null,root$1=finishedWork;;){if(root$1.tag===5||root$1.tag===26){if(current===null){wasHidden=current=root$1;try{if(currentResource=wasHidden.stateNode,hoistableRoot)maybeNodes=currentResource.style,typeof maybeNodes.setProperty==`function`?maybeNodes.setProperty(`display`,`none`,`important`):maybeNodes.display=`none`;else{i$3=wasHidden.stateNode;var styleProp=wasHidden.memoizedProps.style,display=styleProp!=null&&styleProp.hasOwnProperty(`display`)?styleProp.display:null;i$3.style.display=display==null||typeof display==`boolean`?``:(``+display).trim()}}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if(root$1.tag===6){if(current===null){wasHidden=root$1;try{wasHidden.stateNode.nodeValue=hoistableRoot?``:wasHidden.memoizedProps}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if(root$1.tag===18){if(current===null){wasHidden=root$1;try{var instance=wasHidden.stateNode;hoistableRoot?hideOrUnhideDehydratedBoundary(instance,!0):hideOrUnhideDehydratedBoundary(wasHidden.stateNode,!1)}catch(error){captureCommitPhaseError(wasHidden,wasHidden.return,error)}}}else if((root$1.tag!==22&&root$1.tag!==23||root$1.memoizedState===null||root$1===finishedWork)&&root$1.child!==null){root$1.child.return=root$1,root$1=root$1.child;continue}if(root$1===finishedWork)break a;for(;root$1.sibling===null;){if(root$1.return===null||root$1.return===finishedWork)break a;current===root$1&&(current=null),root$1=root$1.return}current===root$1&&(current=null),root$1.sibling.return=root$1.return,root$1=root$1.sibling}flags&4&&(flags=finishedWork.updateQueue,flags!==null&&(current=flags.retryQueue,current!==null&&(flags.retryQueue=null,attachSuspenseRetryListeners(finishedWork,current))));break;case 19:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork),flags&4&&(flags=finishedWork.updateQueue,flags!==null&&(finishedWork.updateQueue=null,attachSuspenseRetryListeners(finishedWork,flags)));break;case 30:break;case 21:break;default:recursivelyTraverseMutationEffects(root$1,finishedWork),commitReconciliationEffects(finishedWork)}}function commitReconciliationEffects(finishedWork){var flags=finishedWork.flags;if(flags&2){try{for(var hostParentFiber,parentFiber=finishedWork.return;parentFiber!==null;){if(isHostParent(parentFiber)){hostParentFiber=parentFiber;break}parentFiber=parentFiber.return}if(hostParentFiber==null)throw Error(formatProdErrorMessage(160));switch(hostParentFiber.tag){case 27:var parent=hostParentFiber.stateNode,before=getHostSibling(finishedWork);insertOrAppendPlacementNode(finishedWork,before,parent);break;case 5:var parent$141=hostParentFiber.stateNode;hostParentFiber.flags&32&&(setTextContent(parent$141,``),hostParentFiber.flags&=-33);var before$142=getHostSibling(finishedWork);insertOrAppendPlacementNode(finishedWork,before$142,parent$141);break;case 3:case 4:var parent$143=hostParentFiber.stateNode.containerInfo,before$144=getHostSibling(finishedWork);insertOrAppendPlacementNodeIntoContainer(finishedWork,before$144,parent$143);break;default:throw Error(formatProdErrorMessage(161))}}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}finishedWork.flags&=-3}flags&4096&&(finishedWork.flags&=-4097)}function recursivelyResetForms(parentFiber){if(parentFiber.subtreeFlags&1024)for(parentFiber=parentFiber.child;parentFiber!==null;){var fiber=parentFiber;recursivelyResetForms(fiber),fiber.tag===5&&fiber.flags&1024&&fiber.stateNode.reset(),parentFiber=parentFiber.sibling}}function recursivelyTraverseLayoutEffects(root$1,parentFiber){if(parentFiber.subtreeFlags&8772)for(parentFiber=parentFiber.child;parentFiber!==null;)commitLayoutEffectOnFiber(root$1,parentFiber.alternate,parentFiber),parentFiber=parentFiber.sibling}function recursivelyTraverseDisappearLayoutEffects(parentFiber){for(parentFiber=parentFiber.child;parentFiber!==null;){var finishedWork=parentFiber;switch(finishedWork.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,finishedWork,finishedWork.return),recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 1:safelyDetachRef(finishedWork,finishedWork.return);var instance=finishedWork.stateNode;typeof instance.componentWillUnmount==`function`&&safelyCallComponentWillUnmount(finishedWork,finishedWork.return,instance),recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 27:releaseSingletonInstance(finishedWork.stateNode);case 26:case 5:safelyDetachRef(finishedWork,finishedWork.return),recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 22:finishedWork.memoizedState===null&&recursivelyTraverseDisappearLayoutEffects(finishedWork);break;case 30:recursivelyTraverseDisappearLayoutEffects(finishedWork);break;default:recursivelyTraverseDisappearLayoutEffects(finishedWork)}parentFiber=parentFiber.sibling}}function recursivelyTraverseReappearLayoutEffects(finishedRoot$jscomp$0,parentFiber,includeWorkInProgressEffects){for(includeWorkInProgressEffects&&=(parentFiber.subtreeFlags&8772)!=0,parentFiber=parentFiber.child;parentFiber!==null;){var current=parentFiber.alternate,finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),commitHookEffectListMount(4,finishedWork);break;case 1:if(recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),current=finishedWork,finishedRoot=current.stateNode,typeof finishedRoot.componentDidMount==`function`)try{finishedRoot.componentDidMount()}catch(error){captureCommitPhaseError(current,current.return,error)}if(current=finishedWork,finishedRoot=current.updateQueue,finishedRoot!==null){var instance=current.stateNode;try{var hiddenCallbacks=finishedRoot.shared.hiddenCallbacks;if(hiddenCallbacks!==null)for(finishedRoot.shared.hiddenCallbacks=null,finishedRoot=0;finishedRoot<hiddenCallbacks.length;finishedRoot++)callCallback(hiddenCallbacks[finishedRoot],instance)}catch(error){captureCommitPhaseError(current,current.return,error)}}includeWorkInProgressEffects&&flags&64&&commitClassCallbacks(finishedWork),safelyAttachRef(finishedWork,finishedWork.return);break;case 27:commitHostSingletonAcquisition(finishedWork);case 26:case 5:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),includeWorkInProgressEffects&&current===null&&flags&4&&commitHostMount(finishedWork),safelyAttachRef(finishedWork,finishedWork.return);break;case 12:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects);break;case 31:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),includeWorkInProgressEffects&&flags&4&&commitActivityHydrationCallbacks(finishedRoot,finishedWork);break;case 13:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),includeWorkInProgressEffects&&flags&4&&commitSuspenseHydrationCallbacks(finishedRoot,finishedWork);break;case 22:finishedWork.memoizedState===null&&recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects),safelyAttachRef(finishedWork,finishedWork.return);break;case 30:break;default:recursivelyTraverseReappearLayoutEffects(finishedRoot,finishedWork,includeWorkInProgressEffects)}parentFiber=parentFiber.sibling}}function commitOffscreenPassiveMountEffects(current,finishedWork){var previousCache=null;current!==null&&current.memoizedState!==null&&current.memoizedState.cachePool!==null&&(previousCache=current.memoizedState.cachePool.pool),current=null,finishedWork.memoizedState!==null&&finishedWork.memoizedState.cachePool!==null&&(current=finishedWork.memoizedState.cachePool.pool),current!==previousCache&&(current!=null&&current.refCount++,previousCache!=null&&releaseCache(previousCache))}function commitCachePassiveMountEffect(current,finishedWork){current=null,finishedWork.alternate!==null&&(current=finishedWork.alternate.memoizedState.cache),finishedWork=finishedWork.memoizedState.cache,finishedWork!==current&&(finishedWork.refCount++,current!=null&&releaseCache(current))}function recursivelyTraversePassiveMountEffects(root$1,parentFiber,committedLanes,committedTransitions){if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;parentFiber!==null;)commitPassiveMountOnFiber(root$1,parentFiber,committedLanes,committedTransitions),parentFiber=parentFiber.sibling}function commitPassiveMountOnFiber(finishedRoot,finishedWork,committedLanes,committedTransitions){var flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions),flags&2048&&commitHookEffectListMount(9,finishedWork);break;case 1:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 3:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions),flags&2048&&(finishedRoot=null,finishedWork.alternate!==null&&(finishedRoot=finishedWork.alternate.memoizedState.cache),finishedWork=finishedWork.memoizedState.cache,finishedWork!==finishedRoot&&(finishedWork.refCount++,finishedRoot!=null&&releaseCache(finishedRoot)));break;case 12:if(flags&2048){recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions),finishedRoot=finishedWork.stateNode;try{var _finishedWork$memoize2=finishedWork.memoizedProps,id=_finishedWork$memoize2.id,onPostCommit=_finishedWork$memoize2.onPostCommit;typeof onPostCommit==`function`&&onPostCommit(id,finishedWork.alternate===null?`mount`:`update`,finishedRoot.passiveEffectDuration,-0)}catch(error){captureCommitPhaseError(finishedWork,finishedWork.return,error)}}else recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 31:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 13:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions);break;case 23:break;case 22:_finishedWork$memoize2=finishedWork.stateNode,id=finishedWork.alternate,finishedWork.memoizedState===null?_finishedWork$memoize2._visibility&2?recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions):(_finishedWork$memoize2._visibility|=2,recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,(finishedWork.subtreeFlags&10256)!=0||!1)):_finishedWork$memoize2._visibility&2?recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions):recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork),flags&2048&&commitOffscreenPassiveMountEffects(id,finishedWork);break;case 24:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions),flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraversePassiveMountEffects(finishedRoot,finishedWork,committedLanes,committedTransitions)}}function recursivelyTraverseReconnectPassiveEffects(finishedRoot$jscomp$0,parentFiber,committedLanes$jscomp$0,committedTransitions$jscomp$0,includeWorkInProgressEffects){for(includeWorkInProgressEffects&&=(parentFiber.subtreeFlags&10256)!=0||!1,parentFiber=parentFiber.child;parentFiber!==null;){var finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,committedLanes=committedLanes$jscomp$0,committedTransitions=committedTransitions$jscomp$0,flags=finishedWork.flags;switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects),commitHookEffectListMount(8,finishedWork);break;case 23:break;case 22:var instance=finishedWork.stateNode;finishedWork.memoizedState===null?(instance._visibility|=2,recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects)):instance._visibility&2?recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects):recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork),includeWorkInProgressEffects&&flags&2048&&commitOffscreenPassiveMountEffects(finishedWork.alternate,finishedWork);break;case 24:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects),includeWorkInProgressEffects&&flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraverseReconnectPassiveEffects(finishedRoot,finishedWork,committedLanes,committedTransitions,includeWorkInProgressEffects)}parentFiber=parentFiber.sibling}}function recursivelyTraverseAtomicPassiveEffects(finishedRoot$jscomp$0,parentFiber){if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;parentFiber!==null;){var finishedRoot=finishedRoot$jscomp$0,finishedWork=parentFiber,flags=finishedWork.flags;switch(finishedWork.tag){case 22:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork),flags&2048&&commitOffscreenPassiveMountEffects(finishedWork.alternate,finishedWork);break;case 24:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork),flags&2048&&commitCachePassiveMountEffect(finishedWork.alternate,finishedWork);break;default:recursivelyTraverseAtomicPassiveEffects(finishedRoot,finishedWork)}parentFiber=parentFiber.sibling}}var suspenseyCommitFlag=8192;function recursivelyAccumulateSuspenseyCommit(parentFiber,committedLanes,suspendedState){if(parentFiber.subtreeFlags&suspenseyCommitFlag)for(parentFiber=parentFiber.child;parentFiber!==null;)accumulateSuspenseyCommitOnFiber(parentFiber,committedLanes,suspendedState),parentFiber=parentFiber.sibling}function accumulateSuspenseyCommitOnFiber(fiber,committedLanes,suspendedState){switch(fiber.tag){case 26:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState),fiber.flags&suspenseyCommitFlag&&fiber.memoizedState!==null&&suspendResource(suspendedState,currentHoistableRoot,fiber.memoizedState,fiber.memoizedProps);break;case 5:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState);break;case 3:case 4:var previousHoistableRoot=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(fiber.stateNode.containerInfo),recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState),currentHoistableRoot=previousHoistableRoot;break;case 22:fiber.memoizedState===null&&(previousHoistableRoot=fiber.alternate,previousHoistableRoot!==null&&previousHoistableRoot.memoizedState!==null?(previousHoistableRoot=suspenseyCommitFlag,suspenseyCommitFlag=16777216,recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState),suspenseyCommitFlag=previousHoistableRoot):recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState));break;default:recursivelyAccumulateSuspenseyCommit(fiber,committedLanes,suspendedState)}}function detachAlternateSiblings(parentFiber){var previousFiber=parentFiber.alternate;if(previousFiber!==null&&(parentFiber=previousFiber.child,parentFiber!==null)){previousFiber.child=null;do previousFiber=parentFiber.sibling,parentFiber.sibling=null,parentFiber=previousFiber;while(parentFiber!==null)}}function recursivelyTraversePassiveUnmountEffects(parentFiber){var deletions=parentFiber.deletions;if(parentFiber.flags&16){if(deletions!==null)for(var i$3=0;i$3<deletions.length;i$3++){var childToDelete=deletions[i$3];nextEffect=childToDelete,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(childToDelete,parentFiber)}detachAlternateSiblings(parentFiber)}if(parentFiber.subtreeFlags&10256)for(parentFiber=parentFiber.child;parentFiber!==null;)commitPassiveUnmountOnFiber(parentFiber),parentFiber=parentFiber.sibling}function commitPassiveUnmountOnFiber(finishedWork){switch(finishedWork.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(finishedWork),finishedWork.flags&2048&&commitHookEffectListUnmount(9,finishedWork,finishedWork.return);break;case 3:recursivelyTraversePassiveUnmountEffects(finishedWork);break;case 12:recursivelyTraversePassiveUnmountEffects(finishedWork);break;case 22:var instance=finishedWork.stateNode;finishedWork.memoizedState!==null&&instance._visibility&2&&(finishedWork.return===null||finishedWork.return.tag!==13)?(instance._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(finishedWork)):recursivelyTraversePassiveUnmountEffects(finishedWork);break;default:recursivelyTraversePassiveUnmountEffects(finishedWork)}}function recursivelyTraverseDisconnectPassiveEffects(parentFiber){var deletions=parentFiber.deletions;if(parentFiber.flags&16){if(deletions!==null)for(var i$3=0;i$3<deletions.length;i$3++){var childToDelete=deletions[i$3];nextEffect=childToDelete,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(childToDelete,parentFiber)}detachAlternateSiblings(parentFiber)}for(parentFiber=parentFiber.child;parentFiber!==null;){switch(deletions=parentFiber,deletions.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,deletions,deletions.return),recursivelyTraverseDisconnectPassiveEffects(deletions);break;case 22:i$3=deletions.stateNode,i$3._visibility&2&&(i$3._visibility&=-3,recursivelyTraverseDisconnectPassiveEffects(deletions));break;default:recursivelyTraverseDisconnectPassiveEffects(deletions)}parentFiber=parentFiber.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(deletedSubtreeRoot,nearestMountedAncestor){for(;nextEffect!==null;){var fiber=nextEffect;switch(fiber.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,fiber,nearestMountedAncestor);break;case 23:case 22:if(fiber.memoizedState!==null&&fiber.memoizedState.cachePool!==null){var cache=fiber.memoizedState.cachePool.pool;cache!=null&&cache.refCount++}break;case 24:releaseCache(fiber.memoizedState.cache)}if(cache=fiber.child,cache!==null)cache.return=fiber,nextEffect=cache;else a:for(fiber=deletedSubtreeRoot;nextEffect!==null;){cache=nextEffect;var sibling=cache.sibling,returnFiber=cache.return;if(detachFiberAfterEffects(cache),cache===fiber){nextEffect=null;break a}if(sibling!==null){sibling.return=returnFiber,nextEffect=sibling;break a}nextEffect=returnFiber}}}var DefaultAsyncDispatcher={getCacheForType:function(resourceType){var cache=readContext(CacheContext),cacheForType=cache.data.get(resourceType);return cacheForType===void 0&&(cacheForType=resourceType(),cache.data.set(resourceType,cacheForType)),cacheForType},cacheSignal:function(){return readContext(CacheContext).controller.signal}},PossiblyWeakMap=typeof WeakMap==`function`?WeakMap:Map,executionContext=0,workInProgressRoot=null,workInProgress=null,workInProgressRootRenderLanes=0,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=!1,workInProgressRootDidAttachPingListener=!1,entangledRenderLanes=0,workInProgressRootExitStatus=0,workInProgressRootSkippedLanes=0,workInProgressRootInterleavedUpdatedLanes=0,workInProgressRootPingedLanes=0,workInProgressDeferredLane=0,workInProgressSuspendedRetryLanes=0,workInProgressRootConcurrentErrors=null,workInProgressRootRecoverableErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,globalMostRecentFallbackTime=0,globalMostRecentTransitionTime=0,workInProgressRootRenderTargetTime=1/0,workInProgressTransitions=null,legacyErrorBoundariesThatAlreadyFailed=null,pendingEffectsStatus=0,pendingEffectsRoot=null,pendingFinishedWork=null,pendingEffectsLanes=0,pendingEffectsRemainingLanes=0,pendingPassiveTransitions=null,pendingRecoverableErrors=null,nestedUpdateCount=0,rootWithNestedUpdates=null;function requestUpdateLane(){return executionContext&2&&workInProgressRootRenderLanes!==0?workInProgressRootRenderLanes&-workInProgressRootRenderLanes:ReactSharedInternals.T===null?resolveUpdatePriority():requestTransitionLane()}function requestDeferredLane(){if(workInProgressDeferredLane===0)if(!(workInProgressRootRenderLanes&536870912)||isHydrating){var lane=nextTransitionDeferredLane;nextTransitionDeferredLane<<=1,!(nextTransitionDeferredLane&3932160)&&(nextTransitionDeferredLane=262144),workInProgressDeferredLane=lane}else workInProgressDeferredLane=536870912;return lane=suspenseHandlerStackCursor.current,lane!==null&&(lane.flags|=32),workInProgressDeferredLane}function scheduleUpdateOnFiber(root$1,fiber,lane){(root$1===workInProgressRoot&&(workInProgressSuspendedReason===2||workInProgressSuspendedReason===9)||root$1.cancelPendingCommit!==null)&&(prepareFreshStack(root$1,0),markRootSuspended(root$1,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),markRootUpdated$1(root$1,lane),(!(executionContext&2)||root$1!==workInProgressRoot)&&(root$1===workInProgressRoot&&(!(executionContext&2)&&(workInProgressRootInterleavedUpdatedLanes|=lane),workInProgressRootExitStatus===4&&markRootSuspended(root$1,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),ensureRootIsScheduled(root$1))}function performWorkOnRoot(root$jscomp$0,lanes,forceSync){if(executionContext&6)throw Error(formatProdErrorMessage(327));var shouldTimeSlice=!forceSync&&(lanes&127)==0&&(lanes&root$jscomp$0.expiredLanes)===0||checkIfRootIsPrerendering(root$jscomp$0,lanes),exitStatus=shouldTimeSlice?renderRootConcurrent(root$jscomp$0,lanes):renderRootSync(root$jscomp$0,lanes,!0),renderWasConcurrent=shouldTimeSlice;do{if(exitStatus===0){workInProgressRootIsPrerendering&&!shouldTimeSlice&&markRootSuspended(root$jscomp$0,lanes,0,!1);break}else{if(forceSync=root$jscomp$0.current.alternate,renderWasConcurrent&&!isRenderConsistentWithExternalStores(forceSync)){exitStatus=renderRootSync(root$jscomp$0,lanes,!1),renderWasConcurrent=!1;continue}if(exitStatus===2){if(renderWasConcurrent=lanes,root$jscomp$0.errorRecoveryDisabledLanes&renderWasConcurrent)var JSCompiler_inline_result=0;else JSCompiler_inline_result=root$jscomp$0.pendingLanes&-536870913,JSCompiler_inline_result=JSCompiler_inline_result===0?JSCompiler_inline_result&536870912?536870912:0:JSCompiler_inline_result;if(JSCompiler_inline_result!==0){lanes=JSCompiler_inline_result;a:{var root$1=root$jscomp$0;exitStatus=workInProgressRootConcurrentErrors;var wasRootDehydrated=root$1.current.memoizedState.isDehydrated;if(wasRootDehydrated&&(prepareFreshStack(root$1,JSCompiler_inline_result).flags|=256),JSCompiler_inline_result=renderRootSync(root$1,JSCompiler_inline_result,!1),JSCompiler_inline_result!==2){if(workInProgressRootDidAttachPingListener&&!wasRootDehydrated){root$1.errorRecoveryDisabledLanes|=renderWasConcurrent,workInProgressRootInterleavedUpdatedLanes|=renderWasConcurrent,exitStatus=4;break a}renderWasConcurrent=workInProgressRootRecoverableErrors,workInProgressRootRecoverableErrors=exitStatus,renderWasConcurrent!==null&&(workInProgressRootRecoverableErrors===null?workInProgressRootRecoverableErrors=renderWasConcurrent:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,renderWasConcurrent))}exitStatus=JSCompiler_inline_result}if(renderWasConcurrent=!1,exitStatus!==2)continue}}if(exitStatus===1){prepareFreshStack(root$jscomp$0,0),markRootSuspended(root$jscomp$0,lanes,0,!0);break}a:{switch(shouldTimeSlice=root$jscomp$0,renderWasConcurrent=exitStatus,renderWasConcurrent){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if((lanes&4194048)!==lanes)break;case 6:markRootSuspended(shouldTimeSlice,lanes,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings);break a;case 2:workInProgressRootRecoverableErrors=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if((lanes&62914560)===lanes&&(exitStatus=globalMostRecentFallbackTime+300-now(),10<exitStatus)){if(markRootSuspended(shouldTimeSlice,lanes,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings),getNextLanes(shouldTimeSlice,0,!0)!==0)break a;pendingEffectsLanes=lanes,shouldTimeSlice.timeoutHandle=scheduleTimeout(commitRootWhenReady.bind(null,shouldTimeSlice,forceSync,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,lanes,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,renderWasConcurrent,`Throttled`,-0,0),exitStatus);break a}commitRootWhenReady(shouldTimeSlice,forceSync,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,lanes,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,renderWasConcurrent,null,-0,0)}}break}while(1);ensureRootIsScheduled(root$jscomp$0)}function commitRootWhenReady(root$1,finishedWork,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,lanes,spawnedLane,updatedLanes,suspendedRetryLanes,didSkipSuspendedSiblings,exitStatus,suspendedCommitReason,completedRenderStartTime,completedRenderEndTime){if(root$1.timeoutHandle=-1,suspendedCommitReason=finishedWork.subtreeFlags,suspendedCommitReason&8192||(suspendedCommitReason&16785408)==16785408){suspendedCommitReason={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:noop$1},accumulateSuspenseyCommitOnFiber(finishedWork,lanes,suspendedCommitReason);var timeoutOffset=(lanes&62914560)===lanes?globalMostRecentFallbackTime-now():(lanes&4194048)===lanes?globalMostRecentTransitionTime-now():0;if(timeoutOffset=waitForCommitToBeReady(suspendedCommitReason,timeoutOffset),timeoutOffset!==null){pendingEffectsLanes=lanes,root$1.cancelPendingCommit=timeoutOffset(commitRoot.bind(null,root$1,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes,exitStatus,suspendedCommitReason,null,completedRenderStartTime,completedRenderEndTime)),markRootSuspended(root$1,lanes,spawnedLane,!didSkipSuspendedSiblings);return}}commitRoot(root$1,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes)}function isRenderConsistentWithExternalStores(finishedWork){for(var node=finishedWork;;){var tag=node.tag;if((tag===0||tag===11||tag===15)&&node.flags&16384&&(tag=node.updateQueue,tag!==null&&(tag=tag.stores,tag!==null)))for(var i$3=0;i$3<tag.length;i$3++){var check=tag[i$3],getSnapshot=check.getSnapshot;check=check.value;try{if(!objectIs(getSnapshot(),check))return!1}catch{return!1}}if(tag=node.child,node.subtreeFlags&16384&&tag!==null)tag.return=node,node=tag;else{if(node===finishedWork)break;for(;node.sibling===null;){if(node.return===null||node.return===finishedWork)return!0;node=node.return}node.sibling.return=node.return,node=node.sibling}}return!0}function markRootSuspended(root$1,suspendedLanes,spawnedLane,didAttemptEntireTree){suspendedLanes&=~workInProgressRootPingedLanes,suspendedLanes&=~workInProgressRootInterleavedUpdatedLanes,root$1.suspendedLanes|=suspendedLanes,root$1.pingedLanes&=~suspendedLanes,didAttemptEntireTree&&(root$1.warmLanes|=suspendedLanes),didAttemptEntireTree=root$1.expirationTimes;for(var lanes=suspendedLanes;0<lanes;){var index$6=31-clz32(lanes),lane=1<<index$6;didAttemptEntireTree[index$6]=-1,lanes&=~lane}spawnedLane!==0&&markSpawnedDeferredLane(root$1,spawnedLane,suspendedLanes)}function flushSyncWork$1(){return executionContext&6?!0:(flushSyncWorkAcrossRoots_impl(0,!1),!1)}function resetWorkInProgressStack(){if(workInProgress!==null){if(workInProgressSuspendedReason===0)var interruptedWork=workInProgress.return;else interruptedWork=workInProgress,lastContextDependency=currentlyRenderingFiber$1=null,resetHooksOnUnwind(interruptedWork),thenableState$1=null,thenableIndexCounter$1=0,interruptedWork=workInProgress;for(;interruptedWork!==null;)unwindInterruptedWork(interruptedWork.alternate,interruptedWork),interruptedWork=interruptedWork.return;workInProgress=null}}function prepareFreshStack(root$1,lanes){var timeoutHandle=root$1.timeoutHandle;timeoutHandle!==-1&&(root$1.timeoutHandle=-1,cancelTimeout(timeoutHandle)),timeoutHandle=root$1.cancelPendingCommit,timeoutHandle!==null&&(root$1.cancelPendingCommit=null,timeoutHandle()),pendingEffectsLanes=0,resetWorkInProgressStack(),workInProgressRoot=root$1,workInProgress=timeoutHandle=createWorkInProgress(root$1.current,null),workInProgressRootRenderLanes=lanes,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=checkIfRootIsPrerendering(root$1,lanes),workInProgressRootDidAttachPingListener=!1,workInProgressSuspendedRetryLanes=workInProgressDeferredLane=workInProgressRootPingedLanes=workInProgressRootInterleavedUpdatedLanes=workInProgressRootSkippedLanes=workInProgressRootExitStatus=0,workInProgressRootRecoverableErrors=workInProgressRootConcurrentErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,lanes&8&&(lanes|=lanes&32);var allEntangledLanes=root$1.entangledLanes;if(allEntangledLanes!==0)for(root$1=root$1.entanglements,allEntangledLanes&=lanes;0<allEntangledLanes;){var index$4=31-clz32(allEntangledLanes),lane=1<<index$4;lanes|=root$1[index$4],allEntangledLanes&=~lane}return entangledRenderLanes=lanes,finishQueueingConcurrentUpdates(),timeoutHandle}function handleThrow(root$1,thrownValue){currentlyRenderingFiber=null,ReactSharedInternals.H=ContextOnlyDispatcher,thrownValue===SuspenseException||thrownValue===SuspenseActionException?(thrownValue=getSuspendedThenable(),workInProgressSuspendedReason=3):thrownValue===SuspenseyCommitException?(thrownValue=getSuspendedThenable(),workInProgressSuspendedReason=4):workInProgressSuspendedReason=thrownValue===SelectiveHydrationException?8:typeof thrownValue==`object`&&thrownValue&&typeof thrownValue.then==`function`?6:1,workInProgressThrownValue=thrownValue,workInProgress===null&&(workInProgressRootExitStatus=1,logUncaughtError(root$1,createCapturedValueAtFiber(thrownValue,root$1.current)))}function shouldRemainOnPreviousScreen(){var handler=suspenseHandlerStackCursor.current;return handler===null?!0:(workInProgressRootRenderLanes&4194048)===workInProgressRootRenderLanes?shellBoundary===null:(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes||workInProgressRootRenderLanes&536870912?handler===shellBoundary:!1}function pushDispatcher(){var prevDispatcher=ReactSharedInternals.H;return ReactSharedInternals.H=ContextOnlyDispatcher,prevDispatcher===null?ContextOnlyDispatcher:prevDispatcher}function pushAsyncDispatcher(){var prevAsyncDispatcher=ReactSharedInternals.A;return ReactSharedInternals.A=DefaultAsyncDispatcher,prevAsyncDispatcher}function renderDidSuspendDelayIfPossible(){workInProgressRootExitStatus=4,workInProgressRootDidSkipSuspendedSiblings||(workInProgressRootRenderLanes&4194048)!==workInProgressRootRenderLanes&&suspenseHandlerStackCursor.current!==null||(workInProgressRootIsPrerendering=!0),!(workInProgressRootSkippedLanes&134217727)&&!(workInProgressRootInterleavedUpdatedLanes&134217727)||workInProgressRoot===null||markRootSuspended(workInProgressRoot,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)}function renderRootSync(root$1,lanes,shouldYieldForPrerendering){var prevExecutionContext=executionContext;executionContext|=2;var prevDispatcher=pushDispatcher(),prevAsyncDispatcher=pushAsyncDispatcher();(workInProgressRoot!==root$1||workInProgressRootRenderLanes!==lanes)&&(workInProgressTransitions=null,prepareFreshStack(root$1,lanes)),lanes=!1;var exitStatus=workInProgressRootExitStatus;a:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){var unitOfWork=workInProgress,thrownValue=workInProgressThrownValue;switch(workInProgressSuspendedReason){case 8:resetWorkInProgressStack(),exitStatus=6;break a;case 3:case 2:case 9:case 6:suspenseHandlerStackCursor.current===null&&(lanes=!0);var reason=workInProgressSuspendedReason;if(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,unitOfWork,thrownValue,reason),shouldYieldForPrerendering&&workInProgressRootIsPrerendering){exitStatus=0;break a}break;default:reason=workInProgressSuspendedReason,workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,unitOfWork,thrownValue,reason)}}workLoopSync(),exitStatus=workInProgressRootExitStatus;break}catch(thrownValue$165){handleThrow(root$1,thrownValue$165)}while(1);return lanes&&root$1.shellSuspendCounter++,lastContextDependency=currentlyRenderingFiber$1=null,executionContext=prevExecutionContext,ReactSharedInternals.H=prevDispatcher,ReactSharedInternals.A=prevAsyncDispatcher,workInProgress===null&&(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates()),exitStatus}function workLoopSync(){for(;workInProgress!==null;)performUnitOfWork(workInProgress)}function renderRootConcurrent(root$1,lanes){var prevExecutionContext=executionContext;executionContext|=2;var prevDispatcher=pushDispatcher(),prevAsyncDispatcher=pushAsyncDispatcher();workInProgressRoot!==root$1||workInProgressRootRenderLanes!==lanes?(workInProgressTransitions=null,workInProgressRootRenderTargetTime=now()+500,prepareFreshStack(root$1,lanes)):workInProgressRootIsPrerendering=checkIfRootIsPrerendering(root$1,lanes);a:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){lanes=workInProgress;var thrownValue=workInProgressThrownValue;b:switch(workInProgressSuspendedReason){case 1:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,lanes,thrownValue,1);break;case 2:case 9:if(isThenableResolved(thrownValue)){workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork(lanes);break}lanes=function(){workInProgressSuspendedReason!==2&&workInProgressSuspendedReason!==9||workInProgressRoot!==root$1||(workInProgressSuspendedReason=7),ensureRootIsScheduled(root$1)},thrownValue.then(lanes,lanes);break a;case 3:workInProgressSuspendedReason=7;break a;case 4:workInProgressSuspendedReason=5;break a;case 7:isThenableResolved(thrownValue)?(workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork(lanes)):(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,lanes,thrownValue,7));break;case 5:var resource=null;switch(workInProgress.tag){case 26:resource=workInProgress.memoizedState;case 5:case 27:var hostFiber=workInProgress;if(resource?preloadResource(resource):hostFiber.stateNode.complete){workInProgressSuspendedReason=0,workInProgressThrownValue=null;var sibling=hostFiber.sibling;if(sibling!==null)workInProgress=sibling;else{var returnFiber=hostFiber.return;returnFiber===null?workInProgress=null:(workInProgress=returnFiber,completeUnitOfWork(returnFiber))}break b}}workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,lanes,thrownValue,5);break;case 6:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(root$1,lanes,thrownValue,6);break;case 8:resetWorkInProgressStack(),workInProgressRootExitStatus=6;break a;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrentByScheduler();break}catch(thrownValue$167){handleThrow(root$1,thrownValue$167)}while(1);return lastContextDependency=currentlyRenderingFiber$1=null,ReactSharedInternals.H=prevDispatcher,ReactSharedInternals.A=prevAsyncDispatcher,executionContext=prevExecutionContext,workInProgress===null?(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates(),workInProgressRootExitStatus):0}function workLoopConcurrentByScheduler(){for(;workInProgress!==null&&!shouldYield();)performUnitOfWork(workInProgress)}function performUnitOfWork(unitOfWork){var next=beginWork(unitOfWork.alternate,unitOfWork,entangledRenderLanes);unitOfWork.memoizedProps=unitOfWork.pendingProps,next===null?completeUnitOfWork(unitOfWork):workInProgress=next}function replaySuspendedUnitOfWork(unitOfWork){var next=unitOfWork,current=next.alternate;switch(next.tag){case 15:case 0:next=replayFunctionComponent(current,next,next.pendingProps,next.type,void 0,workInProgressRootRenderLanes);break;case 11:next=replayFunctionComponent(current,next,next.pendingProps,next.type.render,next.ref,workInProgressRootRenderLanes);break;case 5:resetHooksOnUnwind(next);default:unwindInterruptedWork(current,next),next=workInProgress=resetWorkInProgress(next,entangledRenderLanes),next=beginWork(current,next,entangledRenderLanes)}unitOfWork.memoizedProps=unitOfWork.pendingProps,next===null?completeUnitOfWork(unitOfWork):workInProgress=next}function throwAndUnwindWorkLoop(root$1,unitOfWork,thrownValue,suspendedReason){lastContextDependency=currentlyRenderingFiber$1=null,resetHooksOnUnwind(unitOfWork),thenableState$1=null,thenableIndexCounter$1=0;var returnFiber=unitOfWork.return;try{if(throwException(root$1,returnFiber,unitOfWork,thrownValue,workInProgressRootRenderLanes)){workInProgressRootExitStatus=1,logUncaughtError(root$1,createCapturedValueAtFiber(thrownValue,root$1.current)),workInProgress=null;return}}catch(error){if(returnFiber!==null)throw workInProgress=returnFiber,error;workInProgressRootExitStatus=1,logUncaughtError(root$1,createCapturedValueAtFiber(thrownValue,root$1.current)),workInProgress=null;return}unitOfWork.flags&32768?(isHydrating||suspendedReason===1?root$1=!0:workInProgressRootIsPrerendering||workInProgressRootRenderLanes&536870912?root$1=!1:(workInProgressRootDidSkipSuspendedSiblings=root$1=!0,(suspendedReason===2||suspendedReason===9||suspendedReason===3||suspendedReason===6)&&(suspendedReason=suspenseHandlerStackCursor.current,suspendedReason!==null&&suspendedReason.tag===13&&(suspendedReason.flags|=16384))),unwindUnitOfWork(unitOfWork,root$1)):completeUnitOfWork(unitOfWork)}function completeUnitOfWork(unitOfWork){var completedWork=unitOfWork;do{if(completedWork.flags&32768){unwindUnitOfWork(completedWork,workInProgressRootDidSkipSuspendedSiblings);return}unitOfWork=completedWork.return;var next=completeWork(completedWork.alternate,completedWork,entangledRenderLanes);if(next!==null){workInProgress=next;return}if(completedWork=completedWork.sibling,completedWork!==null){workInProgress=completedWork;return}workInProgress=completedWork=unitOfWork}while(completedWork!==null);workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=5)}function unwindUnitOfWork(unitOfWork,skipSiblings){do{var next=unwindWork(unitOfWork.alternate,unitOfWork);if(next!==null){next.flags&=32767,workInProgress=next;return}if(next=unitOfWork.return,next!==null&&(next.flags|=32768,next.subtreeFlags=0,next.deletions=null),!skipSiblings&&(unitOfWork=unitOfWork.sibling,unitOfWork!==null)){workInProgress=unitOfWork;return}workInProgress=unitOfWork=next}while(unitOfWork!==null);workInProgressRootExitStatus=6,workInProgress=null}function commitRoot(root$1,finishedWork,lanes,recoverableErrors,transitions,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes){root$1.cancelPendingCommit=null;do flushPendingEffects();while(pendingEffectsStatus!==0);if(executionContext&6)throw Error(formatProdErrorMessage(327));if(finishedWork!==null){if(finishedWork===root$1.current)throw Error(formatProdErrorMessage(177));if(didIncludeRenderPhaseUpdate=finishedWork.lanes|finishedWork.childLanes,didIncludeRenderPhaseUpdate|=concurrentlyUpdatedLanes,markRootFinished(root$1,lanes,didIncludeRenderPhaseUpdate,spawnedLane,updatedLanes,suspendedRetryLanes),root$1===workInProgressRoot&&(workInProgress=workInProgressRoot=null,workInProgressRootRenderLanes=0),pendingFinishedWork=finishedWork,pendingEffectsRoot=root$1,pendingEffectsLanes=lanes,pendingEffectsRemainingLanes=didIncludeRenderPhaseUpdate,pendingPassiveTransitions=transitions,pendingRecoverableErrors=recoverableErrors,finishedWork.subtreeFlags&10256||finishedWork.flags&10256?(root$1.callbackNode=null,root$1.callbackPriority=0,scheduleCallback$1(NormalPriority$1,function(){return flushPassiveEffects(),null})):(root$1.callbackNode=null,root$1.callbackPriority=0),recoverableErrors=(finishedWork.flags&13878)!=0,finishedWork.subtreeFlags&13878||recoverableErrors){recoverableErrors=ReactSharedInternals.T,ReactSharedInternals.T=null,transitions=ReactDOMSharedInternals.p,ReactDOMSharedInternals.p=2,spawnedLane=executionContext,executionContext|=4;try{commitBeforeMutationEffects(root$1,finishedWork,lanes)}finally{executionContext=spawnedLane,ReactDOMSharedInternals.p=transitions,ReactSharedInternals.T=recoverableErrors}}pendingEffectsStatus=1,flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork()}}function flushMutationEffects(){if(pendingEffectsStatus===1){pendingEffectsStatus=0;var root$1=pendingEffectsRoot,finishedWork=pendingFinishedWork,rootMutationHasEffect=(finishedWork.flags&13878)!=0;if(finishedWork.subtreeFlags&13878||rootMutationHasEffect){rootMutationHasEffect=ReactSharedInternals.T,ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;var prevExecutionContext=executionContext;executionContext|=4;try{commitMutationEffectsOnFiber(finishedWork,root$1);var priorSelectionInformation=selectionInformation,curFocusedElem=getActiveElementDeep(root$1.containerInfo),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&priorFocusedElem&&priorFocusedElem.ownerDocument&&containsNode(priorFocusedElem.ownerDocument.documentElement,priorFocusedElem)){if(priorSelectionRange!==null&&hasSelectionCapabilities(priorFocusedElem)){var start=priorSelectionRange.start,end=priorSelectionRange.end;if(end===void 0&&(end=start),`selectionStart`in priorFocusedElem)priorFocusedElem.selectionStart=start,priorFocusedElem.selectionEnd=Math.min(end,priorFocusedElem.value.length);else{var doc=priorFocusedElem.ownerDocument||document,win=doc&&doc.defaultView||window;if(win.getSelection){var selection=win.getSelection(),length=priorFocusedElem.textContent.length,start$jscomp$0=Math.min(priorSelectionRange.start,length),end$jscomp$0=priorSelectionRange.end===void 0?start$jscomp$0:Math.min(priorSelectionRange.end,length);!selection.extend&&start$jscomp$0>end$jscomp$0&&(curFocusedElem=end$jscomp$0,end$jscomp$0=start$jscomp$0,start$jscomp$0=curFocusedElem);var startMarker=getNodeForCharacterOffset(priorFocusedElem,start$jscomp$0),endMarker=getNodeForCharacterOffset(priorFocusedElem,end$jscomp$0);if(startMarker&&endMarker&&(selection.rangeCount!==1||selection.anchorNode!==startMarker.node||selection.anchorOffset!==startMarker.offset||selection.focusNode!==endMarker.node||selection.focusOffset!==endMarker.offset)){var range=doc.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start$jscomp$0>end$jscomp$0?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}}for(doc=[],selection=priorFocusedElem;selection=selection.parentNode;)selection.nodeType===1&&doc.push({element:selection,left:selection.scrollLeft,top:selection.scrollTop});for(typeof priorFocusedElem.focus==`function`&&priorFocusedElem.focus(),priorFocusedElem=0;priorFocusedElem<doc.length;priorFocusedElem++){var info=doc[priorFocusedElem];info.element.scrollLeft=info.left,info.element.scrollTop=info.top}}_enabled=!!eventsEnabled,selectionInformation=eventsEnabled=null}finally{executionContext=prevExecutionContext,ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=rootMutationHasEffect}}root$1.current=finishedWork,pendingEffectsStatus=2}}function flushLayoutEffects(){if(pendingEffectsStatus===2){pendingEffectsStatus=0;var root$1=pendingEffectsRoot,finishedWork=pendingFinishedWork,rootHasLayoutEffect=(finishedWork.flags&8772)!=0;if(finishedWork.subtreeFlags&8772||rootHasLayoutEffect){rootHasLayoutEffect=ReactSharedInternals.T,ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=2;var prevExecutionContext=executionContext;executionContext|=4;try{commitLayoutEffectOnFiber(root$1,finishedWork.alternate,finishedWork)}finally{executionContext=prevExecutionContext,ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=rootHasLayoutEffect}}pendingEffectsStatus=3}}function flushSpawnedWork(){if(pendingEffectsStatus===4||pendingEffectsStatus===3){pendingEffectsStatus=0,requestPaint();var root$1=pendingEffectsRoot,finishedWork=pendingFinishedWork,lanes=pendingEffectsLanes,recoverableErrors=pendingRecoverableErrors;finishedWork.subtreeFlags&10256||finishedWork.flags&10256?pendingEffectsStatus=5:(pendingEffectsStatus=0,pendingFinishedWork=pendingEffectsRoot=null,releaseRootPooledCache(root$1,root$1.pendingLanes));var remainingLanes=root$1.pendingLanes;if(remainingLanes===0&&(legacyErrorBoundariesThatAlreadyFailed=null),lanesToEventPriority(lanes),finishedWork=finishedWork.stateNode,injectedHook&&typeof injectedHook.onCommitFiberRoot==`function`)try{injectedHook.onCommitFiberRoot(rendererID,finishedWork,void 0,(finishedWork.current.flags&128)==128)}catch{}if(recoverableErrors!==null){finishedWork=ReactSharedInternals.T,remainingLanes=ReactDOMSharedInternals.p,ReactDOMSharedInternals.p=2,ReactSharedInternals.T=null;try{for(var onRecoverableError=root$1.onRecoverableError,i$3=0;i$3<recoverableErrors.length;i$3++){var recoverableError=recoverableErrors[i$3];onRecoverableError(recoverableError.value,{componentStack:recoverableError.stack})}}finally{ReactSharedInternals.T=finishedWork,ReactDOMSharedInternals.p=remainingLanes}}pendingEffectsLanes&3&&flushPendingEffects(),ensureRootIsScheduled(root$1),remainingLanes=root$1.pendingLanes,lanes&261930&&remainingLanes&42?root$1===rootWithNestedUpdates?nestedUpdateCount++:(nestedUpdateCount=0,rootWithNestedUpdates=root$1):nestedUpdateCount=0,flushSyncWorkAcrossRoots_impl(0,!1)}}function releaseRootPooledCache(root$1,remainingLanes){(root$1.pooledCacheLanes&=remainingLanes)===0&&(remainingLanes=root$1.pooledCache,remainingLanes!=null&&(root$1.pooledCache=null,releaseCache(remainingLanes)))}function flushPendingEffects(){return flushMutationEffects(),flushLayoutEffects(),flushSpawnedWork(),flushPassiveEffects()}function flushPassiveEffects(){if(pendingEffectsStatus!==5)return!1;var root$1=pendingEffectsRoot,remainingLanes=pendingEffectsRemainingLanes;pendingEffectsRemainingLanes=0;var renderPriority=lanesToEventPriority(pendingEffectsLanes),prevTransition=ReactSharedInternals.T,previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=32>renderPriority?32:renderPriority,ReactSharedInternals.T=null,renderPriority=pendingPassiveTransitions,pendingPassiveTransitions=null;var root$jscomp$0=pendingEffectsRoot,lanes=pendingEffectsLanes;if(pendingEffectsStatus=0,pendingFinishedWork=pendingEffectsRoot=null,pendingEffectsLanes=0,executionContext&6)throw Error(formatProdErrorMessage(331));var prevExecutionContext=executionContext;if(executionContext|=4,commitPassiveUnmountOnFiber(root$jscomp$0.current),commitPassiveMountOnFiber(root$jscomp$0,root$jscomp$0.current,lanes,renderPriority),executionContext=prevExecutionContext,flushSyncWorkAcrossRoots_impl(0,!1),injectedHook&&typeof injectedHook.onPostCommitFiberRoot==`function`)try{injectedHook.onPostCommitFiberRoot(rendererID,root$jscomp$0)}catch{}return!0}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition,releaseRootPooledCache(root$1,remainingLanes)}}function captureCommitPhaseErrorOnRoot(rootFiber,sourceFiber,error){sourceFiber=createCapturedValueAtFiber(error,sourceFiber),sourceFiber=createRootErrorUpdate(rootFiber.stateNode,sourceFiber,2),rootFiber=enqueueUpdate(rootFiber,sourceFiber,2),rootFiber!==null&&(markRootUpdated$1(rootFiber,2),ensureRootIsScheduled(rootFiber))}function captureCommitPhaseError(sourceFiber,nearestMountedAncestor,error){if(sourceFiber.tag===3)captureCommitPhaseErrorOnRoot(sourceFiber,sourceFiber,error);else for(;nearestMountedAncestor!==null;){if(nearestMountedAncestor.tag===3){captureCommitPhaseErrorOnRoot(nearestMountedAncestor,sourceFiber,error);break}else if(nearestMountedAncestor.tag===1){var instance=nearestMountedAncestor.stateNode;if(typeof nearestMountedAncestor.type.getDerivedStateFromError==`function`||typeof instance.componentDidCatch==`function`&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(instance))){sourceFiber=createCapturedValueAtFiber(error,sourceFiber),error=createClassErrorUpdate(2),instance=enqueueUpdate(nearestMountedAncestor,error,2),instance!==null&&(initializeClassErrorUpdate(error,instance,nearestMountedAncestor,sourceFiber),markRootUpdated$1(instance,2),ensureRootIsScheduled(instance));break}}nearestMountedAncestor=nearestMountedAncestor.return}}function attachPingListener(root$1,wakeable,lanes){var pingCache=root$1.pingCache;if(pingCache===null){pingCache=root$1.pingCache=new PossiblyWeakMap;var threadIDs=new Set;pingCache.set(wakeable,threadIDs)}else threadIDs=pingCache.get(wakeable),threadIDs===void 0&&(threadIDs=new Set,pingCache.set(wakeable,threadIDs));threadIDs.has(lanes)||(workInProgressRootDidAttachPingListener=!0,threadIDs.add(lanes),root$1=pingSuspendedRoot.bind(null,root$1,wakeable,lanes),wakeable.then(root$1,root$1))}function pingSuspendedRoot(root$1,wakeable,pingedLanes){var pingCache=root$1.pingCache;pingCache!==null&&pingCache.delete(wakeable),root$1.pingedLanes|=root$1.suspendedLanes&pingedLanes,root$1.warmLanes&=~pingedLanes,workInProgressRoot===root$1&&(workInProgressRootRenderLanes&pingedLanes)===pingedLanes&&(workInProgressRootExitStatus===4||workInProgressRootExitStatus===3&&(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes&&300>now()-globalMostRecentFallbackTime?!(executionContext&2)&&prepareFreshStack(root$1,0):workInProgressRootPingedLanes|=pingedLanes,workInProgressSuspendedRetryLanes===workInProgressRootRenderLanes&&(workInProgressSuspendedRetryLanes=0)),ensureRootIsScheduled(root$1)}function retryTimedOutBoundary(boundaryFiber,retryLane){retryLane===0&&(retryLane=claimNextRetryLane()),boundaryFiber=enqueueConcurrentRenderForLane(boundaryFiber,retryLane),boundaryFiber!==null&&(markRootUpdated$1(boundaryFiber,retryLane),ensureRootIsScheduled(boundaryFiber))}function retryDehydratedSuspenseBoundary(boundaryFiber){var suspenseState=boundaryFiber.memoizedState,retryLane=0;suspenseState!==null&&(retryLane=suspenseState.retryLane),retryTimedOutBoundary(boundaryFiber,retryLane)}function resolveRetryWakeable(boundaryFiber,wakeable){var retryLane=0;switch(boundaryFiber.tag){case 31:case 13:var retryCache=boundaryFiber.stateNode,suspenseState=boundaryFiber.memoizedState;suspenseState!==null&&(retryLane=suspenseState.retryLane);break;case 19:retryCache=boundaryFiber.stateNode;break;case 22:retryCache=boundaryFiber.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}retryCache!==null&&retryCache.delete(wakeable),retryTimedOutBoundary(boundaryFiber,retryLane)}function scheduleCallback$1(priorityLevel,callback){return scheduleCallback$3(priorityLevel,callback)}var firstScheduledRoot=null,lastScheduledRoot=null,didScheduleMicrotask=!1,mightHavePendingSyncWork=!1,isFlushingWork=!1,currentEventTransitionLane=0;function ensureRootIsScheduled(root$1){root$1!==lastScheduledRoot&&root$1.next===null&&(lastScheduledRoot===null?firstScheduledRoot=lastScheduledRoot=root$1:lastScheduledRoot=lastScheduledRoot.next=root$1),mightHavePendingSyncWork=!0,didScheduleMicrotask||(didScheduleMicrotask=!0,scheduleImmediateRootScheduleTask())}function flushSyncWorkAcrossRoots_impl(syncTransitionLanes,onlyLegacy){if(!isFlushingWork&&mightHavePendingSyncWork){isFlushingWork=!0;do for(var didPerformSomeWork=!1,root$170=firstScheduledRoot;root$170!==null;){if(!onlyLegacy)if(syncTransitionLanes!==0){var pendingLanes=root$170.pendingLanes;if(pendingLanes===0)var JSCompiler_inline_result=0;else{var suspendedLanes=root$170.suspendedLanes,pingedLanes=root$170.pingedLanes;JSCompiler_inline_result=(1<<31-clz32(42|syncTransitionLanes)+1)-1,JSCompiler_inline_result&=pendingLanes&~(suspendedLanes&~pingedLanes),JSCompiler_inline_result=JSCompiler_inline_result&201326741?JSCompiler_inline_result&201326741|1:JSCompiler_inline_result?JSCompiler_inline_result|2:0}JSCompiler_inline_result!==0&&(didPerformSomeWork=!0,performSyncWorkOnRoot(root$170,JSCompiler_inline_result))}else JSCompiler_inline_result=workInProgressRootRenderLanes,JSCompiler_inline_result=getNextLanes(root$170,root$170===workInProgressRoot?JSCompiler_inline_result:0,root$170.cancelPendingCommit!==null||root$170.timeoutHandle!==-1),!(JSCompiler_inline_result&3)||checkIfRootIsPrerendering(root$170,JSCompiler_inline_result)||(didPerformSomeWork=!0,performSyncWorkOnRoot(root$170,JSCompiler_inline_result));root$170=root$170.next}while(didPerformSomeWork);isFlushingWork=!1}}function processRootScheduleInImmediateTask(){processRootScheduleInMicrotask()}function processRootScheduleInMicrotask(){mightHavePendingSyncWork=didScheduleMicrotask=!1;var syncTransitionLanes=0;currentEventTransitionLane!==0&&shouldAttemptEagerTransition()&&(syncTransitionLanes=currentEventTransitionLane);for(var currentTime=now(),prev=null,root$1=firstScheduledRoot;root$1!==null;){var next=root$1.next,nextLanes=scheduleTaskForRootDuringMicrotask(root$1,currentTime);nextLanes===0?(root$1.next=null,prev===null?firstScheduledRoot=next:prev.next=next,next===null&&(lastScheduledRoot=prev)):(prev=root$1,(syncTransitionLanes!==0||nextLanes&3)&&(mightHavePendingSyncWork=!0)),root$1=next}pendingEffectsStatus!==0&&pendingEffectsStatus!==5||flushSyncWorkAcrossRoots_impl(syncTransitionLanes,!1),currentEventTransitionLane!==0&&(currentEventTransitionLane=0)}function scheduleTaskForRootDuringMicrotask(root$1,currentTime){for(var suspendedLanes=root$1.suspendedLanes,pingedLanes=root$1.pingedLanes,expirationTimes=root$1.expirationTimes,lanes=root$1.pendingLanes&-62914561;0<lanes;){var index$5=31-clz32(lanes),lane=1<<index$5,expirationTime=expirationTimes[index$5];expirationTime===-1?((lane&suspendedLanes)===0||(lane&pingedLanes)!==0)&&(expirationTimes[index$5]=computeExpirationTime(lane,currentTime)):expirationTime<=currentTime&&(root$1.expiredLanes|=lane),lanes&=~lane}if(currentTime=workInProgressRoot,suspendedLanes=workInProgressRootRenderLanes,suspendedLanes=getNextLanes(root$1,root$1===currentTime?suspendedLanes:0,root$1.cancelPendingCommit!==null||root$1.timeoutHandle!==-1),pingedLanes=root$1.callbackNode,suspendedLanes===0||root$1===currentTime&&(workInProgressSuspendedReason===2||workInProgressSuspendedReason===9)||root$1.cancelPendingCommit!==null)return pingedLanes!==null&&pingedLanes!==null&&cancelCallback$1(pingedLanes),root$1.callbackNode=null,root$1.callbackPriority=0;if(!(suspendedLanes&3)||checkIfRootIsPrerendering(root$1,suspendedLanes)){if(currentTime=suspendedLanes&-suspendedLanes,currentTime===root$1.callbackPriority)return currentTime;switch(pingedLanes!==null&&cancelCallback$1(pingedLanes),lanesToEventPriority(suspendedLanes)){case 2:case 8:suspendedLanes=UserBlockingPriority;break;case 32:suspendedLanes=NormalPriority$1;break;case 268435456:suspendedLanes=IdlePriority;break;default:suspendedLanes=NormalPriority$1}return pingedLanes=performWorkOnRootViaSchedulerTask.bind(null,root$1),suspendedLanes=scheduleCallback$3(suspendedLanes,pingedLanes),root$1.callbackPriority=currentTime,root$1.callbackNode=suspendedLanes,currentTime}return pingedLanes!==null&&pingedLanes!==null&&cancelCallback$1(pingedLanes),root$1.callbackPriority=2,root$1.callbackNode=null,2}function performWorkOnRootViaSchedulerTask(root$1,didTimeout){if(pendingEffectsStatus!==0&&pendingEffectsStatus!==5)return root$1.callbackNode=null,root$1.callbackPriority=0,null;var originalCallbackNode=root$1.callbackNode;if(flushPendingEffects()&&root$1.callbackNode!==originalCallbackNode)return null;var workInProgressRootRenderLanes$jscomp$0=workInProgressRootRenderLanes;return workInProgressRootRenderLanes$jscomp$0=getNextLanes(root$1,root$1===workInProgressRoot?workInProgressRootRenderLanes$jscomp$0:0,root$1.cancelPendingCommit!==null||root$1.timeoutHandle!==-1),workInProgressRootRenderLanes$jscomp$0===0?null:(performWorkOnRoot(root$1,workInProgressRootRenderLanes$jscomp$0,didTimeout),scheduleTaskForRootDuringMicrotask(root$1,now()),root$1.callbackNode!=null&&root$1.callbackNode===originalCallbackNode?performWorkOnRootViaSchedulerTask.bind(null,root$1):null)}function performSyncWorkOnRoot(root$1,lanes){if(flushPendingEffects())return null;performWorkOnRoot(root$1,lanes,!0)}function scheduleImmediateRootScheduleTask(){scheduleMicrotask(function(){executionContext&6?scheduleCallback$3(ImmediatePriority,processRootScheduleInImmediateTask):processRootScheduleInMicrotask()})}function requestTransitionLane(){if(currentEventTransitionLane===0){var actionScopeLane=currentEntangledLane;actionScopeLane===0&&(actionScopeLane=nextTransitionUpdateLane,nextTransitionUpdateLane<<=1,!(nextTransitionUpdateLane&261888)&&(nextTransitionUpdateLane=256)),currentEventTransitionLane=actionScopeLane}return currentEventTransitionLane}function coerceFormActionProp(actionProp){return actionProp==null||typeof actionProp==`symbol`||typeof actionProp==`boolean`?null:typeof actionProp==`function`?actionProp:sanitizeURL(``+actionProp)}function createFormDataWithSubmitter(form,submitter){var temp=submitter.ownerDocument.createElement(`input`);return temp.name=submitter.name,temp.value=submitter.value,form.id&&temp.setAttribute(`form`,form.id),submitter.parentNode.insertBefore(temp,submitter),form=new FormData(form),temp.parentNode.removeChild(temp),form}function extractEvents$1(dispatchQueue,domEventName,maybeTargetInst,nativeEvent,nativeEventTarget){if(domEventName===`submit`&&maybeTargetInst&&maybeTargetInst.stateNode===nativeEventTarget){var action=coerceFormActionProp((nativeEventTarget[internalPropsKey]||null).action),submitter=nativeEvent.submitter;submitter&&(domEventName=(domEventName=submitter[internalPropsKey]||null)?coerceFormActionProp(domEventName.formAction):submitter.getAttribute(`formAction`),domEventName!==null&&(action=domEventName,submitter=null));var event=new SyntheticEvent(`action`,`action`,null,nativeEvent,nativeEventTarget);dispatchQueue.push({event,listeners:[{instance:null,listener:function(){if(nativeEvent.defaultPrevented){if(currentEventTransitionLane!==0){var formData=submitter?createFormDataWithSubmitter(nativeEventTarget,submitter):new FormData(nativeEventTarget);startHostTransition(maybeTargetInst,{pending:!0,data:formData,method:nativeEventTarget.method,action},null,formData)}}else typeof action==`function`&&(event.preventDefault(),formData=submitter?createFormDataWithSubmitter(nativeEventTarget,submitter):new FormData(nativeEventTarget),startHostTransition(maybeTargetInst,{pending:!0,data:formData,method:nativeEventTarget.method,action},action,formData))},currentTarget:nativeEventTarget}]})}}for(var i$jscomp$inline_1577=0;i$jscomp$inline_1577<simpleEventPluginEvents.length;i$jscomp$inline_1577++){var eventName$jscomp$inline_1578=simpleEventPluginEvents[i$jscomp$inline_1577],domEventName$jscomp$inline_1579=eventName$jscomp$inline_1578.toLowerCase(),capitalizedEvent$jscomp$inline_1580=eventName$jscomp$inline_1578[0].toUpperCase()+eventName$jscomp$inline_1578.slice(1);registerSimpleEvent(domEventName$jscomp$inline_1579,`on`+capitalizedEvent$jscomp$inline_1580)}registerSimpleEvent(ANIMATION_END,`onAnimationEnd`),registerSimpleEvent(ANIMATION_ITERATION,`onAnimationIteration`),registerSimpleEvent(ANIMATION_START,`onAnimationStart`),registerSimpleEvent(`dblclick`,`onDoubleClick`),registerSimpleEvent(`focusin`,`onFocus`),registerSimpleEvent(`focusout`,`onBlur`),registerSimpleEvent(TRANSITION_RUN,`onTransitionRun`),registerSimpleEvent(TRANSITION_START,`onTransitionStart`),registerSimpleEvent(TRANSITION_CANCEL,`onTransitionCancel`),registerSimpleEvent(TRANSITION_END,`onTransitionEnd`),registerDirectEvent(`onMouseEnter`,[`mouseout`,`mouseover`]),registerDirectEvent(`onMouseLeave`,[`mouseout`,`mouseover`]),registerDirectEvent(`onPointerEnter`,[`pointerout`,`pointerover`]),registerDirectEvent(`onPointerLeave`,[`pointerout`,`pointerover`]),registerTwoPhaseEvent(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),registerTwoPhaseEvent(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),registerTwoPhaseEvent(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),registerTwoPhaseEvent(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),registerTwoPhaseEvent(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),registerTwoPhaseEvent(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var mediaEventTypes=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),nonDelegatedEvents=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(mediaEventTypes));function processDispatchQueue(dispatchQueue,eventSystemFlags){eventSystemFlags=(eventSystemFlags&4)!=0;for(var i$3=0;i$3<dispatchQueue.length;i$3++){var _dispatchQueue$i=dispatchQueue[i$3],event=_dispatchQueue$i.event;_dispatchQueue$i=_dispatchQueue$i.listeners;a:{var previousInstance=void 0;if(eventSystemFlags)for(var i$jscomp$0=_dispatchQueue$i.length-1;0<=i$jscomp$0;i$jscomp$0--){var _dispatchListeners$i=_dispatchQueue$i[i$jscomp$0],instance=_dispatchListeners$i.instance,currentTarget=_dispatchListeners$i.currentTarget;if(_dispatchListeners$i=_dispatchListeners$i.listener,instance!==previousInstance&&event.isPropagationStopped())break a;previousInstance=_dispatchListeners$i,event.currentTarget=currentTarget;try{previousInstance(event)}catch(error){reportGlobalError(error)}event.currentTarget=null,previousInstance=instance}else for(i$jscomp$0=0;i$jscomp$0<_dispatchQueue$i.length;i$jscomp$0++){if(_dispatchListeners$i=_dispatchQueue$i[i$jscomp$0],instance=_dispatchListeners$i.instance,currentTarget=_dispatchListeners$i.currentTarget,_dispatchListeners$i=_dispatchListeners$i.listener,instance!==previousInstance&&event.isPropagationStopped())break a;previousInstance=_dispatchListeners$i,event.currentTarget=currentTarget;try{previousInstance(event)}catch(error){reportGlobalError(error)}event.currentTarget=null,previousInstance=instance}}}}function listenToNonDelegatedEvent(domEventName,targetElement){var JSCompiler_inline_result=targetElement[internalEventHandlersKey];JSCompiler_inline_result===void 0&&(JSCompiler_inline_result=targetElement[internalEventHandlersKey]=new Set);var listenerSetKey=domEventName+`__bubble`;JSCompiler_inline_result.has(listenerSetKey)||(addTrappedEventListener(targetElement,domEventName,2,!1),JSCompiler_inline_result.add(listenerSetKey))}function listenToNativeEvent(domEventName,isCapturePhaseListener,target){var eventSystemFlags=0;isCapturePhaseListener&&(eventSystemFlags|=4),addTrappedEventListener(target,domEventName,eventSystemFlags,isCapturePhaseListener)}var listeningMarker=`_reactListening`+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(rootContainerElement){if(!rootContainerElement[listeningMarker]){rootContainerElement[listeningMarker]=!0,allNativeEvents.forEach(function(domEventName){domEventName!==`selectionchange`&&(nonDelegatedEvents.has(domEventName)||listenToNativeEvent(domEventName,!1,rootContainerElement),listenToNativeEvent(domEventName,!0,rootContainerElement))});var ownerDocument=rootContainerElement.nodeType===9?rootContainerElement:rootContainerElement.ownerDocument;ownerDocument===null||ownerDocument[listeningMarker]||(ownerDocument[listeningMarker]=!0,listenToNativeEvent(`selectionchange`,!1,ownerDocument))}}function addTrappedEventListener(targetContainer,domEventName,eventSystemFlags,isCapturePhaseListener){switch(getEventPriority(domEventName)){case 2:var listenerWrapper=dispatchDiscreteEvent;break;case 8:listenerWrapper=dispatchContinuousEvent;break;default:listenerWrapper=dispatchEvent}eventSystemFlags=listenerWrapper.bind(null,domEventName,eventSystemFlags,targetContainer),listenerWrapper=void 0,!passiveBrowserEventsSupported||domEventName!==`touchstart`&&domEventName!==`touchmove`&&domEventName!==`wheel`||(listenerWrapper=!0),isCapturePhaseListener?listenerWrapper===void 0?targetContainer.addEventListener(domEventName,eventSystemFlags,!0):targetContainer.addEventListener(domEventName,eventSystemFlags,{capture:!0,passive:listenerWrapper}):listenerWrapper===void 0?targetContainer.addEventListener(domEventName,eventSystemFlags,!1):targetContainer.addEventListener(domEventName,eventSystemFlags,{passive:listenerWrapper})}function dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,targetInst$jscomp$0,targetContainer){var ancestorInst=targetInst$jscomp$0;if(!(eventSystemFlags&1)&&!(eventSystemFlags&2)&&targetInst$jscomp$0!==null)a:for(;;){if(targetInst$jscomp$0===null)return;var nodeTag=targetInst$jscomp$0.tag;if(nodeTag===3||nodeTag===4){var container=targetInst$jscomp$0.stateNode.containerInfo;if(container===targetContainer)break;if(nodeTag===4)for(nodeTag=targetInst$jscomp$0.return;nodeTag!==null;){var grandTag=nodeTag.tag;if((grandTag===3||grandTag===4)&&nodeTag.stateNode.containerInfo===targetContainer)return;nodeTag=nodeTag.return}for(;container!==null;){if(nodeTag=getClosestInstanceFromNode(container),nodeTag===null)return;if(grandTag=nodeTag.tag,grandTag===5||grandTag===6||grandTag===26||grandTag===27){targetInst$jscomp$0=ancestorInst=nodeTag;continue a}container=container.parentNode}}targetInst$jscomp$0=targetInst$jscomp$0.return}batchedUpdates$1(function(){var targetInst=ancestorInst,nativeEventTarget=getEventTarget(nativeEvent),dispatchQueue=[];a:{var reactName=topLevelEventsToReactNames.get(domEventName);if(reactName!==void 0){var SyntheticEventCtor=SyntheticEvent,reactEventType=domEventName;switch(domEventName){case`keypress`:if(getEventCharCode(nativeEvent)===0)break a;case`keydown`:case`keyup`:SyntheticEventCtor=SyntheticKeyboardEvent;break;case`focusin`:reactEventType=`focus`,SyntheticEventCtor=SyntheticFocusEvent;break;case`focusout`:reactEventType=`blur`,SyntheticEventCtor=SyntheticFocusEvent;break;case`beforeblur`:case`afterblur`:SyntheticEventCtor=SyntheticFocusEvent;break;case`click`:if(nativeEvent.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:SyntheticEventCtor=SyntheticMouseEvent;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:SyntheticEventCtor=SyntheticDragEvent;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:SyntheticEventCtor=SyntheticTouchEvent;break;case ANIMATION_END:case ANIMATION_ITERATION:case ANIMATION_START:SyntheticEventCtor=SyntheticAnimationEvent;break;case TRANSITION_END:SyntheticEventCtor=SyntheticTransitionEvent;break;case`scroll`:case`scrollend`:SyntheticEventCtor=SyntheticUIEvent;break;case`wheel`:SyntheticEventCtor=SyntheticWheelEvent;break;case`copy`:case`cut`:case`paste`:SyntheticEventCtor=SyntheticClipboardEvent;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:SyntheticEventCtor=SyntheticPointerEvent;break;case`toggle`:case`beforetoggle`:SyntheticEventCtor=SyntheticToggleEvent}var inCapturePhase=(eventSystemFlags&4)!=0,accumulateTargetOnly=!inCapturePhase&&(domEventName===`scroll`||domEventName===`scrollend`),reactEventName=inCapturePhase?reactName===null?null:reactName+`Capture`:reactName;inCapturePhase=[];for(var instance=targetInst,lastHostComponent;instance!==null;){var _instance=instance;if(lastHostComponent=_instance.stateNode,_instance=_instance.tag,_instance!==5&&_instance!==26&&_instance!==27||lastHostComponent===null||reactEventName===null||(_instance=getListener(instance,reactEventName),_instance!=null&&inCapturePhase.push(createDispatchListener(instance,_instance,lastHostComponent))),accumulateTargetOnly)break;instance=instance.return}0<inCapturePhase.length&&(reactName=new SyntheticEventCtor(reactName,reactEventType,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:reactName,listeners:inCapturePhase}))}}if(!(eventSystemFlags&7)){a:{if(reactName=domEventName===`mouseover`||domEventName===`pointerover`,SyntheticEventCtor=domEventName===`mouseout`||domEventName===`pointerout`,reactName&&nativeEvent!==currentReplayingEvent&&(reactEventType=nativeEvent.relatedTarget||nativeEvent.fromElement)&&(getClosestInstanceFromNode(reactEventType)||reactEventType[internalContainerInstanceKey]))break a;if((SyntheticEventCtor||reactName)&&(reactName=nativeEventTarget.window===nativeEventTarget?nativeEventTarget:(reactName=nativeEventTarget.ownerDocument)?reactName.defaultView||reactName.parentWindow:window,SyntheticEventCtor?(reactEventType=nativeEvent.relatedTarget||nativeEvent.toElement,SyntheticEventCtor=targetInst,reactEventType=reactEventType?getClosestInstanceFromNode(reactEventType):null,reactEventType!==null&&(accumulateTargetOnly=getNearestMountedFiber(reactEventType),inCapturePhase=reactEventType.tag,reactEventType!==accumulateTargetOnly||inCapturePhase!==5&&inCapturePhase!==27&&inCapturePhase!==6)&&(reactEventType=null)):(SyntheticEventCtor=null,reactEventType=targetInst),SyntheticEventCtor!==reactEventType)){if(inCapturePhase=SyntheticMouseEvent,_instance=`onMouseLeave`,reactEventName=`onMouseEnter`,instance=`mouse`,(domEventName===`pointerout`||domEventName===`pointerover`)&&(inCapturePhase=SyntheticPointerEvent,_instance=`onPointerLeave`,reactEventName=`onPointerEnter`,instance=`pointer`),accumulateTargetOnly=SyntheticEventCtor==null?reactName:getNodeFromInstance(SyntheticEventCtor),lastHostComponent=reactEventType==null?reactName:getNodeFromInstance(reactEventType),reactName=new inCapturePhase(_instance,instance+`leave`,SyntheticEventCtor,nativeEvent,nativeEventTarget),reactName.target=accumulateTargetOnly,reactName.relatedTarget=lastHostComponent,_instance=null,getClosestInstanceFromNode(nativeEventTarget)===targetInst&&(inCapturePhase=new inCapturePhase(reactEventName,instance+`enter`,reactEventType,nativeEvent,nativeEventTarget),inCapturePhase.target=lastHostComponent,inCapturePhase.relatedTarget=accumulateTargetOnly,_instance=inCapturePhase),accumulateTargetOnly=_instance,SyntheticEventCtor&&reactEventType)b:{for(inCapturePhase=getParent,reactEventName=SyntheticEventCtor,instance=reactEventType,lastHostComponent=0,_instance=reactEventName;_instance;_instance=inCapturePhase(_instance))lastHostComponent++;_instance=0;for(var tempB=instance;tempB;tempB=inCapturePhase(tempB))_instance++;for(;0<lastHostComponent-_instance;)reactEventName=inCapturePhase(reactEventName),lastHostComponent--;for(;0<_instance-lastHostComponent;)instance=inCapturePhase(instance),_instance--;for(;lastHostComponent--;){if(reactEventName===instance||instance!==null&&reactEventName===instance.alternate){inCapturePhase=reactEventName;break b}reactEventName=inCapturePhase(reactEventName),instance=inCapturePhase(instance)}inCapturePhase=null}else inCapturePhase=null;SyntheticEventCtor!==null&&accumulateEnterLeaveListenersForEvent(dispatchQueue,reactName,SyntheticEventCtor,inCapturePhase,!1),reactEventType!==null&&accumulateTargetOnly!==null&&accumulateEnterLeaveListenersForEvent(dispatchQueue,accumulateTargetOnly,reactEventType,inCapturePhase,!0)}}a:{if(reactName=targetInst?getNodeFromInstance(targetInst):window,SyntheticEventCtor=reactName.nodeName&&reactName.nodeName.toLowerCase(),SyntheticEventCtor===`select`||SyntheticEventCtor===`input`&&reactName.type===`file`)var getTargetInstFunc=getTargetInstForChangeEvent;else if(isTextInputElement(reactName))if(isInputEventSupported)getTargetInstFunc=getTargetInstForInputOrChangeEvent;else{getTargetInstFunc=getTargetInstForInputEventPolyfill;var handleEventFunc=handleEventsForInputEventPolyfill}else SyntheticEventCtor=reactName.nodeName,!SyntheticEventCtor||SyntheticEventCtor.toLowerCase()!==`input`||reactName.type!==`checkbox`&&reactName.type!==`radio`?targetInst&&isCustomElement(targetInst.elementType)&&(getTargetInstFunc=getTargetInstForChangeEvent):getTargetInstFunc=getTargetInstForClickEvent;if(getTargetInstFunc&&=getTargetInstFunc(domEventName,targetInst)){createAndAccumulateChangeEvent(dispatchQueue,getTargetInstFunc,nativeEvent,nativeEventTarget);break a}handleEventFunc&&handleEventFunc(domEventName,reactName,targetInst),domEventName===`focusout`&&targetInst&&reactName.type===`number`&&targetInst.memoizedProps.value!=null&&setDefaultValue(reactName,`number`,reactName.value)}switch(handleEventFunc=targetInst?getNodeFromInstance(targetInst):window,domEventName){case`focusin`:(isTextInputElement(handleEventFunc)||handleEventFunc.contentEditable===`true`)&&(activeElement=handleEventFunc,activeElementInst=targetInst,lastSelection=null);break;case`focusout`:lastSelection=activeElementInst=activeElement=null;break;case`mousedown`:mouseDown=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:mouseDown=!1,constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget);break;case`selectionchange`:if(skipSelectionChangeEvent)break;case`keydown`:case`keyup`:constructSelectEvent(dispatchQueue,nativeEvent,nativeEventTarget)}var fallbackData;if(canUseCompositionEvent)b:{switch(domEventName){case`compositionstart`:var eventType=`onCompositionStart`;break b;case`compositionend`:eventType=`onCompositionEnd`;break b;case`compositionupdate`:eventType=`onCompositionUpdate`;break b}eventType=void 0}else isComposing?isFallbackCompositionEnd(domEventName,nativeEvent)&&(eventType=`onCompositionEnd`):domEventName===`keydown`&&nativeEvent.keyCode===229&&(eventType=`onCompositionStart`);eventType&&(useFallbackCompositionData&&nativeEvent.locale!==`ko`&&(isComposing||eventType!==`onCompositionStart`?eventType===`onCompositionEnd`&&isComposing&&(fallbackData=getData()):(root=nativeEventTarget,startText=`value`in root?root.value:root.textContent,isComposing=!0)),handleEventFunc=accumulateTwoPhaseListeners(targetInst,eventType),0<handleEventFunc.length&&(eventType=new SyntheticCompositionEvent(eventType,domEventName,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:eventType,listeners:handleEventFunc}),fallbackData?eventType.data=fallbackData:(fallbackData=getDataFromCustomEvent(nativeEvent),fallbackData!==null&&(eventType.data=fallbackData)))),(fallbackData=canUseTextInputEvent?getNativeBeforeInputChars(domEventName,nativeEvent):getFallbackBeforeInputChars(domEventName,nativeEvent))&&(eventType=accumulateTwoPhaseListeners(targetInst,`onBeforeInput`),0<eventType.length&&(handleEventFunc=new SyntheticCompositionEvent(`onBeforeInput`,`beforeinput`,null,nativeEvent,nativeEventTarget),dispatchQueue.push({event:handleEventFunc,listeners:eventType}),handleEventFunc.data=fallbackData)),extractEvents$1(dispatchQueue,domEventName,targetInst,nativeEvent,nativeEventTarget)}processDispatchQueue(dispatchQueue,eventSystemFlags)})}function createDispatchListener(instance,listener,currentTarget){return{instance,listener,currentTarget}}function accumulateTwoPhaseListeners(targetFiber,reactName){for(var captureName=reactName+`Capture`,listeners=[];targetFiber!==null;){var _instance2=targetFiber,stateNode=_instance2.stateNode;if(_instance2=_instance2.tag,_instance2!==5&&_instance2!==26&&_instance2!==27||stateNode===null||(_instance2=getListener(targetFiber,captureName),_instance2!=null&&listeners.unshift(createDispatchListener(targetFiber,_instance2,stateNode)),_instance2=getListener(targetFiber,reactName),_instance2!=null&&listeners.push(createDispatchListener(targetFiber,_instance2,stateNode))),targetFiber.tag===3)return listeners;targetFiber=targetFiber.return}return[]}function getParent(inst){if(inst===null)return null;do inst=inst.return;while(inst&&inst.tag!==5&&inst.tag!==27);return inst||null}function accumulateEnterLeaveListenersForEvent(dispatchQueue,event,target,common$1,inCapturePhase){for(var registrationName=event._reactName,listeners=[];target!==null&&target!==common$1;){var _instance3=target,alternate=_instance3.alternate,stateNode=_instance3.stateNode;if(_instance3=_instance3.tag,alternate!==null&&alternate===common$1)break;_instance3!==5&&_instance3!==26&&_instance3!==27||stateNode===null||(alternate=stateNode,inCapturePhase?(stateNode=getListener(target,registrationName),stateNode!=null&&listeners.unshift(createDispatchListener(target,stateNode,alternate))):inCapturePhase||(stateNode=getListener(target,registrationName),stateNode!=null&&listeners.push(createDispatchListener(target,stateNode,alternate)))),target=target.return}listeners.length!==0&&dispatchQueue.push({event,listeners})}var NORMALIZE_NEWLINES_REGEX=/\r\n?/g,NORMALIZE_NULL_AND_REPLACEMENT_REGEX=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(markup){return(typeof markup==`string`?markup:``+markup).replace(NORMALIZE_NEWLINES_REGEX,`
`).replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX,``)}function checkForUnmatchedText(serverText,clientText){return clientText=normalizeMarkupForTextOrAttribute(clientText),normalizeMarkupForTextOrAttribute(serverText)===clientText}function setProp(domElement,tag,key,value,props,prevValue){switch(key){case`children`:typeof value==`string`?tag===`body`||tag===`textarea`&&value===``||setTextContent(domElement,value):(typeof value==`number`||typeof value==`bigint`)&&tag!==`body`&&setTextContent(domElement,``+value);break;case`className`:setValueForKnownAttribute(domElement,`class`,value);break;case`tabIndex`:setValueForKnownAttribute(domElement,`tabindex`,value);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:setValueForKnownAttribute(domElement,key,value);break;case`style`:setValueForStyles(domElement,value,prevValue);break;case`data`:if(tag!==`object`){setValueForKnownAttribute(domElement,`data`,value);break}case`src`:case`href`:if(value===``&&(tag!==`a`||key!==`href`)){domElement.removeAttribute(key);break}if(value==null||typeof value==`function`||typeof value==`symbol`||typeof value==`boolean`){domElement.removeAttribute(key);break}value=sanitizeURL(``+value),domElement.setAttribute(key,value);break;case`action`:case`formAction`:if(typeof value==`function`){domElement.setAttribute(key,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof prevValue==`function`&&(key===`formAction`?(tag!==`input`&&setProp(domElement,tag,`name`,props.name,props,null),setProp(domElement,tag,`formEncType`,props.formEncType,props,null),setProp(domElement,tag,`formMethod`,props.formMethod,props,null),setProp(domElement,tag,`formTarget`,props.formTarget,props,null)):(setProp(domElement,tag,`encType`,props.encType,props,null),setProp(domElement,tag,`method`,props.method,props,null),setProp(domElement,tag,`target`,props.target,props,null)));if(value==null||typeof value==`symbol`||typeof value==`boolean`){domElement.removeAttribute(key);break}value=sanitizeURL(``+value),domElement.setAttribute(key,value);break;case`onClick`:value!=null&&(domElement.onclick=noop$1);break;case`onScroll`:value!=null&&listenToNonDelegatedEvent(`scroll`,domElement);break;case`onScrollEnd`:value!=null&&listenToNonDelegatedEvent(`scrollend`,domElement);break;case`dangerouslySetInnerHTML`:if(value!=null){if(typeof value!=`object`||!(`__html`in value))throw Error(formatProdErrorMessage(61));if(key=value.__html,key!=null){if(props.children!=null)throw Error(formatProdErrorMessage(60));domElement.innerHTML=key}}break;case`multiple`:domElement.multiple=value&&typeof value!=`function`&&typeof value!=`symbol`;break;case`muted`:domElement.muted=value&&typeof value!=`function`&&typeof value!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(value==null||typeof value==`function`||typeof value==`boolean`||typeof value==`symbol`){domElement.removeAttribute(`xlink:href`);break}key=sanitizeURL(``+value),domElement.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,key);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:value!=null&&typeof value!=`function`&&typeof value!=`symbol`?domElement.setAttribute(key,``+value):domElement.removeAttribute(key);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:value&&typeof value!=`function`&&typeof value!=`symbol`?domElement.setAttribute(key,``):domElement.removeAttribute(key);break;case`capture`:case`download`:!0===value?domElement.setAttribute(key,``):!1!==value&&value!=null&&typeof value!=`function`&&typeof value!=`symbol`?domElement.setAttribute(key,value):domElement.removeAttribute(key);break;case`cols`:case`rows`:case`size`:case`span`:value!=null&&typeof value!=`function`&&typeof value!=`symbol`&&!isNaN(value)&&1<=value?domElement.setAttribute(key,value):domElement.removeAttribute(key);break;case`rowSpan`:case`start`:value==null||typeof value==`function`||typeof value==`symbol`||isNaN(value)?domElement.removeAttribute(key):domElement.setAttribute(key,value);break;case`popover`:listenToNonDelegatedEvent(`beforetoggle`,domElement),listenToNonDelegatedEvent(`toggle`,domElement),setValueForAttribute(domElement,`popover`,value);break;case`xlinkActuate`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:actuate`,value);break;case`xlinkArcrole`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,value);break;case`xlinkRole`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:role`,value);break;case`xlinkShow`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:show`,value);break;case`xlinkTitle`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:title`,value);break;case`xlinkType`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/1999/xlink`,`xlink:type`,value);break;case`xmlBase`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/XML/1998/namespace`,`xml:base`,value);break;case`xmlLang`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,value);break;case`xmlSpace`:setValueForNamespacedAttribute(domElement,`http://www.w3.org/XML/1998/namespace`,`xml:space`,value);break;case`is`:setValueForAttribute(domElement,`is`,value);break;case`innerText`:case`textContent`:break;default:(!(2<key.length)||key[0]!==`o`&&key[0]!==`O`||key[1]!==`n`&&key[1]!==`N`)&&(key=aliases.get(key)||key,setValueForAttribute(domElement,key,value))}}function setPropOnCustomElement(domElement,tag,key,value,props,prevValue){switch(key){case`style`:setValueForStyles(domElement,value,prevValue);break;case`dangerouslySetInnerHTML`:if(value!=null){if(typeof value!=`object`||!(`__html`in value))throw Error(formatProdErrorMessage(61));if(key=value.__html,key!=null){if(props.children!=null)throw Error(formatProdErrorMessage(60));domElement.innerHTML=key}}break;case`children`:typeof value==`string`?setTextContent(domElement,value):(typeof value==`number`||typeof value==`bigint`)&&setTextContent(domElement,``+value);break;case`onScroll`:value!=null&&listenToNonDelegatedEvent(`scroll`,domElement);break;case`onScrollEnd`:value!=null&&listenToNonDelegatedEvent(`scrollend`,domElement);break;case`onClick`:value!=null&&(domElement.onclick=noop$1);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!registrationNameDependencies.hasOwnProperty(key))a:{if(key[0]===`o`&&key[1]===`n`&&(props=key.endsWith(`Capture`),tag=key.slice(2,props?key.length-7:void 0),prevValue=domElement[internalPropsKey]||null,prevValue=prevValue==null?null:prevValue[key],typeof prevValue==`function`&&domElement.removeEventListener(tag,prevValue,props),typeof value==`function`)){typeof prevValue!=`function`&&prevValue!==null&&(key in domElement?domElement[key]=null:domElement.hasAttribute(key)&&domElement.removeAttribute(key)),domElement.addEventListener(tag,value,props);break a}key in domElement?domElement[key]=value:!0===value?domElement.setAttribute(key,``):setValueForAttribute(domElement,key,value)}}}function setInitialProperties(domElement,tag,props){switch(tag){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:listenToNonDelegatedEvent(`error`,domElement),listenToNonDelegatedEvent(`load`,domElement);var hasSrc=!1,hasSrcSet=!1,propKey;for(propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(propValue!=null)switch(propKey){case`src`:hasSrc=!0;break;case`srcSet`:hasSrcSet=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(formatProdErrorMessage(137,tag));default:setProp(domElement,tag,propKey,propValue,props,null)}}hasSrcSet&&setProp(domElement,tag,`srcSet`,props.srcSet,props,null),hasSrc&&setProp(domElement,tag,`src`,props.src,props,null);return;case`input`:listenToNonDelegatedEvent(`invalid`,domElement);var defaultValue=propKey=propValue=hasSrcSet=null,checked=null,defaultChecked=null;for(hasSrc in props)if(props.hasOwnProperty(hasSrc)){var propValue$184=props[hasSrc];if(propValue$184!=null)switch(hasSrc){case`name`:hasSrcSet=propValue$184;break;case`type`:propValue=propValue$184;break;case`checked`:checked=propValue$184;break;case`defaultChecked`:defaultChecked=propValue$184;break;case`value`:propKey=propValue$184;break;case`defaultValue`:defaultValue=propValue$184;break;case`children`:case`dangerouslySetInnerHTML`:if(propValue$184!=null)throw Error(formatProdErrorMessage(137,tag));break;default:setProp(domElement,tag,hasSrc,propValue$184,props,null)}}initInput(domElement,propKey,defaultValue,checked,defaultChecked,propValue,hasSrcSet,!1);return;case`select`:for(hasSrcSet in listenToNonDelegatedEvent(`invalid`,domElement),hasSrc=propValue=propKey=null,props)if(props.hasOwnProperty(hasSrcSet)&&(defaultValue=props[hasSrcSet],defaultValue!=null))switch(hasSrcSet){case`value`:propKey=defaultValue;break;case`defaultValue`:propValue=defaultValue;break;case`multiple`:hasSrc=defaultValue;default:setProp(domElement,tag,hasSrcSet,defaultValue,props,null)}tag=propKey,props=propValue,domElement.multiple=!!hasSrc,tag==null?props!=null&&updateOptions(domElement,!!hasSrc,props,!0):updateOptions(domElement,!!hasSrc,tag,!1);return;case`textarea`:for(propValue in listenToNonDelegatedEvent(`invalid`,domElement),propKey=hasSrcSet=hasSrc=null,props)if(props.hasOwnProperty(propValue)&&(defaultValue=props[propValue],defaultValue!=null))switch(propValue){case`value`:hasSrc=defaultValue;break;case`defaultValue`:hasSrcSet=defaultValue;break;case`children`:propKey=defaultValue;break;case`dangerouslySetInnerHTML`:if(defaultValue!=null)throw Error(formatProdErrorMessage(91));break;default:setProp(domElement,tag,propValue,defaultValue,props,null)}initTextarea(domElement,hasSrc,hasSrcSet,propKey);return;case`option`:for(checked in props)if(props.hasOwnProperty(checked)&&(hasSrc=props[checked],hasSrc!=null))switch(checked){case`selected`:domElement.selected=hasSrc&&typeof hasSrc!=`function`&&typeof hasSrc!=`symbol`;break;default:setProp(domElement,tag,checked,hasSrc,props,null)}return;case`dialog`:listenToNonDelegatedEvent(`beforetoggle`,domElement),listenToNonDelegatedEvent(`toggle`,domElement),listenToNonDelegatedEvent(`cancel`,domElement),listenToNonDelegatedEvent(`close`,domElement);break;case`iframe`:case`object`:listenToNonDelegatedEvent(`load`,domElement);break;case`video`:case`audio`:for(hasSrc=0;hasSrc<mediaEventTypes.length;hasSrc++)listenToNonDelegatedEvent(mediaEventTypes[hasSrc],domElement);break;case`image`:listenToNonDelegatedEvent(`error`,domElement),listenToNonDelegatedEvent(`load`,domElement);break;case`details`:listenToNonDelegatedEvent(`toggle`,domElement);break;case`embed`:case`source`:case`link`:listenToNonDelegatedEvent(`error`,domElement),listenToNonDelegatedEvent(`load`,domElement);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(defaultChecked in props)if(props.hasOwnProperty(defaultChecked)&&(hasSrc=props[defaultChecked],hasSrc!=null))switch(defaultChecked){case`children`:case`dangerouslySetInnerHTML`:throw Error(formatProdErrorMessage(137,tag));default:setProp(domElement,tag,defaultChecked,hasSrc,props,null)}return;default:if(isCustomElement(tag)){for(propValue$184 in props)props.hasOwnProperty(propValue$184)&&(hasSrc=props[propValue$184],hasSrc!==void 0&&setPropOnCustomElement(domElement,tag,propValue$184,hasSrc,props,void 0));return}}for(defaultValue in props)props.hasOwnProperty(defaultValue)&&(hasSrc=props[defaultValue],hasSrc!=null&&setProp(domElement,tag,defaultValue,hasSrc,props,null))}function updateProperties(domElement,tag,lastProps,nextProps){switch(tag){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var name=null,type=null,value=null,defaultValue=null,lastDefaultValue=null,checked=null,defaultChecked=null;for(propKey in lastProps){var lastProp=lastProps[propKey];if(lastProps.hasOwnProperty(propKey)&&lastProp!=null)switch(propKey){case`checked`:break;case`value`:break;case`defaultValue`:lastDefaultValue=lastProp;default:nextProps.hasOwnProperty(propKey)||setProp(domElement,tag,propKey,null,nextProps,lastProp)}}for(var propKey$201 in nextProps){var propKey=nextProps[propKey$201];if(lastProp=lastProps[propKey$201],nextProps.hasOwnProperty(propKey$201)&&(propKey!=null||lastProp!=null))switch(propKey$201){case`type`:type=propKey;break;case`name`:name=propKey;break;case`checked`:checked=propKey;break;case`defaultChecked`:defaultChecked=propKey;break;case`value`:value=propKey;break;case`defaultValue`:defaultValue=propKey;break;case`children`:case`dangerouslySetInnerHTML`:if(propKey!=null)throw Error(formatProdErrorMessage(137,tag));break;default:propKey!==lastProp&&setProp(domElement,tag,propKey$201,propKey,nextProps,lastProp)}}updateInput(domElement,value,defaultValue,lastDefaultValue,checked,defaultChecked,type,name);return;case`select`:for(type in propKey=value=defaultValue=propKey$201=null,lastProps)if(lastDefaultValue=lastProps[type],lastProps.hasOwnProperty(type)&&lastDefaultValue!=null)switch(type){case`value`:break;case`multiple`:propKey=lastDefaultValue;default:nextProps.hasOwnProperty(type)||setProp(domElement,tag,type,null,nextProps,lastDefaultValue)}for(name in nextProps)if(type=nextProps[name],lastDefaultValue=lastProps[name],nextProps.hasOwnProperty(name)&&(type!=null||lastDefaultValue!=null))switch(name){case`value`:propKey$201=type;break;case`defaultValue`:defaultValue=type;break;case`multiple`:value=type;default:type!==lastDefaultValue&&setProp(domElement,tag,name,type,nextProps,lastDefaultValue)}tag=defaultValue,lastProps=value,nextProps=propKey,propKey$201==null?!!nextProps!=!!lastProps&&(tag==null?updateOptions(domElement,!!lastProps,lastProps?[]:``,!1):updateOptions(domElement,!!lastProps,tag,!0)):updateOptions(domElement,!!lastProps,propKey$201,!1);return;case`textarea`:for(defaultValue in propKey=propKey$201=null,lastProps)if(name=lastProps[defaultValue],lastProps.hasOwnProperty(defaultValue)&&name!=null&&!nextProps.hasOwnProperty(defaultValue))switch(defaultValue){case`value`:break;case`children`:break;default:setProp(domElement,tag,defaultValue,null,nextProps,name)}for(value in nextProps)if(name=nextProps[value],type=lastProps[value],nextProps.hasOwnProperty(value)&&(name!=null||type!=null))switch(value){case`value`:propKey$201=name;break;case`defaultValue`:propKey=name;break;case`children`:break;case`dangerouslySetInnerHTML`:if(name!=null)throw Error(formatProdErrorMessage(91));break;default:name!==type&&setProp(domElement,tag,value,name,nextProps,type)}updateTextarea(domElement,propKey$201,propKey);return;case`option`:for(var propKey$217 in lastProps)if(propKey$201=lastProps[propKey$217],lastProps.hasOwnProperty(propKey$217)&&propKey$201!=null&&!nextProps.hasOwnProperty(propKey$217))switch(propKey$217){case`selected`:domElement.selected=!1;break;default:setProp(domElement,tag,propKey$217,null,nextProps,propKey$201)}for(lastDefaultValue in nextProps)if(propKey$201=nextProps[lastDefaultValue],propKey=lastProps[lastDefaultValue],nextProps.hasOwnProperty(lastDefaultValue)&&propKey$201!==propKey&&(propKey$201!=null||propKey!=null))switch(lastDefaultValue){case`selected`:domElement.selected=propKey$201&&typeof propKey$201!=`function`&&typeof propKey$201!=`symbol`;break;default:setProp(domElement,tag,lastDefaultValue,propKey$201,nextProps,propKey)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var propKey$222 in lastProps)propKey$201=lastProps[propKey$222],lastProps.hasOwnProperty(propKey$222)&&propKey$201!=null&&!nextProps.hasOwnProperty(propKey$222)&&setProp(domElement,tag,propKey$222,null,nextProps,propKey$201);for(checked in nextProps)if(propKey$201=nextProps[checked],propKey=lastProps[checked],nextProps.hasOwnProperty(checked)&&propKey$201!==propKey&&(propKey$201!=null||propKey!=null))switch(checked){case`children`:case`dangerouslySetInnerHTML`:if(propKey$201!=null)throw Error(formatProdErrorMessage(137,tag));break;default:setProp(domElement,tag,checked,propKey$201,nextProps,propKey)}return;default:if(isCustomElement(tag)){for(var propKey$227 in lastProps)propKey$201=lastProps[propKey$227],lastProps.hasOwnProperty(propKey$227)&&propKey$201!==void 0&&!nextProps.hasOwnProperty(propKey$227)&&setPropOnCustomElement(domElement,tag,propKey$227,void 0,nextProps,propKey$201);for(defaultChecked in nextProps)propKey$201=nextProps[defaultChecked],propKey=lastProps[defaultChecked],!nextProps.hasOwnProperty(defaultChecked)||propKey$201===propKey||propKey$201===void 0&&propKey===void 0||setPropOnCustomElement(domElement,tag,defaultChecked,propKey$201,nextProps,propKey);return}}for(var propKey$232 in lastProps)propKey$201=lastProps[propKey$232],lastProps.hasOwnProperty(propKey$232)&&propKey$201!=null&&!nextProps.hasOwnProperty(propKey$232)&&setProp(domElement,tag,propKey$232,null,nextProps,propKey$201);for(lastProp in nextProps)propKey$201=nextProps[lastProp],propKey=lastProps[lastProp],!nextProps.hasOwnProperty(lastProp)||propKey$201===propKey||propKey$201==null&&propKey==null||setProp(domElement,tag,lastProp,propKey$201,nextProps,propKey)}function isLikelyStaticResource(initiatorType){switch(initiatorType){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function estimateBandwidth(){if(typeof performance.getEntriesByType==`function`){for(var count=0,bits=0,resourceEntries=performance.getEntriesByType(`resource`),i$3=0;i$3<resourceEntries.length;i$3++){var entry=resourceEntries[i$3],transferSize=entry.transferSize,initiatorType=entry.initiatorType,duration=entry.duration;if(transferSize&&duration&&isLikelyStaticResource(initiatorType)){for(initiatorType=0,duration=entry.responseEnd,i$3+=1;i$3<resourceEntries.length;i$3++){var overlapEntry=resourceEntries[i$3],overlapStartTime=overlapEntry.startTime;if(overlapStartTime>duration)break;var overlapTransferSize=overlapEntry.transferSize,overlapInitiatorType=overlapEntry.initiatorType;overlapTransferSize&&isLikelyStaticResource(overlapInitiatorType)&&(overlapEntry=overlapEntry.responseEnd,initiatorType+=overlapTransferSize*(overlapEntry<duration?1:(duration-overlapStartTime)/(overlapEntry-overlapStartTime)))}if(--i$3,bits+=8*(transferSize+initiatorType)/(entry.duration/1e3),count++,10<count)break}}if(0<count)return bits/count/1e6}return navigator.connection&&(count=navigator.connection.downlink,typeof count==`number`)?count:5}var eventsEnabled=null,selectionInformation=null;function getOwnerDocumentFromRootContainer(rootContainerElement){return rootContainerElement.nodeType===9?rootContainerElement:rootContainerElement.ownerDocument}function getOwnHostContext(namespaceURI){switch(namespaceURI){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function getChildHostContextProd(parentNamespace,type){if(parentNamespace===0)switch(type){case`svg`:return 1;case`math`:return 2;default:return 0}return parentNamespace===1&&type===`foreignObject`?0:parentNamespace}function shouldSetTextContent(type,props){return type===`textarea`||type===`noscript`||typeof props.children==`string`||typeof props.children==`number`||typeof props.children==`bigint`||typeof props.dangerouslySetInnerHTML==`object`&&props.dangerouslySetInnerHTML!==null&&props.dangerouslySetInnerHTML.__html!=null}var currentPopstateTransitionEvent=null;function shouldAttemptEagerTransition(){var event=window.event;return event&&event.type===`popstate`?event===currentPopstateTransitionEvent?!1:(currentPopstateTransitionEvent=event,!0):(currentPopstateTransitionEvent=null,!1)}var scheduleTimeout=typeof setTimeout==`function`?setTimeout:void 0,cancelTimeout=typeof clearTimeout==`function`?clearTimeout:void 0,localPromise=typeof Promise==`function`?Promise:void 0,scheduleMicrotask=typeof queueMicrotask==`function`?queueMicrotask:localPromise===void 0?scheduleTimeout:function(callback){return localPromise.resolve(null).then(callback).catch(handleErrorInNextTick)};function handleErrorInNextTick(error){setTimeout(function(){throw error})}function isSingletonScope(type){return type===`head`}function clearHydrationBoundary(parentInstance,hydrationInstance){var node=hydrationInstance,depth=0;do{var nextNode=node.nextSibling;if(parentInstance.removeChild(node),nextNode&&nextNode.nodeType===8)if(node=nextNode.data,node===`/$`||node===`/&`){if(depth===0){parentInstance.removeChild(nextNode),retryIfBlockedOn(hydrationInstance);return}depth--}else if(node===`$`||node===`$?`||node===`$~`||node===`$!`||node===`&`)depth++;else if(node===`html`)releaseSingletonInstance(parentInstance.ownerDocument.documentElement);else if(node===`head`){node=parentInstance.ownerDocument.head,releaseSingletonInstance(node);for(var node$jscomp$0=node.firstChild;node$jscomp$0;){var nextNode$jscomp$0=node$jscomp$0.nextSibling,nodeName=node$jscomp$0.nodeName;node$jscomp$0[internalHoistableMarker]||nodeName===`SCRIPT`||nodeName===`STYLE`||nodeName===`LINK`&&node$jscomp$0.rel.toLowerCase()===`stylesheet`||node.removeChild(node$jscomp$0),node$jscomp$0=nextNode$jscomp$0}}else node===`body`&&releaseSingletonInstance(parentInstance.ownerDocument.body);node=nextNode}while(node);retryIfBlockedOn(hydrationInstance)}function hideOrUnhideDehydratedBoundary(suspenseInstance,isHidden){var node=suspenseInstance;suspenseInstance=0;do{var nextNode=node.nextSibling;if(node.nodeType===1?isHidden?(node._stashedDisplay=node.style.display,node.style.display=`none`):(node.style.display=node._stashedDisplay||``,node.getAttribute(`style`)===``&&node.removeAttribute(`style`)):node.nodeType===3&&(isHidden?(node._stashedText=node.nodeValue,node.nodeValue=``):node.nodeValue=node._stashedText||``),nextNode&&nextNode.nodeType===8)if(node=nextNode.data,node===`/$`){if(suspenseInstance===0)break;suspenseInstance--}else node!==`$`&&node!==`$?`&&node!==`$~`&&node!==`$!`||suspenseInstance++;node=nextNode}while(node)}function clearContainerSparingly(container){var nextNode=container.firstChild;for(nextNode&&nextNode.nodeType===10&&(nextNode=nextNode.nextSibling);nextNode;){var node=nextNode;switch(nextNode=nextNode.nextSibling,node.nodeName){case`HTML`:case`HEAD`:case`BODY`:clearContainerSparingly(node),detachDeletedInstance(node);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(node.rel.toLowerCase()===`stylesheet`)continue}container.removeChild(node)}}function canHydrateInstance(instance,type,props,inRootOrSingleton){for(;instance.nodeType===1;){var anyProps=props;if(instance.nodeName.toLowerCase()!==type.toLowerCase()){if(!inRootOrSingleton&&(instance.nodeName!==`INPUT`||instance.type!==`hidden`))break}else if(inRootOrSingleton){if(!instance[internalHoistableMarker])switch(type){case`meta`:if(!instance.hasAttribute(`itemprop`))break;return instance;case`link`:if(name=instance.getAttribute(`rel`),name===`stylesheet`&&instance.hasAttribute(`data-precedence`)||name!==anyProps.rel||instance.getAttribute(`href`)!==(anyProps.href==null||anyProps.href===``?null:anyProps.href)||instance.getAttribute(`crossorigin`)!==(anyProps.crossOrigin==null?null:anyProps.crossOrigin)||instance.getAttribute(`title`)!==(anyProps.title==null?null:anyProps.title))break;return instance;case`style`:if(instance.hasAttribute(`data-precedence`))break;return instance;case`script`:if(name=instance.getAttribute(`src`),(name!==(anyProps.src==null?null:anyProps.src)||instance.getAttribute(`type`)!==(anyProps.type==null?null:anyProps.type)||instance.getAttribute(`crossorigin`)!==(anyProps.crossOrigin==null?null:anyProps.crossOrigin))&&name&&instance.hasAttribute(`async`)&&!instance.hasAttribute(`itemprop`))break;return instance;default:return instance}}else if(type===`input`&&instance.type===`hidden`){var name=anyProps.name==null?null:``+anyProps.name;if(anyProps.type===`hidden`&&instance.getAttribute(`name`)===name)return instance}else return instance;if(instance=getNextHydratable(instance.nextSibling),instance===null)break}return null}function canHydrateTextInstance(instance,text,inRootOrSingleton){if(text===``)return null;for(;instance.nodeType!==3;)if((instance.nodeType!==1||instance.nodeName!==`INPUT`||instance.type!==`hidden`)&&!inRootOrSingleton||(instance=getNextHydratable(instance.nextSibling),instance===null))return null;return instance}function canHydrateHydrationBoundary(instance,inRootOrSingleton){for(;instance.nodeType!==8;)if((instance.nodeType!==1||instance.nodeName!==`INPUT`||instance.type!==`hidden`)&&!inRootOrSingleton||(instance=getNextHydratable(instance.nextSibling),instance===null))return null;return instance}function isSuspenseInstancePending(instance){return instance.data===`$?`||instance.data===`$~`}function isSuspenseInstanceFallback(instance){return instance.data===`$!`||instance.data===`$?`&&instance.ownerDocument.readyState!==`loading`}function registerSuspenseInstanceRetry(instance,callback){var ownerDocument=instance.ownerDocument;if(instance.data===`$~`)instance._reactRetry=callback;else if(instance.data!==`$?`||ownerDocument.readyState!==`loading`)callback();else{var listener=function(){callback(),ownerDocument.removeEventListener(`DOMContentLoaded`,listener)};ownerDocument.addEventListener(`DOMContentLoaded`,listener),instance._reactRetry=listener}}function getNextHydratable(node){for(;node!=null;node=node.nextSibling){var nodeType=node.nodeType;if(nodeType===1||nodeType===3)break;if(nodeType===8){if(nodeType=node.data,nodeType===`$`||nodeType===`$!`||nodeType===`$?`||nodeType===`$~`||nodeType===`&`||nodeType===`F!`||nodeType===`F`)break;if(nodeType===`/$`||nodeType===`/&`)return null}}return node}var previousHydratableOnEnteringScopedSingleton=null;function getNextHydratableInstanceAfterHydrationBoundary(hydrationInstance){hydrationInstance=hydrationInstance.nextSibling;for(var depth=0;hydrationInstance;){if(hydrationInstance.nodeType===8){var data=hydrationInstance.data;if(data===`/$`||data===`/&`){if(depth===0)return getNextHydratable(hydrationInstance.nextSibling);depth--}else data!==`$`&&data!==`$!`&&data!==`$?`&&data!==`$~`&&data!==`&`||depth++}hydrationInstance=hydrationInstance.nextSibling}return null}function getParentHydrationBoundary(targetInstance){targetInstance=targetInstance.previousSibling;for(var depth=0;targetInstance;){if(targetInstance.nodeType===8){var data=targetInstance.data;if(data===`$`||data===`$!`||data===`$?`||data===`$~`||data===`&`){if(depth===0)return targetInstance;depth--}else data!==`/$`&&data!==`/&`||depth++}targetInstance=targetInstance.previousSibling}return null}function resolveSingletonInstance(type,props,rootContainerInstance){switch(props=getOwnerDocumentFromRootContainer(rootContainerInstance),type){case`html`:if(type=props.documentElement,!type)throw Error(formatProdErrorMessage(452));return type;case`head`:if(type=props.head,!type)throw Error(formatProdErrorMessage(453));return type;case`body`:if(type=props.body,!type)throw Error(formatProdErrorMessage(454));return type;default:throw Error(formatProdErrorMessage(451))}}function releaseSingletonInstance(instance){for(var attributes=instance.attributes;attributes.length;)instance.removeAttributeNode(attributes[0]);detachDeletedInstance(instance)}var preloadPropsMap=new Map,preconnectsSet=new Set;function getHoistableRoot(container){return typeof container.getRootNode==`function`?container.getRootNode():container.nodeType===9?container:container.ownerDocument}var previousDispatcher=ReactDOMSharedInternals.d;ReactDOMSharedInternals.d={f:flushSyncWork,r:requestFormReset,D:prefetchDNS,C:preconnect,L:preload,m:preloadModule,X:preinitScript,S:preinitStyle,M:preinitModuleScript};function flushSyncWork(){var previousWasRendering=previousDispatcher.f(),wasRendering=flushSyncWork$1();return previousWasRendering||wasRendering}function requestFormReset(form){var formInst=getInstanceFromNode(form);formInst!==null&&formInst.tag===5&&formInst.type===`form`?requestFormReset$1(formInst):previousDispatcher.r(form)}var globalDocument=typeof document>`u`?null:document;function preconnectAs(rel,href,crossOrigin){var ownerDocument=globalDocument;if(ownerDocument&&typeof href==`string`&&href){var limitedEscapedHref=escapeSelectorAttributeValueInsideDoubleQuotes(href);limitedEscapedHref=`link[rel="`+rel+`"][href="`+limitedEscapedHref+`"]`,typeof crossOrigin==`string`&&(limitedEscapedHref+=`[crossorigin="`+crossOrigin+`"]`),preconnectsSet.has(limitedEscapedHref)||(preconnectsSet.add(limitedEscapedHref),rel={rel,crossOrigin,href},ownerDocument.querySelector(limitedEscapedHref)===null&&(href=ownerDocument.createElement(`link`),setInitialProperties(href,`link`,rel),markNodeAsHoistable(href),ownerDocument.head.appendChild(href)))}}function prefetchDNS(href){previousDispatcher.D(href),preconnectAs(`dns-prefetch`,href,null)}function preconnect(href,crossOrigin){previousDispatcher.C(href,crossOrigin),preconnectAs(`preconnect`,href,crossOrigin)}function preload(href,as,options$1){previousDispatcher.L(href,as,options$1);var ownerDocument=globalDocument;if(ownerDocument&&href&&as){var preloadSelector=`link[rel="preload"][as="`+escapeSelectorAttributeValueInsideDoubleQuotes(as)+`"]`;as===`image`&&options$1&&options$1.imageSrcSet?(preloadSelector+=`[imagesrcset="`+escapeSelectorAttributeValueInsideDoubleQuotes(options$1.imageSrcSet)+`"]`,typeof options$1.imageSizes==`string`&&(preloadSelector+=`[imagesizes="`+escapeSelectorAttributeValueInsideDoubleQuotes(options$1.imageSizes)+`"]`)):preloadSelector+=`[href="`+escapeSelectorAttributeValueInsideDoubleQuotes(href)+`"]`;var key=preloadSelector;switch(as){case`style`:key=getStyleKey(href);break;case`script`:key=getScriptKey(href)}preloadPropsMap.has(key)||(href=assign$1({rel:`preload`,href:as===`image`&&options$1&&options$1.imageSrcSet?void 0:href,as},options$1),preloadPropsMap.set(key,href),ownerDocument.querySelector(preloadSelector)!==null||as===`style`&&ownerDocument.querySelector(getStylesheetSelectorFromKey(key))||as===`script`&&ownerDocument.querySelector(getScriptSelectorFromKey(key))||(as=ownerDocument.createElement(`link`),setInitialProperties(as,`link`,href),markNodeAsHoistable(as),ownerDocument.head.appendChild(as)))}}function preloadModule(href,options$1){previousDispatcher.m(href,options$1);var ownerDocument=globalDocument;if(ownerDocument&&href){var as=options$1&&typeof options$1.as==`string`?options$1.as:`script`,preloadSelector=`link[rel="modulepreload"][as="`+escapeSelectorAttributeValueInsideDoubleQuotes(as)+`"][href="`+escapeSelectorAttributeValueInsideDoubleQuotes(href)+`"]`,key=preloadSelector;switch(as){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:key=getScriptKey(href)}if(!preloadPropsMap.has(key)&&(href=assign$1({rel:`modulepreload`,href},options$1),preloadPropsMap.set(key,href),ownerDocument.querySelector(preloadSelector)===null)){switch(as){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(ownerDocument.querySelector(getScriptSelectorFromKey(key)))return}as=ownerDocument.createElement(`link`),setInitialProperties(as,`link`,href),markNodeAsHoistable(as),ownerDocument.head.appendChild(as)}}}function preinitStyle(href,precedence,options$1){previousDispatcher.S(href,precedence,options$1);var ownerDocument=globalDocument;if(ownerDocument&&href){var styles=getResourcesFromRoot(ownerDocument).hoistableStyles,key=getStyleKey(href);precedence||=`default`;var resource=styles.get(key);if(!resource){var state={loading:0,preload:null};if(resource=ownerDocument.querySelector(getStylesheetSelectorFromKey(key)))state.loading=5;else{href=assign$1({rel:`stylesheet`,href,"data-precedence":precedence},options$1),(options$1=preloadPropsMap.get(key))&&adoptPreloadPropsForStylesheet(href,options$1);var link=resource=ownerDocument.createElement(`link`);markNodeAsHoistable(link),setInitialProperties(link,`link`,href),link._p=new Promise(function(resolve,reject){link.onload=resolve,link.onerror=reject}),link.addEventListener(`load`,function(){state.loading|=1}),link.addEventListener(`error`,function(){state.loading|=2}),state.loading|=4,insertStylesheet(resource,precedence,ownerDocument)}resource={type:`stylesheet`,instance:resource,count:1,state},styles.set(key,resource)}}}function preinitScript(src,options$1){previousDispatcher.X(src,options$1);var ownerDocument=globalDocument;if(ownerDocument&&src){var scripts=getResourcesFromRoot(ownerDocument).hoistableScripts,key=getScriptKey(src),resource=scripts.get(key);resource||(resource=ownerDocument.querySelector(getScriptSelectorFromKey(key)),resource||(src=assign$1({src,async:!0},options$1),(options$1=preloadPropsMap.get(key))&&adoptPreloadPropsForScript(src,options$1),resource=ownerDocument.createElement(`script`),markNodeAsHoistable(resource),setInitialProperties(resource,`link`,src),ownerDocument.head.appendChild(resource)),resource={type:`script`,instance:resource,count:1,state:null},scripts.set(key,resource))}}function preinitModuleScript(src,options$1){previousDispatcher.M(src,options$1);var ownerDocument=globalDocument;if(ownerDocument&&src){var scripts=getResourcesFromRoot(ownerDocument).hoistableScripts,key=getScriptKey(src),resource=scripts.get(key);resource||(resource=ownerDocument.querySelector(getScriptSelectorFromKey(key)),resource||(src=assign$1({src,async:!0,type:`module`},options$1),(options$1=preloadPropsMap.get(key))&&adoptPreloadPropsForScript(src,options$1),resource=ownerDocument.createElement(`script`),markNodeAsHoistable(resource),setInitialProperties(resource,`link`,src),ownerDocument.head.appendChild(resource)),resource={type:`script`,instance:resource,count:1,state:null},scripts.set(key,resource))}}function getResource(type,currentProps,pendingProps,currentResource){var JSCompiler_inline_result=(JSCompiler_inline_result=rootInstanceStackCursor.current)?getHoistableRoot(JSCompiler_inline_result):null;if(!JSCompiler_inline_result)throw Error(formatProdErrorMessage(446));switch(type){case`meta`:case`title`:return null;case`style`:return typeof pendingProps.precedence==`string`&&typeof pendingProps.href==`string`?(currentProps=getStyleKey(pendingProps.href),pendingProps=getResourcesFromRoot(JSCompiler_inline_result).hoistableStyles,currentResource=pendingProps.get(currentProps),currentResource||(currentResource={type:`style`,instance:null,count:0,state:null},pendingProps.set(currentProps,currentResource)),currentResource):{type:`void`,instance:null,count:0,state:null};case`link`:if(pendingProps.rel===`stylesheet`&&typeof pendingProps.href==`string`&&typeof pendingProps.precedence==`string`){type=getStyleKey(pendingProps.href);var styles$243=getResourcesFromRoot(JSCompiler_inline_result).hoistableStyles,resource$244=styles$243.get(type);if(resource$244||(JSCompiler_inline_result=JSCompiler_inline_result.ownerDocument||JSCompiler_inline_result,resource$244={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},styles$243.set(type,resource$244),(styles$243=JSCompiler_inline_result.querySelector(getStylesheetSelectorFromKey(type)))&&!styles$243._p&&(resource$244.instance=styles$243,resource$244.state.loading=5),preloadPropsMap.has(type)||(pendingProps={rel:`preload`,as:`style`,href:pendingProps.href,crossOrigin:pendingProps.crossOrigin,integrity:pendingProps.integrity,media:pendingProps.media,hrefLang:pendingProps.hrefLang,referrerPolicy:pendingProps.referrerPolicy},preloadPropsMap.set(type,pendingProps),styles$243||preloadStylesheet(JSCompiler_inline_result,type,pendingProps,resource$244.state))),currentProps&&currentResource===null)throw Error(formatProdErrorMessage(528,``));return resource$244}if(currentProps&&currentResource!==null)throw Error(formatProdErrorMessage(529,``));return null;case`script`:return currentProps=pendingProps.async,pendingProps=pendingProps.src,typeof pendingProps==`string`&&currentProps&&typeof currentProps!=`function`&&typeof currentProps!=`symbol`?(currentProps=getScriptKey(pendingProps),pendingProps=getResourcesFromRoot(JSCompiler_inline_result).hoistableScripts,currentResource=pendingProps.get(currentProps),currentResource||(currentResource={type:`script`,instance:null,count:0,state:null},pendingProps.set(currentProps,currentResource)),currentResource):{type:`void`,instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,type))}}function getStyleKey(href){return`href="`+escapeSelectorAttributeValueInsideDoubleQuotes(href)+`"`}function getStylesheetSelectorFromKey(key){return`link[rel="stylesheet"][`+key+`]`}function stylesheetPropsFromRawProps(rawProps){return assign$1({},rawProps,{"data-precedence":rawProps.precedence,precedence:null})}function preloadStylesheet(ownerDocument,key,preloadProps,state){ownerDocument.querySelector(`link[rel="preload"][as="style"][`+key+`]`)?state.loading=1:(key=ownerDocument.createElement(`link`),state.preload=key,key.addEventListener(`load`,function(){return state.loading|=1}),key.addEventListener(`error`,function(){return state.loading|=2}),setInitialProperties(key,`link`,preloadProps),markNodeAsHoistable(key),ownerDocument.head.appendChild(key))}function getScriptKey(src){return`[src="`+escapeSelectorAttributeValueInsideDoubleQuotes(src)+`"]`}function getScriptSelectorFromKey(key){return`script[async]`+key}function acquireResource(hoistableRoot,resource,props){if(resource.count++,resource.instance===null)switch(resource.type){case`style`:var instance=hoistableRoot.querySelector(`style[data-href~="`+escapeSelectorAttributeValueInsideDoubleQuotes(props.href)+`"]`);if(instance)return resource.instance=instance,markNodeAsHoistable(instance),instance;var styleProps=assign$1({},props,{"data-href":props.href,"data-precedence":props.precedence,href:null,precedence:null});return instance=(hoistableRoot.ownerDocument||hoistableRoot).createElement(`style`),markNodeAsHoistable(instance),setInitialProperties(instance,`style`,styleProps),insertStylesheet(instance,props.precedence,hoistableRoot),resource.instance=instance;case`stylesheet`:styleProps=getStyleKey(props.href);var instance$249=hoistableRoot.querySelector(getStylesheetSelectorFromKey(styleProps));if(instance$249)return resource.state.loading|=4,resource.instance=instance$249,markNodeAsHoistable(instance$249),instance$249;instance=stylesheetPropsFromRawProps(props),(styleProps=preloadPropsMap.get(styleProps))&&adoptPreloadPropsForStylesheet(instance,styleProps),instance$249=(hoistableRoot.ownerDocument||hoistableRoot).createElement(`link`),markNodeAsHoistable(instance$249);var linkInstance=instance$249;return linkInstance._p=new Promise(function(resolve,reject){linkInstance.onload=resolve,linkInstance.onerror=reject}),setInitialProperties(instance$249,`link`,instance),resource.state.loading|=4,insertStylesheet(instance$249,props.precedence,hoistableRoot),resource.instance=instance$249;case`script`:return instance$249=getScriptKey(props.src),(styleProps=hoistableRoot.querySelector(getScriptSelectorFromKey(instance$249)))?(resource.instance=styleProps,markNodeAsHoistable(styleProps),styleProps):(instance=props,(styleProps=preloadPropsMap.get(instance$249))&&(instance=assign$1({},props),adoptPreloadPropsForScript(instance,styleProps)),hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot,styleProps=hoistableRoot.createElement(`script`),markNodeAsHoistable(styleProps),setInitialProperties(styleProps,`link`,instance),hoistableRoot.head.appendChild(styleProps),resource.instance=styleProps);case`void`:return null;default:throw Error(formatProdErrorMessage(443,resource.type))}else resource.type===`stylesheet`&&!(resource.state.loading&4)&&(instance=resource.instance,resource.state.loading|=4,insertStylesheet(instance,props.precedence,hoistableRoot));return resource.instance}function insertStylesheet(instance,precedence,root$1){for(var nodes=root$1.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),last=nodes.length?nodes[nodes.length-1]:null,prior=last,i$3=0;i$3<nodes.length;i$3++){var node=nodes[i$3];if(node.dataset.precedence===precedence)prior=node;else if(prior!==last)break}prior?prior.parentNode.insertBefore(instance,prior.nextSibling):(precedence=root$1.nodeType===9?root$1.head:root$1,precedence.insertBefore(instance,precedence.firstChild))}function adoptPreloadPropsForStylesheet(stylesheetProps,preloadProps){stylesheetProps.crossOrigin??=preloadProps.crossOrigin,stylesheetProps.referrerPolicy??=preloadProps.referrerPolicy,stylesheetProps.title??=preloadProps.title}function adoptPreloadPropsForScript(scriptProps,preloadProps){scriptProps.crossOrigin??=preloadProps.crossOrigin,scriptProps.referrerPolicy??=preloadProps.referrerPolicy,scriptProps.integrity??=preloadProps.integrity}var tagCaches=null;function getHydratableHoistableCache(type,keyAttribute,ownerDocument){if(tagCaches===null){var cache=new Map,caches=tagCaches=new Map;caches.set(ownerDocument,cache)}else caches=tagCaches,cache=caches.get(ownerDocument),cache||(cache=new Map,caches.set(ownerDocument,cache));if(cache.has(type))return cache;for(cache.set(type,null),ownerDocument=ownerDocument.getElementsByTagName(type),caches=0;caches<ownerDocument.length;caches++){var node=ownerDocument[caches];if(!(node[internalHoistableMarker]||node[internalInstanceKey]||type===`link`&&node.getAttribute(`rel`)===`stylesheet`)&&node.namespaceURI!==`http://www.w3.org/2000/svg`){var nodeKey=node.getAttribute(keyAttribute)||``;nodeKey=type+nodeKey;var existing=cache.get(nodeKey);existing?existing.push(node):cache.set(nodeKey,[node])}}return cache}function mountHoistable(hoistableRoot,type,instance){hoistableRoot=hoistableRoot.ownerDocument||hoistableRoot,hoistableRoot.head.insertBefore(instance,type===`title`?hoistableRoot.querySelector(`head > title`):null)}function isHostHoistableType(type,props,hostContext){if(hostContext===1||props.itemProp!=null)return!1;switch(type){case`meta`:case`title`:return!0;case`style`:if(typeof props.precedence!=`string`||typeof props.href!=`string`||props.href===``)break;return!0;case`link`:if(typeof props.rel!=`string`||typeof props.href!=`string`||props.href===``||props.onLoad||props.onError)break;switch(props.rel){case`stylesheet`:return type=props.disabled,typeof props.precedence==`string`&&type==null;default:return!0}case`script`:if(props.async&&typeof props.async!=`function`&&typeof props.async!=`symbol`&&!props.onLoad&&!props.onError&&props.src&&typeof props.src==`string`)return!0}return!1}function preloadResource(resource){return!(resource.type===`stylesheet`&&!(resource.state.loading&3))}function suspendResource(state,hoistableRoot,resource,props){if(resource.type===`stylesheet`&&(typeof props.media!=`string`||!1!==matchMedia(props.media).matches)&&!(resource.state.loading&4)){if(resource.instance===null){var key=getStyleKey(props.href),instance=hoistableRoot.querySelector(getStylesheetSelectorFromKey(key));if(instance){hoistableRoot=instance._p,typeof hoistableRoot==`object`&&hoistableRoot&&typeof hoistableRoot.then==`function`&&(state.count++,state=onUnsuspend.bind(state),hoistableRoot.then(state,state)),resource.state.loading|=4,resource.instance=instance,markNodeAsHoistable(instance);return}instance=hoistableRoot.ownerDocument||hoistableRoot,props=stylesheetPropsFromRawProps(props),(key=preloadPropsMap.get(key))&&adoptPreloadPropsForStylesheet(props,key),instance=instance.createElement(`link`),markNodeAsHoistable(instance);var linkInstance=instance;linkInstance._p=new Promise(function(resolve,reject){linkInstance.onload=resolve,linkInstance.onerror=reject}),setInitialProperties(instance,`link`,props),resource.instance=instance}state.stylesheets===null&&(state.stylesheets=new Map),state.stylesheets.set(resource,hoistableRoot),(hoistableRoot=resource.state.preload)&&!(resource.state.loading&3)&&(state.count++,resource=onUnsuspend.bind(state),hoistableRoot.addEventListener(`load`,resource),hoistableRoot.addEventListener(`error`,resource))}}var estimatedBytesWithinLimit=0;function waitForCommitToBeReady(state,timeoutOffset){return state.stylesheets&&state.count===0&&insertSuspendedStylesheets(state,state.stylesheets),0<state.count||0<state.imgCount?function(commit){var stylesheetTimer=setTimeout(function(){if(state.stylesheets&&insertSuspendedStylesheets(state,state.stylesheets),state.unsuspend){var unsuspend=state.unsuspend;state.unsuspend=null,unsuspend()}},6e4+timeoutOffset);0<state.imgBytes&&estimatedBytesWithinLimit===0&&(estimatedBytesWithinLimit=62500*estimateBandwidth());var imgTimer=setTimeout(function(){if(state.waitingForImages=!1,state.count===0&&(state.stylesheets&&insertSuspendedStylesheets(state,state.stylesheets),state.unsuspend)){var unsuspend=state.unsuspend;state.unsuspend=null,unsuspend()}},(state.imgBytes>estimatedBytesWithinLimit?50:800)+timeoutOffset);return state.unsuspend=commit,function(){state.unsuspend=null,clearTimeout(stylesheetTimer),clearTimeout(imgTimer)}}:null}function onUnsuspend(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var unsuspend=this.unsuspend;this.unsuspend=null,unsuspend()}}}var precedencesByRoot=null;function insertSuspendedStylesheets(state,resources){state.stylesheets=null,state.unsuspend!==null&&(state.count++,precedencesByRoot=new Map,resources.forEach(insertStylesheetIntoRoot,state),precedencesByRoot=null,onUnsuspend.call(state))}function insertStylesheetIntoRoot(root$1,resource){if(!(resource.state.loading&4)){var precedences=precedencesByRoot.get(root$1);if(precedences)var last=precedences.get(null);else{precedences=new Map,precedencesByRoot.set(root$1,precedences);for(var nodes=root$1.querySelectorAll(`link[data-precedence],style[data-precedence]`),i$3=0;i$3<nodes.length;i$3++){var node=nodes[i$3];(node.nodeName===`LINK`||node.getAttribute(`media`)!==`not all`)&&(precedences.set(node.dataset.precedence,node),last=node)}last&&precedences.set(null,last)}nodes=resource.instance,node=nodes.getAttribute(`data-precedence`),i$3=precedences.get(node)||last,i$3===last&&precedences.set(null,nodes),precedences.set(node,nodes),this.count++,last=onUnsuspend.bind(this),nodes.addEventListener(`load`,last),nodes.addEventListener(`error`,last),i$3?i$3.parentNode.insertBefore(nodes,i$3.nextSibling):(root$1=root$1.nodeType===9?root$1.head:root$1,root$1.insertBefore(nodes,root$1.firstChild)),resource.state.loading|=4}}var HostTransitionContext={$$typeof:REACT_CONTEXT_TYPE,Provider:null,Consumer:null,_currentValue:sharedNotPendingObject,_currentValue2:sharedNotPendingObject,_threadCount:0};function FiberRootNode(containerInfo,tag,hydrate,identifierPrefix,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator,formState){this.tag=1,this.containerInfo=containerInfo,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=createLaneMap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=createLaneMap(0),this.hiddenUpdates=createLaneMap(null),this.identifierPrefix=identifierPrefix,this.onUncaughtError=onUncaughtError,this.onCaughtError=onCaughtError,this.onRecoverableError=onRecoverableError,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=formState,this.incompleteTransitions=new Map}function createFiberRoot(containerInfo,tag,hydrate,initialChildren,hydrationCallbacks,isStrictMode,identifierPrefix,formState,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator){return containerInfo=new FiberRootNode(containerInfo,tag,hydrate,identifierPrefix,onUncaughtError,onCaughtError,onRecoverableError,onDefaultTransitionIndicator,formState),tag=1,!0===isStrictMode&&(tag|=24),isStrictMode=createFiberImplClass(3,null,null,tag),containerInfo.current=isStrictMode,isStrictMode.stateNode=containerInfo,tag=createCache(),tag.refCount++,containerInfo.pooledCache=tag,tag.refCount++,isStrictMode.memoizedState={element:initialChildren,isDehydrated:hydrate,cache:tag},initializeUpdateQueue(isStrictMode),containerInfo}function getContextForSubtree(parentComponent){return parentComponent?(parentComponent=emptyContextObject,parentComponent):emptyContextObject}function updateContainerImpl(rootFiber,lane,element,container,parentComponent,callback){parentComponent=getContextForSubtree(parentComponent),container.context===null?container.context=parentComponent:container.pendingContext=parentComponent,container=createUpdate(lane),container.payload={element},callback=callback===void 0?null:callback,callback!==null&&(container.callback=callback),element=enqueueUpdate(rootFiber,container,lane),element!==null&&(scheduleUpdateOnFiber(element,rootFiber,lane),entangleTransitions(element,rootFiber,lane))}function markRetryLaneImpl(fiber,retryLane){if(fiber=fiber.memoizedState,fiber!==null&&fiber.dehydrated!==null){var a$3=fiber.retryLane;fiber.retryLane=a$3!==0&&a$3<retryLane?a$3:retryLane}}function markRetryLaneIfNotHydrated(fiber,retryLane){markRetryLaneImpl(fiber,retryLane),(fiber=fiber.alternate)&&markRetryLaneImpl(fiber,retryLane)}function attemptContinuousHydration(fiber){if(fiber.tag===13||fiber.tag===31){var root$1=enqueueConcurrentRenderForLane(fiber,67108864);root$1!==null&&scheduleUpdateOnFiber(root$1,fiber,67108864),markRetryLaneIfNotHydrated(fiber,67108864)}}function attemptHydrationAtCurrentPriority(fiber){if(fiber.tag===13||fiber.tag===31){var lane=requestUpdateLane();lane=getBumpedLaneForHydrationByLane(lane);var root$1=enqueueConcurrentRenderForLane(fiber,lane);root$1!==null&&scheduleUpdateOnFiber(root$1,fiber,lane),markRetryLaneIfNotHydrated(fiber,lane)}}var _enabled=!0;function dispatchDiscreteEvent(domEventName,eventSystemFlags,container,nativeEvent){var prevTransition=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,dispatchEvent(domEventName,eventSystemFlags,container,nativeEvent)}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition}}function dispatchContinuousEvent(domEventName,eventSystemFlags,container,nativeEvent){var prevTransition=ReactSharedInternals.T;ReactSharedInternals.T=null;var previousPriority=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=8,dispatchEvent(domEventName,eventSystemFlags,container,nativeEvent)}finally{ReactDOMSharedInternals.p=previousPriority,ReactSharedInternals.T=prevTransition}}function dispatchEvent(domEventName,eventSystemFlags,targetContainer,nativeEvent){if(_enabled){var blockedOn=findInstanceBlockingEvent(nativeEvent);if(blockedOn===null)dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,return_targetInst,targetContainer),clearIfContinuousEvent(domEventName,nativeEvent);else if(queueIfContinuousEvent(blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent))nativeEvent.stopPropagation();else if(clearIfContinuousEvent(domEventName,nativeEvent),eventSystemFlags&4&&-1<discreteReplayableEvents.indexOf(domEventName)){for(;blockedOn!==null;){var fiber=getInstanceFromNode(blockedOn);if(fiber!==null)switch(fiber.tag){case 3:if(fiber=fiber.stateNode,fiber.current.memoizedState.isDehydrated){var lanes=getHighestPriorityLanes(fiber.pendingLanes);if(lanes!==0){var root$1=fiber;for(root$1.pendingLanes|=2,root$1.entangledLanes|=2;lanes;){var lane=1<<31-clz32(lanes);root$1.entanglements[1]|=lane,lanes&=~lane}ensureRootIsScheduled(fiber),!(executionContext&6)&&(workInProgressRootRenderTargetTime=now()+500,flushSyncWorkAcrossRoots_impl(0,!1))}}break;case 31:case 13:root$1=enqueueConcurrentRenderForLane(fiber,2),root$1!==null&&scheduleUpdateOnFiber(root$1,fiber,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(fiber,2)}if(fiber=findInstanceBlockingEvent(nativeEvent),fiber===null&&dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,return_targetInst,targetContainer),fiber===blockedOn)break;blockedOn=fiber}blockedOn!==null&&nativeEvent.stopPropagation()}else dispatchEventForPluginEventSystem(domEventName,eventSystemFlags,nativeEvent,null,targetContainer)}}function findInstanceBlockingEvent(nativeEvent){return nativeEvent=getEventTarget(nativeEvent),findInstanceBlockingTarget(nativeEvent)}var return_targetInst=null;function findInstanceBlockingTarget(targetNode){if(return_targetInst=null,targetNode=getClosestInstanceFromNode(targetNode),targetNode!==null){var nearestMounted=getNearestMountedFiber(targetNode);if(nearestMounted===null)targetNode=null;else{var tag=nearestMounted.tag;if(tag===13){if(targetNode=getSuspenseInstanceFromFiber(nearestMounted),targetNode!==null)return targetNode;targetNode=null}else if(tag===31){if(targetNode=getActivityInstanceFromFiber(nearestMounted),targetNode!==null)return targetNode;targetNode=null}else if(tag===3){if(nearestMounted.stateNode.current.memoizedState.isDehydrated)return nearestMounted.tag===3?nearestMounted.stateNode.containerInfo:null;targetNode=null}else nearestMounted!==targetNode&&(targetNode=null)}}return return_targetInst=targetNode,null}function getEventPriority(domEventName){switch(domEventName){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(getCurrentPriorityLevel()){case ImmediatePriority:return 2;case UserBlockingPriority:return 8;case NormalPriority$1:case LowPriority:return 32;case IdlePriority:return 268435456;default:return 32}default:return 32}}var hasScheduledReplayAttempt=!1,queuedFocus=null,queuedDrag=null,queuedMouse=null,queuedPointers=new Map,queuedPointerCaptures=new Map,queuedExplicitHydrationTargets=[],discreteReplayableEvents=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function clearIfContinuousEvent(domEventName,nativeEvent){switch(domEventName){case`focusin`:case`focusout`:queuedFocus=null;break;case`dragenter`:case`dragleave`:queuedDrag=null;break;case`mouseover`:case`mouseout`:queuedMouse=null;break;case`pointerover`:case`pointerout`:queuedPointers.delete(nativeEvent.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:queuedPointerCaptures.delete(nativeEvent.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(existingQueuedEvent,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent){return existingQueuedEvent===null||existingQueuedEvent.nativeEvent!==nativeEvent?(existingQueuedEvent={blockedOn,domEventName,eventSystemFlags,nativeEvent,targetContainers:[targetContainer]},blockedOn!==null&&(blockedOn=getInstanceFromNode(blockedOn),blockedOn!==null&&attemptContinuousHydration(blockedOn)),existingQueuedEvent):(existingQueuedEvent.eventSystemFlags|=eventSystemFlags,blockedOn=existingQueuedEvent.targetContainers,targetContainer!==null&&blockedOn.indexOf(targetContainer)===-1&&blockedOn.push(targetContainer),existingQueuedEvent)}function queueIfContinuousEvent(blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent){switch(domEventName){case`focusin`:return queuedFocus=accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),!0;case`dragenter`:return queuedDrag=accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),!0;case`mouseover`:return queuedMouse=accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent),!0;case`pointerover`:var pointerId=nativeEvent.pointerId;return queuedPointers.set(pointerId,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(pointerId)||null,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent)),!0;case`gotpointercapture`:return pointerId=nativeEvent.pointerId,queuedPointerCaptures.set(pointerId,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(pointerId)||null,blockedOn,domEventName,eventSystemFlags,targetContainer,nativeEvent)),!0}return!1}function attemptExplicitHydrationTarget(queuedTarget){var targetInst=getClosestInstanceFromNode(queuedTarget.target);if(targetInst!==null){var nearestMounted=getNearestMountedFiber(targetInst);if(nearestMounted!==null){if(targetInst=nearestMounted.tag,targetInst===13){if(targetInst=getSuspenseInstanceFromFiber(nearestMounted),targetInst!==null){queuedTarget.blockedOn=targetInst,runWithPriority(queuedTarget.priority,function(){attemptHydrationAtCurrentPriority(nearestMounted)});return}}else if(targetInst===31){if(targetInst=getActivityInstanceFromFiber(nearestMounted),targetInst!==null){queuedTarget.blockedOn=targetInst,runWithPriority(queuedTarget.priority,function(){attemptHydrationAtCurrentPriority(nearestMounted)});return}}else if(targetInst===3&&nearestMounted.stateNode.current.memoizedState.isDehydrated){queuedTarget.blockedOn=nearestMounted.tag===3?nearestMounted.stateNode.containerInfo:null;return}}}queuedTarget.blockedOn=null}function attemptReplayContinuousQueuedEvent(queuedEvent){if(queuedEvent.blockedOn!==null)return!1;for(var targetContainers=queuedEvent.targetContainers;0<targetContainers.length;){var nextBlockedOn=findInstanceBlockingEvent(queuedEvent.nativeEvent);if(nextBlockedOn===null){nextBlockedOn=queuedEvent.nativeEvent;var nativeEventClone=new nextBlockedOn.constructor(nextBlockedOn.type,nextBlockedOn);currentReplayingEvent=nativeEventClone,nextBlockedOn.target.dispatchEvent(nativeEventClone),currentReplayingEvent=null}else return targetContainers=getInstanceFromNode(nextBlockedOn),targetContainers!==null&&attemptContinuousHydration(targetContainers),queuedEvent.blockedOn=nextBlockedOn,!1;targetContainers.shift()}return!0}function attemptReplayContinuousQueuedEventInMap(queuedEvent,key,map){attemptReplayContinuousQueuedEvent(queuedEvent)&&map.delete(key)}function replayUnblockedEvents(){hasScheduledReplayAttempt=!1,queuedFocus!==null&&attemptReplayContinuousQueuedEvent(queuedFocus)&&(queuedFocus=null),queuedDrag!==null&&attemptReplayContinuousQueuedEvent(queuedDrag)&&(queuedDrag=null),queuedMouse!==null&&attemptReplayContinuousQueuedEvent(queuedMouse)&&(queuedMouse=null),queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap),queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(queuedEvent,unblocked){queuedEvent.blockedOn===unblocked&&(queuedEvent.blockedOn=null,hasScheduledReplayAttempt||(hasScheduledReplayAttempt=!0,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,replayUnblockedEvents)))}var lastScheduledReplayQueue=null;function scheduleReplayQueueIfNeeded(formReplayingQueue){lastScheduledReplayQueue!==formReplayingQueue&&(lastScheduledReplayQueue=formReplayingQueue,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,function(){lastScheduledReplayQueue===formReplayingQueue&&(lastScheduledReplayQueue=null);for(var i$3=0;i$3<formReplayingQueue.length;i$3+=3){var form=formReplayingQueue[i$3],submitterOrAction=formReplayingQueue[i$3+1],formData=formReplayingQueue[i$3+2];if(typeof submitterOrAction!=`function`){if(findInstanceBlockingTarget(submitterOrAction||form)===null)continue;break}var formInst=getInstanceFromNode(form);formInst!==null&&(formReplayingQueue.splice(i$3,3),i$3-=3,startHostTransition(formInst,{pending:!0,data:formData,method:form.method,action:submitterOrAction},submitterOrAction,formData))}}))}function retryIfBlockedOn(unblocked){function unblock(queuedEvent){return scheduleCallbackIfUnblocked(queuedEvent,unblocked)}queuedFocus!==null&&scheduleCallbackIfUnblocked(queuedFocus,unblocked),queuedDrag!==null&&scheduleCallbackIfUnblocked(queuedDrag,unblocked),queuedMouse!==null&&scheduleCallbackIfUnblocked(queuedMouse,unblocked),queuedPointers.forEach(unblock),queuedPointerCaptures.forEach(unblock);for(var i$3=0;i$3<queuedExplicitHydrationTargets.length;i$3++){var queuedTarget=queuedExplicitHydrationTargets[i$3];queuedTarget.blockedOn===unblocked&&(queuedTarget.blockedOn=null)}for(;0<queuedExplicitHydrationTargets.length&&(i$3=queuedExplicitHydrationTargets[0],i$3.blockedOn===null);)attemptExplicitHydrationTarget(i$3),i$3.blockedOn===null&&queuedExplicitHydrationTargets.shift();if(i$3=(unblocked.ownerDocument||unblocked).$$reactFormReplay,i$3!=null)for(queuedTarget=0;queuedTarget<i$3.length;queuedTarget+=3){var form=i$3[queuedTarget],submitterOrAction=i$3[queuedTarget+1],formProps=form[internalPropsKey]||null;if(typeof submitterOrAction==`function`)formProps||scheduleReplayQueueIfNeeded(i$3);else if(formProps){var action=null;if(submitterOrAction&&submitterOrAction.hasAttribute(`formAction`)){if(form=submitterOrAction,formProps=submitterOrAction[internalPropsKey]||null)action=formProps.formAction;else if(findInstanceBlockingTarget(form)!==null)continue}else action=formProps.action;typeof action==`function`?i$3[queuedTarget+1]=action:(i$3.splice(queuedTarget,3),queuedTarget-=3),scheduleReplayQueueIfNeeded(i$3)}}}function defaultOnDefaultTransitionIndicator(){function handleNavigate(event){event.canIntercept&&event.info===`react-transition`&&event.intercept({handler:function(){return new Promise(function(resolve){return pendingResolve=resolve})},focusReset:`manual`,scroll:`manual`})}function handleNavigateComplete(){pendingResolve!==null&&(pendingResolve(),pendingResolve=null),isCancelled||setTimeout(startFakeNavigation,20)}function startFakeNavigation(){if(!isCancelled&&!navigation.transition){var currentEntry=navigation.currentEntry;currentEntry&&currentEntry.url!=null&&navigation.navigate(currentEntry.url,{state:currentEntry.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var isCancelled=!1,pendingResolve=null;return navigation.addEventListener(`navigate`,handleNavigate),navigation.addEventListener(`navigatesuccess`,handleNavigateComplete),navigation.addEventListener(`navigateerror`,handleNavigateComplete),setTimeout(startFakeNavigation,100),function(){isCancelled=!0,navigation.removeEventListener(`navigate`,handleNavigate),navigation.removeEventListener(`navigatesuccess`,handleNavigateComplete),navigation.removeEventListener(`navigateerror`,handleNavigateComplete),pendingResolve!==null&&(pendingResolve(),pendingResolve=null)}}}function ReactDOMRoot(internalRoot){this._internalRoot=internalRoot}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(children){var root$1=this._internalRoot;if(root$1===null)throw Error(formatProdErrorMessage(409));var current=root$1.current,lane=requestUpdateLane();updateContainerImpl(current,lane,children,root$1,null,null)},ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var root$1=this._internalRoot;if(root$1!==null){this._internalRoot=null;var container=root$1.containerInfo;updateContainerImpl(root$1.current,2,null,root$1,null,null),flushSyncWork$1(),container[internalContainerInstanceKey]=null}};function ReactDOMHydrationRoot(internalRoot){this._internalRoot=internalRoot}ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(target){if(target){var updatePriority=resolveUpdatePriority();target={blockedOn:null,target,priority:updatePriority};for(var i$3=0;i$3<queuedExplicitHydrationTargets.length&&updatePriority!==0&&updatePriority<queuedExplicitHydrationTargets[i$3].priority;i$3++);queuedExplicitHydrationTargets.splice(i$3,0,target),i$3===0&&attemptExplicitHydrationTarget(target)}};var isomorphicReactPackageVersion$jscomp$inline_1840=React.version;if(isomorphicReactPackageVersion$jscomp$inline_1840!==`19.2.0`)throw Error(formatProdErrorMessage(527,isomorphicReactPackageVersion$jscomp$inline_1840,`19.2.0`));ReactDOMSharedInternals.findDOMNode=function(componentOrElement){var fiber=componentOrElement._reactInternals;if(fiber===void 0)throw typeof componentOrElement.render==`function`?Error(formatProdErrorMessage(188)):(componentOrElement=Object.keys(componentOrElement).join(`,`),Error(formatProdErrorMessage(268,componentOrElement)));return componentOrElement=findCurrentFiberUsingSlowPath(fiber),componentOrElement=componentOrElement===null?null:findCurrentHostFiberImpl(componentOrElement),componentOrElement=componentOrElement===null?null:componentOrElement.stateNode,componentOrElement};var internals$jscomp$inline_2347={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:ReactSharedInternals,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var hook$jscomp$inline_2348=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hook$jscomp$inline_2348.isDisabled&&hook$jscomp$inline_2348.supportsFiber)try{rendererID=hook$jscomp$inline_2348.inject(internals$jscomp$inline_2347),injectedHook=hook$jscomp$inline_2348}catch{}}exports.createRoot=function(container,options$1){if(!isValidContainer(container))throw Error(formatProdErrorMessage(299));var isStrictMode=!1,identifierPrefix=``,onUncaughtError=defaultOnUncaughtError,onCaughtError=defaultOnCaughtError,onRecoverableError=defaultOnRecoverableError;return options$1!=null&&(!0===options$1.unstable_strictMode&&(isStrictMode=!0),options$1.identifierPrefix!==void 0&&(identifierPrefix=options$1.identifierPrefix),options$1.onUncaughtError!==void 0&&(onUncaughtError=options$1.onUncaughtError),options$1.onCaughtError!==void 0&&(onCaughtError=options$1.onCaughtError),options$1.onRecoverableError!==void 0&&(onRecoverableError=options$1.onRecoverableError)),options$1=createFiberRoot(container,1,!1,null,null,isStrictMode,identifierPrefix,null,onUncaughtError,onCaughtError,onRecoverableError,defaultOnDefaultTransitionIndicator),container[internalContainerInstanceKey]=options$1.current,listenToAllSupportedEvents(container),new ReactDOMRoot(options$1)}})),import_client=__toESM(__commonJSMin(((exports,module)=>{function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err$1){console.error(err$1)}}checkDCE(),module.exports=require_react_dom_client_production()}))()),import_react=__toESM(require_react()),require_react_jsx_runtime_production=__commonJSMin((exports=>{var REACT_ELEMENT_TYPE=Symbol.for(`react.transitional.element`),REACT_FRAGMENT_TYPE=Symbol.for(`react.fragment`);function jsxProd(type,config,maybeKey){var key=null;if(maybeKey!==void 0&&(key=``+maybeKey),config.key!==void 0&&(key=``+config.key),`key`in config)for(var propName in maybeKey={},config)propName!==`key`&&(maybeKey[propName]=config[propName]);else maybeKey=config;return config=maybeKey.ref,{$$typeof:REACT_ELEMENT_TYPE,type,key,ref:config===void 0?null:config,props:maybeKey}}exports.jsx=jsxProd,exports.jsxs=jsxProd})),import_jsx_runtime=__toESM(__commonJSMin(((exports,module)=>{module.exports=require_react_jsx_runtime_production()}))());function Actions({url,processing}){return(0,import_jsx_runtime.jsx)(`div`,{className:`card bg-base-100 w-full shadow-md mb-10`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`card-body p-0 grid grid-cols-1 md:grid-cols-2 gap-3`,children:[(0,import_jsx_runtime.jsxs)(`button`,{className:`btn`,onClick:()=>{if(url){let link=document.createElement(`a`);link.href=url,link.download=`binarization_image.png`,link.click()}},disabled:processing||!url,children:[(0,import_jsx_runtime.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,strokeWidth:1.5,stroke:`currentColor`,className:`size-5`,children:(0,import_jsx_runtime.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3`})}),`Save Image`]}),(0,import_jsx_runtime.jsxs)(`button`,{className:`btn`,onClick:()=>{url&&window.open(url,`_blank`)?.focus()},disabled:processing||!url,children:[(0,import_jsx_runtime.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,strokeWidth:1.5,stroke:`currentColor`,className:`size-5`,children:(0,import_jsx_runtime.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25`})}),`Open Image`]})]})})}function Footer(){return(0,import_jsx_runtime.jsx)(`footer`,{className:`mt-12 text-center text-sm text-base-content/70`,children:(0,import_jsx_runtime.jsxs)(`p`,{children:[`Made by TheWilley  Source code avaible at`,` `,(0,import_jsx_runtime.jsx)(`a`,{href:`https://github.com/TheWilley/image-binarization-tool`,className:`link`,target:`_blank`,children:`GitHub`})]})})}function Header({title}){return(0,import_jsx_runtime.jsx)(`header`,{className:`text-center mb-10 w-full`,children:(0,import_jsx_runtime.jsx)(`h1`,{className:`text-4xl sm:text-5xl font-extrabold mb-2 tracking-tight`,children:title})})}function ImageCard({title,nullText,url,processing,altText}){return(0,import_jsx_runtime.jsxs)(`div`,{className:`card border border-base-300 p-4 rounded-lg bg-[#0a0a0a]`,children:[(0,import_jsx_runtime.jsx)(`h3`,{className:`card-title text-xl font-semibold mb-3`,children:title}),(0,import_jsx_runtime.jsxs)(`div`,{className:`min-h-72 flex items-center justify-center rounded-lg overflow-hidde relative`,children:[url&&(0,import_jsx_runtime.jsx)(`img`,{src:url,alt:altText,className:`
              w-full h-full object-contain max-h-[60vh]
              transition duration-500 ease-in
            `}),(0,import_jsx_runtime.jsx)(`div`,{className:`absolute`,children:processing?(0,import_jsx_runtime.jsx)(`span`,{className:`text-primary p-8 text-center`,children:(0,import_jsx_runtime.jsx)(`span`,{className:`loading loading-infinity loading-xl scale-200 bg-purple-900`})}):!url&&(0,import_jsx_runtime.jsx)(`span`,{className:`text-neutral-focus p-8 text-center`,children:nullText})})]})]})}function Results({originalUrl,algorithm,threshold:threshold$1,thresholdedUrl,processing}){return(0,import_jsx_runtime.jsxs)(`div`,{className:`w-full grid grid-cols-1 md:grid-cols-2 gap-4 mb-4`,children:[(0,import_jsx_runtime.jsx)(ImageCard,{title:`Original Image`,nullText:`Upload an image above to begin`,url:originalUrl,processing:processing&&!originalUrl,altText:`Original image uploaded by user`}),(0,import_jsx_runtime.jsx)(ImageCard,{title:`Thresholded Image (${algorithm})`,nullText:`Thresholded result will appear here.`,url:thresholdedUrl,processing,altText:`Binarized image using ${algorithm} mode and threshold ${threshold$1}`})]})}var lib_esm_exports=__export({isAnyArray:()=>isAnyArray});function isAnyArray(value){let tag=toString$2.call(value);return tag.endsWith(`Array]`)&&!tag.includes(`Big`)}var toString$2,init_lib_esm=__esmMin((()=>{toString$2=Object.prototype.toString}));function max$1(input){var options$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(input))throw TypeError(`input must be an array`);if(input.length===0)throw TypeError(`input must not be empty`);var _options$fromIndex=options$1.fromIndex,fromIndex=_options$fromIndex===void 0?0:_options$fromIndex,_options$toIndex=options$1.toIndex,toIndex=_options$toIndex===void 0?input.length:_options$toIndex;if(fromIndex<0||fromIndex>=input.length||!Number.isInteger(fromIndex))throw Error(`fromIndex must be a positive integer smaller than length`);if(toIndex<=fromIndex||toIndex>input.length||!Number.isInteger(toIndex))throw Error(`toIndex must be an integer greater than fromIndex and at most equal to length`);for(var maxValue=input[fromIndex],i$3=fromIndex+1;i$3<toIndex;i$3++)input[i$3]>maxValue&&(maxValue=input[i$3]);return maxValue}var init_lib_es6$2=__esmMin((()=>{init_lib_esm()}));function min$1(input){var options$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(input))throw TypeError(`input must be an array`);if(input.length===0)throw TypeError(`input must not be empty`);var _options$fromIndex=options$1.fromIndex,fromIndex=_options$fromIndex===void 0?0:_options$fromIndex,_options$toIndex=options$1.toIndex,toIndex=_options$toIndex===void 0?input.length:_options$toIndex;if(fromIndex<0||fromIndex>=input.length||!Number.isInteger(fromIndex))throw Error(`fromIndex must be a positive integer smaller than length`);if(toIndex<=fromIndex||toIndex>input.length||!Number.isInteger(toIndex))throw Error(`toIndex must be an integer greater than fromIndex and at most equal to length`);for(var minValue=input[fromIndex],i$3=fromIndex+1;i$3<toIndex;i$3++)input[i$3]<minValue&&(minValue=input[i$3]);return minValue}var init_lib_es6$1=__esmMin((()=>{init_lib_esm()})),lib_es6_exports=__export({default:()=>rescale$1});function rescale$1(input){var options$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(input)){if(input.length===0)throw TypeError(`input must not be empty`)}else throw TypeError(`input must be an array`);var output;if(options$1.output!==void 0){if(!isAnyArray(options$1.output))throw TypeError(`output option must be an array if specified`);output=options$1.output}else output=Array(input.length);var currentMin=min$1(input),currentMax=max$1(input);if(currentMin===currentMax)throw RangeError(`minimum and maximum input values are equal. Cannot rescale a constant array`);var _options$min=options$1.min,minValue=_options$min===void 0?options$1.autoMinMax?currentMin:0:_options$min,_options$max=options$1.max,maxValue=_options$max===void 0?options$1.autoMinMax?currentMax:1:_options$max;if(minValue>=maxValue)throw RangeError(`min option must be smaller than max option`);for(var factor=(maxValue-minValue)/(currentMax-currentMin),i$3=0;i$3<input.length;i$3++)output[i$3]=(input[i$3]-currentMin)*factor+minValue;return output}var init_lib_es6=__esmMin((()=>{init_lib_esm(),init_lib_es6$2(),init_lib_es6$1()})),import_matrix=__toESM(__commonJSMin((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0});var isAnyArray$1=(init_lib_esm(),__toCommonJS(lib_esm_exports)),rescale=(init_lib_es6(),__toCommonJS(lib_es6_exports)),indent=` `.repeat(2),indentData=` `.repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(matrix,options$1={}){let{maxRows=15,maxColumns=10,maxNumSize=8,padMinus=`auto`}=options$1;return`${matrix.constructor.name} {
${indent}[
${indentData}${inspectData(matrix,maxRows,maxColumns,maxNumSize,padMinus)}
${indent}]
${indent}rows: ${matrix.rows}
${indent}columns: ${matrix.columns}
}`}function inspectData(matrix,maxRows,maxColumns,maxNumSize,padMinus){let{rows,columns}=matrix,maxI=Math.min(rows,maxRows),maxJ=Math.min(columns,maxColumns),result=[];if(padMinus===`auto`){padMinus=!1;loop:for(let i$3=0;i$3<maxI;i$3++)for(let j$2=0;j$2<maxJ;j$2++)if(matrix.get(i$3,j$2)<0){padMinus=!0;break loop}}for(let i$3=0;i$3<maxI;i$3++){let line$3=[];for(let j$2=0;j$2<maxJ;j$2++)line$3.push(formatNumber(matrix.get(i$3,j$2),maxNumSize,padMinus));result.push(`${line$3.join(` `)}`)}return maxJ!==columns&&(result[result.length-1]+=` ... ${columns-maxColumns} more columns`),maxI!==rows&&result.push(`... ${rows-maxRows} more rows`),result.join(`\n${indentData}`)}function formatNumber(num,maxNumSize,padMinus){return(num>=0&&padMinus?` ${formatNumber2(num,maxNumSize-1)}`:formatNumber2(num,maxNumSize)).padEnd(maxNumSize)}function formatNumber2(num,len){let str=num.toString();if(str.length<=len)return str;let fix=num.toFixed(len);if(fix.length>len&&(fix=num.toFixed(Math.max(0,len-(fix.length-len)))),fix.length<=len&&!fix.startsWith(`0.000`)&&!fix.startsWith(`-0.000`))return fix;let exp=num.toExponential(len);return exp.length>len&&(exp=num.toExponential(Math.max(0,len-(exp.length-len)))),exp.slice(0)}function installMathOperations(AbstractMatrix$2,Matrix$2){AbstractMatrix$2.prototype.add=function(value){return typeof value==`number`?this.addS(value):this.addM(value)},AbstractMatrix$2.prototype.addS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)+value);return this},AbstractMatrix$2.prototype.addM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)+matrix.get(i$3,j$2));return this},AbstractMatrix$2.add=function(matrix,value){return new Matrix$2(matrix).add(value)},AbstractMatrix$2.prototype.sub=function(value){return typeof value==`number`?this.subS(value):this.subM(value)},AbstractMatrix$2.prototype.subS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)-value);return this},AbstractMatrix$2.prototype.subM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)-matrix.get(i$3,j$2));return this},AbstractMatrix$2.sub=function(matrix,value){return new Matrix$2(matrix).sub(value)},AbstractMatrix$2.prototype.subtract=AbstractMatrix$2.prototype.sub,AbstractMatrix$2.prototype.subtractS=AbstractMatrix$2.prototype.subS,AbstractMatrix$2.prototype.subtractM=AbstractMatrix$2.prototype.subM,AbstractMatrix$2.subtract=AbstractMatrix$2.sub,AbstractMatrix$2.prototype.mul=function(value){return typeof value==`number`?this.mulS(value):this.mulM(value)},AbstractMatrix$2.prototype.mulS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)*value);return this},AbstractMatrix$2.prototype.mulM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)*matrix.get(i$3,j$2));return this},AbstractMatrix$2.mul=function(matrix,value){return new Matrix$2(matrix).mul(value)},AbstractMatrix$2.prototype.multiply=AbstractMatrix$2.prototype.mul,AbstractMatrix$2.prototype.multiplyS=AbstractMatrix$2.prototype.mulS,AbstractMatrix$2.prototype.multiplyM=AbstractMatrix$2.prototype.mulM,AbstractMatrix$2.multiply=AbstractMatrix$2.mul,AbstractMatrix$2.prototype.div=function(value){return typeof value==`number`?this.divS(value):this.divM(value)},AbstractMatrix$2.prototype.divS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)/value);return this},AbstractMatrix$2.prototype.divM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)/matrix.get(i$3,j$2));return this},AbstractMatrix$2.div=function(matrix,value){return new Matrix$2(matrix).div(value)},AbstractMatrix$2.prototype.divide=AbstractMatrix$2.prototype.div,AbstractMatrix$2.prototype.divideS=AbstractMatrix$2.prototype.divS,AbstractMatrix$2.prototype.divideM=AbstractMatrix$2.prototype.divM,AbstractMatrix$2.divide=AbstractMatrix$2.div,AbstractMatrix$2.prototype.mod=function(value){return typeof value==`number`?this.modS(value):this.modM(value)},AbstractMatrix$2.prototype.modS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)%value);return this},AbstractMatrix$2.prototype.modM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)%matrix.get(i$3,j$2));return this},AbstractMatrix$2.mod=function(matrix,value){return new Matrix$2(matrix).mod(value)},AbstractMatrix$2.prototype.modulus=AbstractMatrix$2.prototype.mod,AbstractMatrix$2.prototype.modulusS=AbstractMatrix$2.prototype.modS,AbstractMatrix$2.prototype.modulusM=AbstractMatrix$2.prototype.modM,AbstractMatrix$2.modulus=AbstractMatrix$2.mod,AbstractMatrix$2.prototype.and=function(value){return typeof value==`number`?this.andS(value):this.andM(value)},AbstractMatrix$2.prototype.andS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)&value);return this},AbstractMatrix$2.prototype.andM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)&matrix.get(i$3,j$2));return this},AbstractMatrix$2.and=function(matrix,value){return new Matrix$2(matrix).and(value)},AbstractMatrix$2.prototype.or=function(value){return typeof value==`number`?this.orS(value):this.orM(value)},AbstractMatrix$2.prototype.orS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)|value);return this},AbstractMatrix$2.prototype.orM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)|matrix.get(i$3,j$2));return this},AbstractMatrix$2.or=function(matrix,value){return new Matrix$2(matrix).or(value)},AbstractMatrix$2.prototype.xor=function(value){return typeof value==`number`?this.xorS(value):this.xorM(value)},AbstractMatrix$2.prototype.xorS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)^value);return this},AbstractMatrix$2.prototype.xorM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)^matrix.get(i$3,j$2));return this},AbstractMatrix$2.xor=function(matrix,value){return new Matrix$2(matrix).xor(value)},AbstractMatrix$2.prototype.leftShift=function(value){return typeof value==`number`?this.leftShiftS(value):this.leftShiftM(value)},AbstractMatrix$2.prototype.leftShiftS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)<<value);return this},AbstractMatrix$2.prototype.leftShiftM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)<<matrix.get(i$3,j$2));return this},AbstractMatrix$2.leftShift=function(matrix,value){return new Matrix$2(matrix).leftShift(value)},AbstractMatrix$2.prototype.signPropagatingRightShift=function(value){return typeof value==`number`?this.signPropagatingRightShiftS(value):this.signPropagatingRightShiftM(value)},AbstractMatrix$2.prototype.signPropagatingRightShiftS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)>>value);return this},AbstractMatrix$2.prototype.signPropagatingRightShiftM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)>>matrix.get(i$3,j$2));return this},AbstractMatrix$2.signPropagatingRightShift=function(matrix,value){return new Matrix$2(matrix).signPropagatingRightShift(value)},AbstractMatrix$2.prototype.rightShift=function(value){return typeof value==`number`?this.rightShiftS(value):this.rightShiftM(value)},AbstractMatrix$2.prototype.rightShiftS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)>>>value);return this},AbstractMatrix$2.prototype.rightShiftM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)>>>matrix.get(i$3,j$2));return this},AbstractMatrix$2.rightShift=function(matrix,value){return new Matrix$2(matrix).rightShift(value)},AbstractMatrix$2.prototype.zeroFillRightShift=AbstractMatrix$2.prototype.rightShift,AbstractMatrix$2.prototype.zeroFillRightShiftS=AbstractMatrix$2.prototype.rightShiftS,AbstractMatrix$2.prototype.zeroFillRightShiftM=AbstractMatrix$2.prototype.rightShiftM,AbstractMatrix$2.zeroFillRightShift=AbstractMatrix$2.rightShift,AbstractMatrix$2.prototype.not=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,~this.get(i$3,j$2));return this},AbstractMatrix$2.not=function(matrix){return new Matrix$2(matrix).not()},AbstractMatrix$2.prototype.abs=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.abs(this.get(i$3,j$2)));return this},AbstractMatrix$2.abs=function(matrix){return new Matrix$2(matrix).abs()},AbstractMatrix$2.prototype.acos=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.acos(this.get(i$3,j$2)));return this},AbstractMatrix$2.acos=function(matrix){return new Matrix$2(matrix).acos()},AbstractMatrix$2.prototype.acosh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.acosh(this.get(i$3,j$2)));return this},AbstractMatrix$2.acosh=function(matrix){return new Matrix$2(matrix).acosh()},AbstractMatrix$2.prototype.asin=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.asin(this.get(i$3,j$2)));return this},AbstractMatrix$2.asin=function(matrix){return new Matrix$2(matrix).asin()},AbstractMatrix$2.prototype.asinh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.asinh(this.get(i$3,j$2)));return this},AbstractMatrix$2.asinh=function(matrix){return new Matrix$2(matrix).asinh()},AbstractMatrix$2.prototype.atan=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.atan(this.get(i$3,j$2)));return this},AbstractMatrix$2.atan=function(matrix){return new Matrix$2(matrix).atan()},AbstractMatrix$2.prototype.atanh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.atanh(this.get(i$3,j$2)));return this},AbstractMatrix$2.atanh=function(matrix){return new Matrix$2(matrix).atanh()},AbstractMatrix$2.prototype.cbrt=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.cbrt(this.get(i$3,j$2)));return this},AbstractMatrix$2.cbrt=function(matrix){return new Matrix$2(matrix).cbrt()},AbstractMatrix$2.prototype.ceil=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.ceil(this.get(i$3,j$2)));return this},AbstractMatrix$2.ceil=function(matrix){return new Matrix$2(matrix).ceil()},AbstractMatrix$2.prototype.clz32=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.clz32(this.get(i$3,j$2)));return this},AbstractMatrix$2.clz32=function(matrix){return new Matrix$2(matrix).clz32()},AbstractMatrix$2.prototype.cos=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.cos(this.get(i$3,j$2)));return this},AbstractMatrix$2.cos=function(matrix){return new Matrix$2(matrix).cos()},AbstractMatrix$2.prototype.cosh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.cosh(this.get(i$3,j$2)));return this},AbstractMatrix$2.cosh=function(matrix){return new Matrix$2(matrix).cosh()},AbstractMatrix$2.prototype.exp=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.exp(this.get(i$3,j$2)));return this},AbstractMatrix$2.exp=function(matrix){return new Matrix$2(matrix).exp()},AbstractMatrix$2.prototype.expm1=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.expm1(this.get(i$3,j$2)));return this},AbstractMatrix$2.expm1=function(matrix){return new Matrix$2(matrix).expm1()},AbstractMatrix$2.prototype.floor=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.floor(this.get(i$3,j$2)));return this},AbstractMatrix$2.floor=function(matrix){return new Matrix$2(matrix).floor()},AbstractMatrix$2.prototype.fround=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.fround(this.get(i$3,j$2)));return this},AbstractMatrix$2.fround=function(matrix){return new Matrix$2(matrix).fround()},AbstractMatrix$2.prototype.log=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.log(this.get(i$3,j$2)));return this},AbstractMatrix$2.log=function(matrix){return new Matrix$2(matrix).log()},AbstractMatrix$2.prototype.log1p=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.log1p(this.get(i$3,j$2)));return this},AbstractMatrix$2.log1p=function(matrix){return new Matrix$2(matrix).log1p()},AbstractMatrix$2.prototype.log10=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.log10(this.get(i$3,j$2)));return this},AbstractMatrix$2.log10=function(matrix){return new Matrix$2(matrix).log10()},AbstractMatrix$2.prototype.log2=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.log2(this.get(i$3,j$2)));return this},AbstractMatrix$2.log2=function(matrix){return new Matrix$2(matrix).log2()},AbstractMatrix$2.prototype.round=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.round(this.get(i$3,j$2)));return this},AbstractMatrix$2.round=function(matrix){return new Matrix$2(matrix).round()},AbstractMatrix$2.prototype.sign=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.sign(this.get(i$3,j$2)));return this},AbstractMatrix$2.sign=function(matrix){return new Matrix$2(matrix).sign()},AbstractMatrix$2.prototype.sin=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.sin(this.get(i$3,j$2)));return this},AbstractMatrix$2.sin=function(matrix){return new Matrix$2(matrix).sin()},AbstractMatrix$2.prototype.sinh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.sinh(this.get(i$3,j$2)));return this},AbstractMatrix$2.sinh=function(matrix){return new Matrix$2(matrix).sinh()},AbstractMatrix$2.prototype.sqrt=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.sqrt(this.get(i$3,j$2)));return this},AbstractMatrix$2.sqrt=function(matrix){return new Matrix$2(matrix).sqrt()},AbstractMatrix$2.prototype.tan=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.tan(this.get(i$3,j$2)));return this},AbstractMatrix$2.tan=function(matrix){return new Matrix$2(matrix).tan()},AbstractMatrix$2.prototype.tanh=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.tanh(this.get(i$3,j$2)));return this},AbstractMatrix$2.tanh=function(matrix){return new Matrix$2(matrix).tanh()},AbstractMatrix$2.prototype.trunc=function(){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,Math.trunc(this.get(i$3,j$2)));return this},AbstractMatrix$2.trunc=function(matrix){return new Matrix$2(matrix).trunc()},AbstractMatrix$2.pow=function(matrix,arg0){return new Matrix$2(matrix).pow(arg0)},AbstractMatrix$2.prototype.pow=function(value){return typeof value==`number`?this.powS(value):this.powM(value)},AbstractMatrix$2.prototype.powS=function(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)**value);return this},AbstractMatrix$2.prototype.powM=function(matrix){if(matrix=Matrix$2.checkMatrix(matrix),this.rows!==matrix.rows||this.columns!==matrix.columns)throw RangeError(`Matrices dimensions must be equal`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)**matrix.get(i$3,j$2));return this}}function checkRowIndex(matrix,index$1,outer){let max$2=outer?matrix.rows:matrix.rows-1;if(index$1<0||index$1>max$2)throw RangeError(`Row index out of range`)}function checkColumnIndex(matrix,index$1,outer){let max$2=outer?matrix.columns:matrix.columns-1;if(index$1<0||index$1>max$2)throw RangeError(`Column index out of range`)}function checkRowVector(matrix,vector){if(vector.to1DArray&&(vector=vector.to1DArray()),vector.length!==matrix.columns)throw RangeError(`vector size must be the same as the number of columns`);return vector}function checkColumnVector(matrix,vector){if(vector.to1DArray&&(vector=vector.to1DArray()),vector.length!==matrix.rows)throw RangeError(`vector size must be the same as the number of rows`);return vector}function checkRowIndices(matrix,rowIndices){if(!isAnyArray$1.isAnyArray(rowIndices))throw TypeError(`row indices must be an array`);for(let i$3=0;i$3<rowIndices.length;i$3++)if(rowIndices[i$3]<0||rowIndices[i$3]>=matrix.rows)throw RangeError(`row indices are out of range`)}function checkColumnIndices(matrix,columnIndices){if(!isAnyArray$1.isAnyArray(columnIndices))throw TypeError(`column indices must be an array`);for(let i$3=0;i$3<columnIndices.length;i$3++)if(columnIndices[i$3]<0||columnIndices[i$3]>=matrix.columns)throw RangeError(`column indices are out of range`)}function checkRange$1(matrix,startRow,endRow,startColumn,endColumn){if(arguments.length!==5)throw RangeError(`expected 4 arguments`);if(checkNumber(`startRow`,startRow),checkNumber(`endRow`,endRow),checkNumber(`startColumn`,startColumn),checkNumber(`endColumn`,endColumn),startRow>endRow||startColumn>endColumn||startRow<0||startRow>=matrix.rows||endRow<0||endRow>=matrix.rows||startColumn<0||startColumn>=matrix.columns||endColumn<0||endColumn>=matrix.columns)throw RangeError(`Submatrix indices are out of range`)}function newArray(length,value=0){let array=[];for(let i$3=0;i$3<length;i$3++)array.push(value);return array}function checkNumber(name,value){if(typeof value!=`number`)throw TypeError(`${name} must be a number`)}function checkNonEmpty(matrix){if(matrix.isEmpty())throw Error(`Empty matrix has no elements to index`)}function sumByRow(matrix){let sum=newArray(matrix.rows);for(let i$3=0;i$3<matrix.rows;++i$3)for(let j$2=0;j$2<matrix.columns;++j$2)sum[i$3]+=matrix.get(i$3,j$2);return sum}function sumByColumn(matrix){let sum=newArray(matrix.columns);for(let i$3=0;i$3<matrix.rows;++i$3)for(let j$2=0;j$2<matrix.columns;++j$2)sum[j$2]+=matrix.get(i$3,j$2);return sum}function sumAll(matrix){let v$2=0;for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)v$2+=matrix.get(i$3,j$2);return v$2}function productByRow(matrix){let sum=newArray(matrix.rows,1);for(let i$3=0;i$3<matrix.rows;++i$3)for(let j$2=0;j$2<matrix.columns;++j$2)sum[i$3]*=matrix.get(i$3,j$2);return sum}function productByColumn(matrix){let sum=newArray(matrix.columns,1);for(let i$3=0;i$3<matrix.rows;++i$3)for(let j$2=0;j$2<matrix.columns;++j$2)sum[j$2]*=matrix.get(i$3,j$2);return sum}function productAll(matrix){let v$2=1;for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)v$2*=matrix.get(i$3,j$2);return v$2}function varianceByRow(matrix,unbiased,mean$2){let rows=matrix.rows,cols=matrix.columns,variance$1=[];for(let i$3=0;i$3<rows;i$3++){let sum1=0,sum2=0,x$2=0;for(let j$2=0;j$2<cols;j$2++)x$2=matrix.get(i$3,j$2)-mean$2[i$3],sum1+=x$2,sum2+=x$2*x$2;unbiased?variance$1.push((sum2-sum1*sum1/cols)/(cols-1)):variance$1.push((sum2-sum1*sum1/cols)/cols)}return variance$1}function varianceByColumn(matrix,unbiased,mean$2){let rows=matrix.rows,cols=matrix.columns,variance$1=[];for(let j$2=0;j$2<cols;j$2++){let sum1=0,sum2=0,x$2=0;for(let i$3=0;i$3<rows;i$3++)x$2=matrix.get(i$3,j$2)-mean$2[j$2],sum1+=x$2,sum2+=x$2*x$2;unbiased?variance$1.push((sum2-sum1*sum1/rows)/(rows-1)):variance$1.push((sum2-sum1*sum1/rows)/rows)}return variance$1}function varianceAll(matrix,unbiased,mean$2){let rows=matrix.rows,cols=matrix.columns,size=rows*cols,sum1=0,sum2=0,x$2=0;for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<cols;j$2++)x$2=matrix.get(i$3,j$2)-mean$2,sum1+=x$2,sum2+=x$2*x$2;return unbiased?(sum2-sum1*sum1/size)/(size-1):(sum2-sum1*sum1/size)/size}function centerByRow(matrix,mean$2){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)-mean$2[i$3])}function centerByColumn(matrix,mean$2){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)-mean$2[j$2])}function centerAll(matrix,mean$2){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)-mean$2)}function getScaleByRow(matrix){let scale=[];for(let i$3=0;i$3<matrix.rows;i$3++){let sum=0;for(let j$2=0;j$2<matrix.columns;j$2++)sum+=matrix.get(i$3,j$2)**2/(matrix.columns-1);scale.push(Math.sqrt(sum))}return scale}function scaleByRow(matrix,scale){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)/scale[i$3])}function getScaleByColumn(matrix){let scale=[];for(let j$2=0;j$2<matrix.columns;j$2++){let sum=0;for(let i$3=0;i$3<matrix.rows;i$3++)sum+=matrix.get(i$3,j$2)**2/(matrix.rows-1);scale.push(Math.sqrt(sum))}return scale}function scaleByColumn(matrix,scale){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)/scale[j$2])}function getScaleAll(matrix){let divider=matrix.size-1,sum=0;for(let j$2=0;j$2<matrix.columns;j$2++)for(let i$3=0;i$3<matrix.rows;i$3++)sum+=matrix.get(i$3,j$2)**2/divider;return Math.sqrt(sum)}function scaleAll(matrix,scale){for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)matrix.set(i$3,j$2,matrix.get(i$3,j$2)/scale)}var AbstractMatrix$1=class AbstractMatrix$1{static from1DArray(newRows,newColumns,newData){if(newRows*newColumns!==newData.length)throw RangeError(`data length does not match given dimensions`);let newMatrix=new Matrix$1(newRows,newColumns);for(let row=0;row<newRows;row++)for(let column=0;column<newColumns;column++)newMatrix.set(row,column,newData[row*newColumns+column]);return newMatrix}static rowVector(newData){let vector=new Matrix$1(1,newData.length);for(let i$3=0;i$3<newData.length;i$3++)vector.set(0,i$3,newData[i$3]);return vector}static columnVector(newData){let vector=new Matrix$1(newData.length,1);for(let i$3=0;i$3<newData.length;i$3++)vector.set(i$3,0,newData[i$3]);return vector}static zeros(rows,columns){return new Matrix$1(rows,columns)}static ones(rows,columns){return new Matrix$1(rows,columns).fill(1)}static rand(rows,columns,options$1={}){if(typeof options$1!=`object`)throw TypeError(`options must be an object`);let{random=Math.random}=options$1,matrix=new Matrix$1(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)matrix.set(i$3,j$2,random());return matrix}static randInt(rows,columns,options$1={}){if(typeof options$1!=`object`)throw TypeError(`options must be an object`);let{min:min$2=0,max:max$2=1e3,random=Math.random}=options$1;if(!Number.isInteger(min$2))throw TypeError(`min must be an integer`);if(!Number.isInteger(max$2))throw TypeError(`max must be an integer`);if(min$2>=max$2)throw RangeError(`min must be smaller than max`);let interval=max$2-min$2,matrix=new Matrix$1(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++){let value=min$2+Math.round(random()*interval);matrix.set(i$3,j$2,value)}return matrix}static eye(rows,columns,value){columns===void 0&&(columns=rows),value===void 0&&(value=1);let min$2=Math.min(rows,columns),matrix=this.zeros(rows,columns);for(let i$3=0;i$3<min$2;i$3++)matrix.set(i$3,i$3,value);return matrix}static diag(data,rows,columns){let l$2=data.length;rows===void 0&&(rows=l$2),columns===void 0&&(columns=rows);let min$2=Math.min(l$2,rows,columns),matrix=this.zeros(rows,columns);for(let i$3=0;i$3<min$2;i$3++)matrix.set(i$3,i$3,data[i$3]);return matrix}static min(matrix1,matrix2){matrix1=this.checkMatrix(matrix1),matrix2=this.checkMatrix(matrix2);let rows=matrix1.rows,columns=matrix1.columns,result=new Matrix$1(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)result.set(i$3,j$2,Math.min(matrix1.get(i$3,j$2),matrix2.get(i$3,j$2)));return result}static max(matrix1,matrix2){matrix1=this.checkMatrix(matrix1),matrix2=this.checkMatrix(matrix2);let rows=matrix1.rows,columns=matrix1.columns,result=new this(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)result.set(i$3,j$2,Math.max(matrix1.get(i$3,j$2),matrix2.get(i$3,j$2)));return result}static checkMatrix(value){return AbstractMatrix$1.isMatrix(value)?value:new Matrix$1(value)}static isMatrix(value){return value!=null&&value.klass===`Matrix`}get size(){return this.rows*this.columns}apply(callback){if(typeof callback!=`function`)throw TypeError(`callback must be a function`);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)callback.call(this,i$3,j$2);return this}to1DArray(){let array=[];for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)array.push(this.get(i$3,j$2));return array}to2DArray(){let copy=[];for(let i$3=0;i$3<this.rows;i$3++){copy.push([]);for(let j$2=0;j$2<this.columns;j$2++)copy[i$3].push(this.get(i$3,j$2))}return copy}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<=i$3;j$2++)if(this.get(i$3,j$2)!==this.get(j$2,i$3))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let i$3=0;i$3<this.rows;i$3++)if(this.get(i$3,i$3)!==0)return!1;return!0}isEchelonForm(){let i$3=0,j$2=0,previousColumn=-1,isEchelonForm=!0,checked=!1;for(;i$3<this.rows&&isEchelonForm;){for(j$2=0,checked=!1;j$2<this.columns&&checked===!1;)this.get(i$3,j$2)===0?j$2++:this.get(i$3,j$2)===1&&j$2>previousColumn?(checked=!0,previousColumn=j$2):(isEchelonForm=!1,checked=!0);i$3++}return isEchelonForm}isReducedEchelonForm(){let i$3=0,j$2=0,previousColumn=-1,isReducedEchelonForm=!0,checked=!1;for(;i$3<this.rows&&isReducedEchelonForm;){for(j$2=0,checked=!1;j$2<this.columns&&checked===!1;)this.get(i$3,j$2)===0?j$2++:this.get(i$3,j$2)===1&&j$2>previousColumn?(checked=!0,previousColumn=j$2):(isReducedEchelonForm=!1,checked=!0);for(let k$2=j$2+1;k$2<this.rows;k$2++)this.get(i$3,k$2)!==0&&(isReducedEchelonForm=!1);i$3++}return isReducedEchelonForm}echelonForm(){let result=this.clone(),h$3=0,k$2=0;for(;h$3<result.rows&&k$2<result.columns;){let iMax=h$3;for(let i$3=h$3;i$3<result.rows;i$3++)result.get(i$3,k$2)>result.get(iMax,k$2)&&(iMax=i$3);if(result.get(iMax,k$2)===0)k$2++;else{result.swapRows(h$3,iMax);let tmp=result.get(h$3,k$2);for(let j$2=k$2;j$2<result.columns;j$2++)result.set(h$3,j$2,result.get(h$3,j$2)/tmp);for(let i$3=h$3+1;i$3<result.rows;i$3++){let factor=result.get(i$3,k$2)/result.get(h$3,k$2);result.set(i$3,k$2,0);for(let j$2=k$2+1;j$2<result.columns;j$2++)result.set(i$3,j$2,result.get(i$3,j$2)-result.get(h$3,j$2)*factor)}h$3++,k$2++}}return result}reducedEchelonForm(){let result=this.echelonForm(),m$1=result.columns,n$3=result.rows,h$3=n$3-1;for(;h$3>=0;)if(result.maxRow(h$3)===0)h$3--;else{let p$3=0,pivot=!1;for(;p$3<n$3&&pivot===!1;)result.get(h$3,p$3)===1?pivot=!0:p$3++;for(let i$3=0;i$3<h$3;i$3++){let factor=result.get(i$3,p$3);for(let j$2=p$3;j$2<m$1;j$2++){let tmp=result.get(i$3,j$2)-factor*result.get(h$3,j$2);result.set(i$3,j$2,tmp)}}h$3--}return result}set(){throw Error(`set method is unimplemented`)}get(){throw Error(`get method is unimplemented`)}repeat(options$1={}){if(typeof options$1!=`object`)throw TypeError(`options must be an object`);let{rows=1,columns=1}=options$1;if(!Number.isInteger(rows)||rows<=0)throw TypeError(`rows must be a positive integer`);if(!Number.isInteger(columns)||columns<=0)throw TypeError(`columns must be a positive integer`);let matrix=new Matrix$1(this.rows*rows,this.columns*columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)matrix.setSubMatrix(this,this.rows*i$3,this.columns*j$2);return matrix}fill(value){for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,value);return this}neg(){return this.mulS(-1)}getRow(index$1){checkRowIndex(this,index$1);let row=[];for(let i$3=0;i$3<this.columns;i$3++)row.push(this.get(index$1,i$3));return row}getRowVector(index$1){return Matrix$1.rowVector(this.getRow(index$1))}setRow(index$1,array){checkRowIndex(this,index$1),array=checkRowVector(this,array);for(let i$3=0;i$3<this.columns;i$3++)this.set(index$1,i$3,array[i$3]);return this}swapRows(row1,row2){checkRowIndex(this,row1),checkRowIndex(this,row2);for(let i$3=0;i$3<this.columns;i$3++){let temp=this.get(row1,i$3);this.set(row1,i$3,this.get(row2,i$3)),this.set(row2,i$3,temp)}return this}getColumn(index$1){checkColumnIndex(this,index$1);let column=[];for(let i$3=0;i$3<this.rows;i$3++)column.push(this.get(i$3,index$1));return column}getColumnVector(index$1){return Matrix$1.columnVector(this.getColumn(index$1))}setColumn(index$1,array){checkColumnIndex(this,index$1),array=checkColumnVector(this,array);for(let i$3=0;i$3<this.rows;i$3++)this.set(i$3,index$1,array[i$3]);return this}swapColumns(column1,column2){checkColumnIndex(this,column1),checkColumnIndex(this,column2);for(let i$3=0;i$3<this.rows;i$3++){let temp=this.get(i$3,column1);this.set(i$3,column1,this.get(i$3,column2)),this.set(i$3,column2,temp)}return this}addRowVector(vector){vector=checkRowVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)+vector[j$2]);return this}subRowVector(vector){vector=checkRowVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)-vector[j$2]);return this}mulRowVector(vector){vector=checkRowVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)*vector[j$2]);return this}divRowVector(vector){vector=checkRowVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)/vector[j$2]);return this}addColumnVector(vector){vector=checkColumnVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)+vector[i$3]);return this}subColumnVector(vector){vector=checkColumnVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)-vector[i$3]);return this}mulColumnVector(vector){vector=checkColumnVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)*vector[i$3]);return this}divColumnVector(vector){vector=checkColumnVector(this,vector);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.set(i$3,j$2,this.get(i$3,j$2)/vector[i$3]);return this}mulRow(index$1,value){checkRowIndex(this,index$1);for(let i$3=0;i$3<this.columns;i$3++)this.set(index$1,i$3,this.get(index$1,i$3)*value);return this}mulColumn(index$1,value){checkColumnIndex(this,index$1);for(let i$3=0;i$3<this.rows;i$3++)this.set(i$3,index$1,this.get(i$3,index$1)*value);return this}max(by){if(this.isEmpty())return NaN;switch(by){case`row`:{let max$2=Array(this.rows).fill(-1/0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)>max$2[row]&&(max$2[row]=this.get(row,column));return max$2}case`column`:{let max$2=Array(this.columns).fill(-1/0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)>max$2[column]&&(max$2[column]=this.get(row,column));return max$2}case void 0:{let max$2=this.get(0,0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)>max$2&&(max$2=this.get(row,column));return max$2}default:throw Error(`invalid option: ${by}`)}}maxIndex(){checkNonEmpty(this);let v$2=this.get(0,0),idx=[0,0];for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.get(i$3,j$2)>v$2&&(v$2=this.get(i$3,j$2),idx[0]=i$3,idx[1]=j$2);return idx}min(by){if(this.isEmpty())return NaN;switch(by){case`row`:{let min$2=Array(this.rows).fill(1/0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)<min$2[row]&&(min$2[row]=this.get(row,column));return min$2}case`column`:{let min$2=Array(this.columns).fill(1/0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)<min$2[column]&&(min$2[column]=this.get(row,column));return min$2}case void 0:{let min$2=this.get(0,0);for(let row=0;row<this.rows;row++)for(let column=0;column<this.columns;column++)this.get(row,column)<min$2&&(min$2=this.get(row,column));return min$2}default:throw Error(`invalid option: ${by}`)}}minIndex(){checkNonEmpty(this);let v$2=this.get(0,0),idx=[0,0];for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)this.get(i$3,j$2)<v$2&&(v$2=this.get(i$3,j$2),idx[0]=i$3,idx[1]=j$2);return idx}maxRow(row){if(checkRowIndex(this,row),this.isEmpty())return NaN;let v$2=this.get(row,0);for(let i$3=1;i$3<this.columns;i$3++)this.get(row,i$3)>v$2&&(v$2=this.get(row,i$3));return v$2}maxRowIndex(row){checkRowIndex(this,row),checkNonEmpty(this);let v$2=this.get(row,0),idx=[row,0];for(let i$3=1;i$3<this.columns;i$3++)this.get(row,i$3)>v$2&&(v$2=this.get(row,i$3),idx[1]=i$3);return idx}minRow(row){if(checkRowIndex(this,row),this.isEmpty())return NaN;let v$2=this.get(row,0);for(let i$3=1;i$3<this.columns;i$3++)this.get(row,i$3)<v$2&&(v$2=this.get(row,i$3));return v$2}minRowIndex(row){checkRowIndex(this,row),checkNonEmpty(this);let v$2=this.get(row,0),idx=[row,0];for(let i$3=1;i$3<this.columns;i$3++)this.get(row,i$3)<v$2&&(v$2=this.get(row,i$3),idx[1]=i$3);return idx}maxColumn(column){if(checkColumnIndex(this,column),this.isEmpty())return NaN;let v$2=this.get(0,column);for(let i$3=1;i$3<this.rows;i$3++)this.get(i$3,column)>v$2&&(v$2=this.get(i$3,column));return v$2}maxColumnIndex(column){checkColumnIndex(this,column),checkNonEmpty(this);let v$2=this.get(0,column),idx=[0,column];for(let i$3=1;i$3<this.rows;i$3++)this.get(i$3,column)>v$2&&(v$2=this.get(i$3,column),idx[0]=i$3);return idx}minColumn(column){if(checkColumnIndex(this,column),this.isEmpty())return NaN;let v$2=this.get(0,column);for(let i$3=1;i$3<this.rows;i$3++)this.get(i$3,column)<v$2&&(v$2=this.get(i$3,column));return v$2}minColumnIndex(column){checkColumnIndex(this,column),checkNonEmpty(this);let v$2=this.get(0,column),idx=[0,column];for(let i$3=1;i$3<this.rows;i$3++)this.get(i$3,column)<v$2&&(v$2=this.get(i$3,column),idx[0]=i$3);return idx}diag(){let min$2=Math.min(this.rows,this.columns),diag=[];for(let i$3=0;i$3<min$2;i$3++)diag.push(this.get(i$3,i$3));return diag}norm(type=`frobenius`){switch(type){case`max`:return this.max();case`frobenius`:return Math.sqrt(this.dot(this));default:throw RangeError(`unknown norm type: ${type}`)}}cumulativeSum(){let sum=0;for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)sum+=this.get(i$3,j$2),this.set(i$3,j$2,sum);return this}dot(vector2){AbstractMatrix$1.isMatrix(vector2)&&(vector2=vector2.to1DArray());let vector1=this.to1DArray();if(vector1.length!==vector2.length)throw RangeError(`vectors do not have the same size`);let dot=0;for(let i$3=0;i$3<vector1.length;i$3++)dot+=vector1[i$3]*vector2[i$3];return dot}mmul(other){other=Matrix$1.checkMatrix(other);let m$1=this.rows,n$3=this.columns,p$3=other.columns,result=new Matrix$1(m$1,p$3),Bcolj=new Float64Array(n$3);for(let j$2=0;j$2<p$3;j$2++){for(let k$2=0;k$2<n$3;k$2++)Bcolj[k$2]=other.get(k$2,j$2);for(let i$3=0;i$3<m$1;i$3++){let s$2=0;for(let k$2=0;k$2<n$3;k$2++)s$2+=this.get(i$3,k$2)*Bcolj[k$2];result.set(i$3,j$2,s$2)}}return result}mpow(scalar){if(!this.isSquare())throw RangeError(`Matrix must be square`);if(!Number.isInteger(scalar)||scalar<0)throw RangeError(`Exponent must be a non-negative integer`);let result=Matrix$1.eye(this.rows),bb=this;for(let e$3=scalar;e$3>=1;e$3/=2)e$3&1&&(result=result.mmul(bb)),bb=bb.mmul(bb);return result}strassen2x2(other){other=Matrix$1.checkMatrix(other);let result=new Matrix$1(2,2),a11=this.get(0,0),b11=other.get(0,0),a12=this.get(0,1),b12=other.get(0,1),a21=this.get(1,0),b21=other.get(1,0),a22=this.get(1,1),b22=other.get(1,1),m1=(a11+a22)*(b11+b22),m2=(a21+a22)*b11,m3=a11*(b12-b22),m4=a22*(b21-b11),m5=(a11+a12)*b22,m6=(a21-a11)*(b11+b12),m7=(a12-a22)*(b21+b22),c00=m1+m4-m5+m7,c01=m3+m5,c10=m2+m4,c11=m1-m2+m3+m6;return result.set(0,0,c00),result.set(0,1,c01),result.set(1,0,c10),result.set(1,1,c11),result}strassen3x3(other){other=Matrix$1.checkMatrix(other);let result=new Matrix$1(3,3),a00=this.get(0,0),a01=this.get(0,1),a02=this.get(0,2),a10=this.get(1,0),a11=this.get(1,1),a12=this.get(1,2),a20=this.get(2,0),a21=this.get(2,1),a22=this.get(2,2),b00=other.get(0,0),b01=other.get(0,1),b02=other.get(0,2),b10=other.get(1,0),b11=other.get(1,1),b12=other.get(1,2),b20=other.get(2,0),b21=other.get(2,1),b22=other.get(2,2),m1=(a00+a01+a02-a10-a11-a21-a22)*b11,m2=(a00-a10)*(-b01+b11),m3=a11*(-b00+b01+b10-b11-b12-b20+b22),m4=(-a00+a10+a11)*(b00-b01+b11),m5=(a10+a11)*(-b00+b01),m6=a00*b00,m7=(-a00+a20+a21)*(b00-b02+b12),m8=(-a00+a20)*(b02-b12),m9=(a20+a21)*(-b00+b02),m10=(a00+a01+a02-a11-a12-a20-a21)*b12,m11=a21*(-b00+b02+b10-b11-b12-b20+b21),m12=(-a02+a21+a22)*(b11+b20-b21),m13=(a02-a22)*(b11-b21),m14=a02*b20,m15=(a21+a22)*(-b20+b21),m16=(-a02+a11+a12)*(b12+b20-b22),m17=(a02-a12)*(b12-b22),m18=(a11+a12)*(-b20+b22),m19=a01*b10,m20=a12*b21,m21=a10*b02,m22=a20*b01,m23=a22*b22,c00=m6+m14+m19,c01=m1+m4+m5+m6+m12+m14+m15,c02=m6+m7+m9+m10+m14+m16+m18,c10=m2+m3+m4+m6+m14+m16+m17,c11=m2+m4+m5+m6+m20,c12=m14+m16+m17+m18+m21,c20=m6+m7+m8+m11+m12+m13+m14,c21=m12+m13+m14+m15+m22,c22=m6+m7+m8+m9+m23;return result.set(0,0,c00),result.set(0,1,c01),result.set(0,2,c02),result.set(1,0,c10),result.set(1,1,c11),result.set(1,2,c12),result.set(2,0,c20),result.set(2,1,c21),result.set(2,2,c22),result}mmulStrassen(y$2){y$2=Matrix$1.checkMatrix(y$2);let x$2=this.clone(),r1=x$2.rows,c1=x$2.columns,r2=y$2.rows,c2=y$2.columns;c1!==r2&&console.warn(`Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`);function embed(mat,rows,cols){let r$4=mat.rows,c$3=mat.columns;if(r$4===rows&&c$3===cols)return mat;{let resultat=AbstractMatrix$1.zeros(rows,cols);return resultat=resultat.setSubMatrix(mat,0,0),resultat}}let r$3=Math.max(r1,r2),c$2=Math.max(c1,c2);x$2=embed(x$2,r$3,c$2),y$2=embed(y$2,r$3,c$2);function blockMult(a$3,b$3,rows,cols){if(rows<=512||cols<=512)return a$3.mmul(b$3);rows%2==1&&cols%2==1?(a$3=embed(a$3,rows+1,cols+1),b$3=embed(b$3,rows+1,cols+1)):rows%2==1?(a$3=embed(a$3,rows+1,cols),b$3=embed(b$3,rows+1,cols)):cols%2==1&&(a$3=embed(a$3,rows,cols+1),b$3=embed(b$3,rows,cols+1));let halfRows=parseInt(a$3.rows/2,10),halfCols=parseInt(a$3.columns/2,10),a11=a$3.subMatrix(0,halfRows-1,0,halfCols-1),b11=b$3.subMatrix(0,halfRows-1,0,halfCols-1),a12=a$3.subMatrix(0,halfRows-1,halfCols,a$3.columns-1),b12=b$3.subMatrix(0,halfRows-1,halfCols,b$3.columns-1),a21=a$3.subMatrix(halfRows,a$3.rows-1,0,halfCols-1),b21=b$3.subMatrix(halfRows,b$3.rows-1,0,halfCols-1),a22=a$3.subMatrix(halfRows,a$3.rows-1,halfCols,a$3.columns-1),b22=b$3.subMatrix(halfRows,b$3.rows-1,halfCols,b$3.columns-1),m1=blockMult(AbstractMatrix$1.add(a11,a22),AbstractMatrix$1.add(b11,b22),halfRows,halfCols),m2=blockMult(AbstractMatrix$1.add(a21,a22),b11,halfRows,halfCols),m3=blockMult(a11,AbstractMatrix$1.sub(b12,b22),halfRows,halfCols),m4=blockMult(a22,AbstractMatrix$1.sub(b21,b11),halfRows,halfCols),m5=blockMult(AbstractMatrix$1.add(a11,a12),b22,halfRows,halfCols),m6=blockMult(AbstractMatrix$1.sub(a21,a11),AbstractMatrix$1.add(b11,b12),halfRows,halfCols),m7=blockMult(AbstractMatrix$1.sub(a12,a22),AbstractMatrix$1.add(b21,b22),halfRows,halfCols),c11=AbstractMatrix$1.add(m1,m4);c11.sub(m5),c11.add(m7);let c12=AbstractMatrix$1.add(m3,m5),c21=AbstractMatrix$1.add(m2,m4),c22=AbstractMatrix$1.sub(m1,m2);c22.add(m3),c22.add(m6);let result=AbstractMatrix$1.zeros(2*c11.rows,2*c11.columns);return result=result.setSubMatrix(c11,0,0),result=result.setSubMatrix(c12,c11.rows,0),result=result.setSubMatrix(c21,0,c11.columns),result=result.setSubMatrix(c22,c11.rows,c11.columns),result.subMatrix(0,rows-1,0,cols-1)}return blockMult(x$2,y$2,r$3,c$2)}scaleRows(options$1={}){if(typeof options$1!=`object`)throw TypeError(`options must be an object`);let{min:min$2=0,max:max$2=1}=options$1;if(!Number.isFinite(min$2))throw TypeError(`min must be a number`);if(!Number.isFinite(max$2))throw TypeError(`max must be a number`);if(min$2>=max$2)throw RangeError(`min must be smaller than max`);let newMatrix=new Matrix$1(this.rows,this.columns);for(let i$3=0;i$3<this.rows;i$3++){let row=this.getRow(i$3);row.length>0&&rescale(row,{min:min$2,max:max$2,output:row}),newMatrix.setRow(i$3,row)}return newMatrix}scaleColumns(options$1={}){if(typeof options$1!=`object`)throw TypeError(`options must be an object`);let{min:min$2=0,max:max$2=1}=options$1;if(!Number.isFinite(min$2))throw TypeError(`min must be a number`);if(!Number.isFinite(max$2))throw TypeError(`max must be a number`);if(min$2>=max$2)throw RangeError(`min must be smaller than max`);let newMatrix=new Matrix$1(this.rows,this.columns);for(let i$3=0;i$3<this.columns;i$3++){let column=this.getColumn(i$3);column.length&&rescale(column,{min:min$2,max:max$2,output:column}),newMatrix.setColumn(i$3,column)}return newMatrix}flipRows(){let middle=Math.ceil(this.columns/2);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<middle;j$2++){let first=this.get(i$3,j$2),last=this.get(i$3,this.columns-1-j$2);this.set(i$3,j$2,last),this.set(i$3,this.columns-1-j$2,first)}return this}flipColumns(){let middle=Math.ceil(this.rows/2);for(let j$2=0;j$2<this.columns;j$2++)for(let i$3=0;i$3<middle;i$3++){let first=this.get(i$3,j$2),last=this.get(this.rows-1-i$3,j$2);this.set(i$3,j$2,last),this.set(this.rows-1-i$3,j$2,first)}return this}kroneckerProduct(other){other=Matrix$1.checkMatrix(other);let m$1=this.rows,n$3=this.columns,p$3=other.rows,q=other.columns,result=new Matrix$1(m$1*p$3,n$3*q);for(let i$3=0;i$3<m$1;i$3++)for(let j$2=0;j$2<n$3;j$2++)for(let k$2=0;k$2<p$3;k$2++)for(let l$2=0;l$2<q;l$2++)result.set(p$3*i$3+k$2,q*j$2+l$2,this.get(i$3,j$2)*other.get(k$2,l$2));return result}kroneckerSum(other){if(other=Matrix$1.checkMatrix(other),!this.isSquare()||!other.isSquare())throw Error(`Kronecker Sum needs two Square Matrices`);let m$1=this.rows,n$3=other.rows,AxI=this.kroneckerProduct(Matrix$1.eye(n$3,n$3)),IxB=Matrix$1.eye(m$1,m$1).kroneckerProduct(other);return AxI.add(IxB)}transpose(){let result=new Matrix$1(this.columns,this.rows);for(let i$3=0;i$3<this.rows;i$3++)for(let j$2=0;j$2<this.columns;j$2++)result.set(j$2,i$3,this.get(i$3,j$2));return result}sortRows(compareFunction=compareNumbers){for(let i$3=0;i$3<this.rows;i$3++)this.setRow(i$3,this.getRow(i$3).sort(compareFunction));return this}sortColumns(compareFunction=compareNumbers){for(let i$3=0;i$3<this.columns;i$3++)this.setColumn(i$3,this.getColumn(i$3).sort(compareFunction));return this}subMatrix(startRow,endRow,startColumn,endColumn){checkRange$1(this,startRow,endRow,startColumn,endColumn);let newMatrix=new Matrix$1(endRow-startRow+1,endColumn-startColumn+1);for(let i$3=startRow;i$3<=endRow;i$3++)for(let j$2=startColumn;j$2<=endColumn;j$2++)newMatrix.set(i$3-startRow,j$2-startColumn,this.get(i$3,j$2));return newMatrix}subMatrixRow(indices,startColumn,endColumn){if(startColumn===void 0&&(startColumn=0),endColumn===void 0&&(endColumn=this.columns-1),startColumn>endColumn||startColumn<0||startColumn>=this.columns||endColumn<0||endColumn>=this.columns)throw RangeError(`Argument out of range`);let newMatrix=new Matrix$1(indices.length,endColumn-startColumn+1);for(let i$3=0;i$3<indices.length;i$3++)for(let j$2=startColumn;j$2<=endColumn;j$2++){if(indices[i$3]<0||indices[i$3]>=this.rows)throw RangeError(`Row index out of range: ${indices[i$3]}`);newMatrix.set(i$3,j$2-startColumn,this.get(indices[i$3],j$2))}return newMatrix}subMatrixColumn(indices,startRow,endRow){if(startRow===void 0&&(startRow=0),endRow===void 0&&(endRow=this.rows-1),startRow>endRow||startRow<0||startRow>=this.rows||endRow<0||endRow>=this.rows)throw RangeError(`Argument out of range`);let newMatrix=new Matrix$1(endRow-startRow+1,indices.length);for(let i$3=0;i$3<indices.length;i$3++)for(let j$2=startRow;j$2<=endRow;j$2++){if(indices[i$3]<0||indices[i$3]>=this.columns)throw RangeError(`Column index out of range: ${indices[i$3]}`);newMatrix.set(j$2-startRow,i$3,this.get(j$2,indices[i$3]))}return newMatrix}setSubMatrix(matrix,startRow,startColumn){if(matrix=Matrix$1.checkMatrix(matrix),matrix.isEmpty())return this;let endRow=startRow+matrix.rows-1,endColumn=startColumn+matrix.columns-1;checkRange$1(this,startRow,endRow,startColumn,endColumn);for(let i$3=0;i$3<matrix.rows;i$3++)for(let j$2=0;j$2<matrix.columns;j$2++)this.set(startRow+i$3,startColumn+j$2,matrix.get(i$3,j$2));return this}selection(rowIndices,columnIndices){checkRowIndices(this,rowIndices),checkColumnIndices(this,columnIndices);let newMatrix=new Matrix$1(rowIndices.length,columnIndices.length);for(let i$3=0;i$3<rowIndices.length;i$3++){let rowIndex=rowIndices[i$3];for(let j$2=0;j$2<columnIndices.length;j$2++){let columnIndex=columnIndices[j$2];newMatrix.set(i$3,j$2,this.get(rowIndex,columnIndex))}}return newMatrix}trace(){let min$2=Math.min(this.rows,this.columns),trace=0;for(let i$3=0;i$3<min$2;i$3++)trace+=this.get(i$3,i$3);return trace}clone(){return this.constructor.copy(this,new Matrix$1(this.rows,this.columns))}static copy(from,to){for(let[row,column,value]of from.entries())to.set(row,column,value);return to}sum(by){switch(by){case`row`:return sumByRow(this);case`column`:return sumByColumn(this);case void 0:return sumAll(this);default:throw Error(`invalid option: ${by}`)}}product(by){switch(by){case`row`:return productByRow(this);case`column`:return productByColumn(this);case void 0:return productAll(this);default:throw Error(`invalid option: ${by}`)}}mean(by){let sum=this.sum(by);switch(by){case`row`:for(let i$3=0;i$3<this.rows;i$3++)sum[i$3]/=this.columns;return sum;case`column`:for(let i$3=0;i$3<this.columns;i$3++)sum[i$3]/=this.rows;return sum;case void 0:return sum/this.size;default:throw Error(`invalid option: ${by}`)}}variance(by,options$1={}){if(typeof by==`object`&&(options$1=by,by=void 0),typeof options$1!=`object`)throw TypeError(`options must be an object`);let{unbiased=!0,mean:mean$2=this.mean(by)}=options$1;if(typeof unbiased!=`boolean`)throw TypeError(`unbiased must be a boolean`);switch(by){case`row`:if(!isAnyArray$1.isAnyArray(mean$2))throw TypeError(`mean must be an array`);return varianceByRow(this,unbiased,mean$2);case`column`:if(!isAnyArray$1.isAnyArray(mean$2))throw TypeError(`mean must be an array`);return varianceByColumn(this,unbiased,mean$2);case void 0:if(typeof mean$2!=`number`)throw TypeError(`mean must be a number`);return varianceAll(this,unbiased,mean$2);default:throw Error(`invalid option: ${by}`)}}standardDeviation(by,options$1){typeof by==`object`&&(options$1=by,by=void 0);let variance$1=this.variance(by,options$1);if(by===void 0)return Math.sqrt(variance$1);for(let i$3=0;i$3<variance$1.length;i$3++)variance$1[i$3]=Math.sqrt(variance$1[i$3]);return variance$1}center(by,options$1={}){if(typeof by==`object`&&(options$1=by,by=void 0),typeof options$1!=`object`)throw TypeError(`options must be an object`);let{center=this.mean(by)}=options$1;switch(by){case`row`:if(!isAnyArray$1.isAnyArray(center))throw TypeError(`center must be an array`);return centerByRow(this,center),this;case`column`:if(!isAnyArray$1.isAnyArray(center))throw TypeError(`center must be an array`);return centerByColumn(this,center),this;case void 0:if(typeof center!=`number`)throw TypeError(`center must be a number`);return centerAll(this,center),this;default:throw Error(`invalid option: ${by}`)}}scale(by,options$1={}){if(typeof by==`object`&&(options$1=by,by=void 0),typeof options$1!=`object`)throw TypeError(`options must be an object`);let scale=options$1.scale;switch(by){case`row`:if(scale===void 0)scale=getScaleByRow(this);else if(!isAnyArray$1.isAnyArray(scale))throw TypeError(`scale must be an array`);return scaleByRow(this,scale),this;case`column`:if(scale===void 0)scale=getScaleByColumn(this);else if(!isAnyArray$1.isAnyArray(scale))throw TypeError(`scale must be an array`);return scaleByColumn(this,scale),this;case void 0:if(scale===void 0)scale=getScaleAll(this);else if(typeof scale!=`number`)throw TypeError(`scale must be a number`);return scaleAll(this,scale),this;default:throw Error(`invalid option: ${by}`)}}toString(options$1){return inspectMatrixWithOptions(this,options$1)}[Symbol.iterator](){return this.entries()}*entries(){for(let row=0;row<this.rows;row++)for(let col=0;col<this.columns;col++)yield[row,col,this.get(row,col)]}*values(){for(let row=0;row<this.rows;row++)for(let col=0;col<this.columns;col++)yield this.get(row,col)}};AbstractMatrix$1.prototype.klass=`Matrix`,typeof Symbol<`u`&&(AbstractMatrix$1.prototype[Symbol.for(`nodejs.util.inspect.custom`)]=inspectMatrix);function compareNumbers(a$3,b$3){return a$3-b$3}function isArrayOfNumbers(array){return array.every(element=>typeof element==`number`)}AbstractMatrix$1.random=AbstractMatrix$1.rand,AbstractMatrix$1.randomInt=AbstractMatrix$1.randInt,AbstractMatrix$1.diagonal=AbstractMatrix$1.diag,AbstractMatrix$1.prototype.diagonal=AbstractMatrix$1.prototype.diag,AbstractMatrix$1.identity=AbstractMatrix$1.eye,AbstractMatrix$1.prototype.negate=AbstractMatrix$1.prototype.neg,AbstractMatrix$1.prototype.tensorProduct=AbstractMatrix$1.prototype.kroneckerProduct;var Matrix$1=class Matrix$1 extends AbstractMatrix$1{data;#initData(nRows,nColumns){if(this.data=[],Number.isInteger(nColumns)&&nColumns>=0)for(let i$3=0;i$3<nRows;i$3++)this.data.push(new Float64Array(nColumns));else throw TypeError(`nColumns must be a positive integer`);this.rows=nRows,this.columns=nColumns}constructor(nRows,nColumns){if(super(),Matrix$1.isMatrix(nRows))this.#initData(nRows.rows,nRows.columns),Matrix$1.copy(nRows,this);else if(Number.isInteger(nRows)&&nRows>=0)this.#initData(nRows,nColumns);else if(isAnyArray$1.isAnyArray(nRows)){let arrayData=nRows;if(nRows=arrayData.length,nColumns=nRows?arrayData[0].length:0,typeof nColumns!=`number`)throw TypeError(`Data must be a 2D array with at least one element`);this.data=[];for(let i$3=0;i$3<nRows;i$3++){if(arrayData[i$3].length!==nColumns)throw RangeError(`Inconsistent array dimensions`);if(!isArrayOfNumbers(arrayData[i$3]))throw TypeError(`Input data contains non-numeric values`);this.data.push(Float64Array.from(arrayData[i$3]))}this.rows=nRows,this.columns=nColumns}else throw TypeError(`First argument must be a positive number or an array`)}set(rowIndex,columnIndex,value){return this.data[rowIndex][columnIndex]=value,this}get(rowIndex,columnIndex){return this.data[rowIndex][columnIndex]}removeRow(index$1){return checkRowIndex(this,index$1),this.data.splice(index$1,1),--this.rows,this}addRow(index$1,array){return array===void 0&&(array=index$1,index$1=this.rows),checkRowIndex(this,index$1,!0),array=Float64Array.from(checkRowVector(this,array)),this.data.splice(index$1,0,array),this.rows+=1,this}removeColumn(index$1){checkColumnIndex(this,index$1);for(let i$3=0;i$3<this.rows;i$3++){let newRow=new Float64Array(this.columns-1);for(let j$2=0;j$2<index$1;j$2++)newRow[j$2]=this.data[i$3][j$2];for(let j$2=index$1+1;j$2<this.columns;j$2++)newRow[j$2-1]=this.data[i$3][j$2];this.data[i$3]=newRow}return--this.columns,this}addColumn(index$1,array){array===void 0&&(array=index$1,index$1=this.columns),checkColumnIndex(this,index$1,!0),array=checkColumnVector(this,array);for(let i$3=0;i$3<this.rows;i$3++){let newRow=new Float64Array(this.columns+1),j$2=0;for(;j$2<index$1;j$2++)newRow[j$2]=this.data[i$3][j$2];for(newRow[j$2++]=array[i$3];j$2<this.columns+1;j$2++)newRow[j$2]=this.data[i$3][j$2-1];this.data[i$3]=newRow}return this.columns+=1,this}};installMathOperations(AbstractMatrix$1,Matrix$1);var SymmetricMatrix$1=class SymmetricMatrix$1 extends AbstractMatrix$1{#matrix;get size(){return this.#matrix.size}get rows(){return this.#matrix.rows}get columns(){return this.#matrix.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(value){return Matrix$1.isMatrix(value)&&value.klassType===`SymmetricMatrix`}static zeros(diagonalSize){return new this(diagonalSize)}static ones(diagonalSize){return new this(diagonalSize).fill(1)}constructor(diagonalSize){if(super(),Matrix$1.isMatrix(diagonalSize)){if(!diagonalSize.isSymmetric())throw TypeError(`not symmetric data`);this.#matrix=Matrix$1.copy(diagonalSize,new Matrix$1(diagonalSize.rows,diagonalSize.rows))}else if(Number.isInteger(diagonalSize)&&diagonalSize>=0)this.#matrix=new Matrix$1(diagonalSize,diagonalSize);else if(this.#matrix=new Matrix$1(diagonalSize),!this.isSymmetric())throw TypeError(`not symmetric data`)}clone(){let matrix=new SymmetricMatrix$1(this.diagonalSize);for(let[row,col,value]of this.upperRightEntries())matrix.set(row,col,value);return matrix}toMatrix(){return new Matrix$1(this)}get(rowIndex,columnIndex){return this.#matrix.get(rowIndex,columnIndex)}set(rowIndex,columnIndex,value){return this.#matrix.set(rowIndex,columnIndex,value),this.#matrix.set(columnIndex,rowIndex,value),this}removeCross(index$1){return this.#matrix.removeRow(index$1),this.#matrix.removeColumn(index$1),this}addCross(index$1,array){array===void 0&&(array=index$1,index$1=this.diagonalSize);let row=array.slice();return row.splice(index$1,1),this.#matrix.addRow(index$1,row),this.#matrix.addColumn(index$1,array),this}applyMask(mask){if(mask.length!==this.diagonalSize)throw RangeError(`Mask size do not match with matrix size`);let sidesToRemove=[];for(let[index$1,passthroughs]of mask.entries())passthroughs||sidesToRemove.push(index$1);sidesToRemove.reverse();for(let sideIndex of sidesToRemove)this.removeCross(sideIndex);return this}toCompact(){let{diagonalSize}=this,compact=Array(diagonalSize*(diagonalSize+1)/2);for(let col=0,row=0,index$1=0;index$1<compact.length;index$1++)compact[index$1]=this.get(row,col),++col>=diagonalSize&&(col=++row);return compact}static fromCompact(compact){let compactSize=compact.length,diagonalSize=(Math.sqrt(8*compactSize+1)-1)/2;if(!Number.isInteger(diagonalSize))throw TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(compact)}`);let matrix=new SymmetricMatrix$1(diagonalSize);for(let col=0,row=0,index$1=0;index$1<compactSize;index$1++)matrix.set(col,row,compact[index$1]),++col>=diagonalSize&&(col=++row);return matrix}*upperRightEntries(){for(let row=0,col=0;row<this.diagonalSize;){let value=this.get(row,col);yield[row,col,value],++col>=this.diagonalSize&&(col=++row)}}*upperRightValues(){for(let row=0,col=0;row<this.diagonalSize;)yield this.get(row,col),++col>=this.diagonalSize&&(col=++row)}};SymmetricMatrix$1.prototype.klassType=`SymmetricMatrix`;var DistanceMatrix$1=class DistanceMatrix$1 extends SymmetricMatrix$1{static isDistanceMatrix(value){return SymmetricMatrix$1.isSymmetricMatrix(value)&&value.klassSubType===`DistanceMatrix`}constructor(sideSize){if(super(sideSize),!this.isDistance())throw TypeError(`Provided arguments do no produce a distance matrix`)}set(rowIndex,columnIndex,value){return rowIndex===columnIndex&&(value=0),super.set(rowIndex,columnIndex,value)}addCross(index$1,array){return array===void 0&&(array=index$1,index$1=this.diagonalSize),array=array.slice(),array[index$1]=0,super.addCross(index$1,array)}toSymmetricMatrix(){return new SymmetricMatrix$1(this)}clone(){let matrix=new DistanceMatrix$1(this.diagonalSize);for(let[row,col,value]of this.upperRightEntries())row!==col&&matrix.set(row,col,value);return matrix}toCompact(){let{diagonalSize}=this,compactLength=(diagonalSize-1)*diagonalSize/2,compact=Array(compactLength);for(let col=1,row=0,index$1=0;index$1<compact.length;index$1++)compact[index$1]=this.get(row,col),++col>=diagonalSize&&(col=++row+1);return compact}static fromCompact(compact){let compactSize=compact.length;if(compactSize===0)return new this(0);let diagonalSize=(Math.sqrt(8*compactSize+1)+1)/2;if(!Number.isInteger(diagonalSize))throw TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(compact)}`);let matrix=new this(diagonalSize);for(let col=1,row=0,index$1=0;index$1<compactSize;index$1++)matrix.set(col,row,compact[index$1]),++col>=diagonalSize&&(col=++row+1);return matrix}};DistanceMatrix$1.prototype.klassSubType=`DistanceMatrix`;var BaseView=class extends AbstractMatrix$1{constructor(matrix,rows,columns){super(),this.matrix=matrix,this.rows=rows,this.columns=columns}},MatrixColumnView$1=class extends BaseView{constructor(matrix,column){checkColumnIndex(matrix,column),super(matrix,matrix.rows,1),this.column=column}set(rowIndex,columnIndex,value){return this.matrix.set(rowIndex,this.column,value),this}get(rowIndex){return this.matrix.get(rowIndex,this.column)}},MatrixColumnSelectionView$1=class extends BaseView{constructor(matrix,columnIndices){checkColumnIndices(matrix,columnIndices),super(matrix,matrix.rows,columnIndices.length),this.columnIndices=columnIndices}set(rowIndex,columnIndex,value){return this.matrix.set(rowIndex,this.columnIndices[columnIndex],value),this}get(rowIndex,columnIndex){return this.matrix.get(rowIndex,this.columnIndices[columnIndex])}},MatrixFlipColumnView$1=class extends BaseView{constructor(matrix){super(matrix,matrix.rows,matrix.columns)}set(rowIndex,columnIndex,value){return this.matrix.set(rowIndex,this.columns-columnIndex-1,value),this}get(rowIndex,columnIndex){return this.matrix.get(rowIndex,this.columns-columnIndex-1)}},MatrixFlipRowView$1=class extends BaseView{constructor(matrix){super(matrix,matrix.rows,matrix.columns)}set(rowIndex,columnIndex,value){return this.matrix.set(this.rows-rowIndex-1,columnIndex,value),this}get(rowIndex,columnIndex){return this.matrix.get(this.rows-rowIndex-1,columnIndex)}},MatrixRowView$1=class extends BaseView{constructor(matrix,row){checkRowIndex(matrix,row),super(matrix,1,matrix.columns),this.row=row}set(rowIndex,columnIndex,value){return this.matrix.set(this.row,columnIndex,value),this}get(rowIndex,columnIndex){return this.matrix.get(this.row,columnIndex)}},MatrixRowSelectionView$1=class extends BaseView{constructor(matrix,rowIndices){checkRowIndices(matrix,rowIndices),super(matrix,rowIndices.length,matrix.columns),this.rowIndices=rowIndices}set(rowIndex,columnIndex,value){return this.matrix.set(this.rowIndices[rowIndex],columnIndex,value),this}get(rowIndex,columnIndex){return this.matrix.get(this.rowIndices[rowIndex],columnIndex)}},MatrixSelectionView$1=class extends BaseView{constructor(matrix,rowIndices,columnIndices){checkRowIndices(matrix,rowIndices),checkColumnIndices(matrix,columnIndices),super(matrix,rowIndices.length,columnIndices.length),this.rowIndices=rowIndices,this.columnIndices=columnIndices}set(rowIndex,columnIndex,value){return this.matrix.set(this.rowIndices[rowIndex],this.columnIndices[columnIndex],value),this}get(rowIndex,columnIndex){return this.matrix.get(this.rowIndices[rowIndex],this.columnIndices[columnIndex])}},MatrixSubView$1=class extends BaseView{constructor(matrix,startRow,endRow,startColumn,endColumn){checkRange$1(matrix,startRow,endRow,startColumn,endColumn),super(matrix,endRow-startRow+1,endColumn-startColumn+1),this.startRow=startRow,this.startColumn=startColumn}set(rowIndex,columnIndex,value){return this.matrix.set(this.startRow+rowIndex,this.startColumn+columnIndex,value),this}get(rowIndex,columnIndex){return this.matrix.get(this.startRow+rowIndex,this.startColumn+columnIndex)}},MatrixTransposeView$1=class extends BaseView{constructor(matrix){super(matrix,matrix.columns,matrix.rows)}set(rowIndex,columnIndex,value){return this.matrix.set(columnIndex,rowIndex,value),this}get(rowIndex,columnIndex){return this.matrix.get(columnIndex,rowIndex)}},WrapperMatrix1D$1=class extends AbstractMatrix$1{constructor(data,options$1={}){let{rows=1}=options$1;if(data.length%rows!==0)throw Error(`the data length is not divisible by the number of rows`);super(),this.rows=rows,this.columns=data.length/rows,this.data=data}set(rowIndex,columnIndex,value){let index$1=this._calculateIndex(rowIndex,columnIndex);return this.data[index$1]=value,this}get(rowIndex,columnIndex){let index$1=this._calculateIndex(rowIndex,columnIndex);return this.data[index$1]}_calculateIndex(row,column){return row*this.columns+column}},WrapperMatrix2D$1=class extends AbstractMatrix$1{constructor(data){super(),this.data=data,this.rows=data.length,this.columns=data[0].length}set(rowIndex,columnIndex,value){return this.data[rowIndex][columnIndex]=value,this}get(rowIndex,columnIndex){return this.data[rowIndex][columnIndex]}};function wrap$1(array,options$1){if(isAnyArray$1.isAnyArray(array))return array[0]&&isAnyArray$1.isAnyArray(array[0])?new WrapperMatrix2D$1(array):new WrapperMatrix1D$1(array,options$1);throw Error(`the argument is not an array`)}var LuDecomposition$1=class{constructor(matrix){matrix=WrapperMatrix2D$1.checkMatrix(matrix);let lu=matrix.clone(),rows=lu.rows,columns=lu.columns,pivotVector=new Float64Array(rows),pivotSign=1,i$3,j$2,k$2,p$3,s$2,t$3,v$2,LUcolj,kmax;for(i$3=0;i$3<rows;i$3++)pivotVector[i$3]=i$3;for(LUcolj=new Float64Array(rows),j$2=0;j$2<columns;j$2++){for(i$3=0;i$3<rows;i$3++)LUcolj[i$3]=lu.get(i$3,j$2);for(i$3=0;i$3<rows;i$3++){for(kmax=Math.min(i$3,j$2),s$2=0,k$2=0;k$2<kmax;k$2++)s$2+=lu.get(i$3,k$2)*LUcolj[k$2];LUcolj[i$3]-=s$2,lu.set(i$3,j$2,LUcolj[i$3])}for(p$3=j$2,i$3=j$2+1;i$3<rows;i$3++)Math.abs(LUcolj[i$3])>Math.abs(LUcolj[p$3])&&(p$3=i$3);if(p$3!==j$2){for(k$2=0;k$2<columns;k$2++)t$3=lu.get(p$3,k$2),lu.set(p$3,k$2,lu.get(j$2,k$2)),lu.set(j$2,k$2,t$3);v$2=pivotVector[p$3],pivotVector[p$3]=pivotVector[j$2],pivotVector[j$2]=v$2,pivotSign=-pivotSign}if(j$2<rows&&lu.get(j$2,j$2)!==0)for(i$3=j$2+1;i$3<rows;i$3++)lu.set(i$3,j$2,lu.get(i$3,j$2)/lu.get(j$2,j$2))}this.LU=lu,this.pivotVector=pivotVector,this.pivotSign=pivotSign}isSingular(){let data=this.LU,col=data.columns;for(let j$2=0;j$2<col;j$2++)if(data.get(j$2,j$2)===0)return!0;return!1}solve(value){value=Matrix$1.checkMatrix(value);let lu=this.LU;if(lu.rows!==value.rows)throw Error(`Invalid matrix dimensions`);if(this.isSingular())throw Error(`LU matrix is singular`);let count=value.columns,X=value.subMatrixRow(this.pivotVector,0,count-1),columns=lu.columns,i$3,j$2,k$2;for(k$2=0;k$2<columns;k$2++)for(i$3=k$2+1;i$3<columns;i$3++)for(j$2=0;j$2<count;j$2++)X.set(i$3,j$2,X.get(i$3,j$2)-X.get(k$2,j$2)*lu.get(i$3,k$2));for(k$2=columns-1;k$2>=0;k$2--){for(j$2=0;j$2<count;j$2++)X.set(k$2,j$2,X.get(k$2,j$2)/lu.get(k$2,k$2));for(i$3=0;i$3<k$2;i$3++)for(j$2=0;j$2<count;j$2++)X.set(i$3,j$2,X.get(i$3,j$2)-X.get(k$2,j$2)*lu.get(i$3,k$2))}return X}get determinant(){let data=this.LU;if(!data.isSquare())throw Error(`Matrix must be square`);let determinant$2=this.pivotSign,col=data.columns;for(let j$2=0;j$2<col;j$2++)determinant$2*=data.get(j$2,j$2);return determinant$2}get lowerTriangularMatrix(){let data=this.LU,rows=data.rows,columns=data.columns,X=new Matrix$1(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)i$3>j$2?X.set(i$3,j$2,data.get(i$3,j$2)):i$3===j$2?X.set(i$3,j$2,1):X.set(i$3,j$2,0);return X}get upperTriangularMatrix(){let data=this.LU,rows=data.rows,columns=data.columns,X=new Matrix$1(rows,columns);for(let i$3=0;i$3<rows;i$3++)for(let j$2=0;j$2<columns;j$2++)i$3<=j$2?X.set(i$3,j$2,data.get(i$3,j$2)):X.set(i$3,j$2,0);return X}get pivotPermutationVector(){return Array.from(this.pivotVector)}};function hypotenuse$1(a$3,b$3){let r$3=0;return Math.abs(a$3)>Math.abs(b$3)?(r$3=b$3/a$3,Math.abs(a$3)*Math.sqrt(1+r$3*r$3)):b$3===0?0:(r$3=a$3/b$3,Math.abs(b$3)*Math.sqrt(1+r$3*r$3))}var QrDecomposition$1=class{constructor(value){value=WrapperMatrix2D$1.checkMatrix(value);let qr=value.clone(),m$1=value.rows,n$3=value.columns,rdiag=new Float64Array(n$3),i$3,j$2,k$2,s$2;for(k$2=0;k$2<n$3;k$2++){let nrm=0;for(i$3=k$2;i$3<m$1;i$3++)nrm=hypotenuse$1(nrm,qr.get(i$3,k$2));if(nrm!==0){for(qr.get(k$2,k$2)<0&&(nrm=-nrm),i$3=k$2;i$3<m$1;i$3++)qr.set(i$3,k$2,qr.get(i$3,k$2)/nrm);for(qr.set(k$2,k$2,qr.get(k$2,k$2)+1),j$2=k$2+1;j$2<n$3;j$2++){for(s$2=0,i$3=k$2;i$3<m$1;i$3++)s$2+=qr.get(i$3,k$2)*qr.get(i$3,j$2);for(s$2=-s$2/qr.get(k$2,k$2),i$3=k$2;i$3<m$1;i$3++)qr.set(i$3,j$2,qr.get(i$3,j$2)+s$2*qr.get(i$3,k$2))}}rdiag[k$2]=-nrm}this.QR=qr,this.Rdiag=rdiag}solve(value){value=Matrix$1.checkMatrix(value);let qr=this.QR,m$1=qr.rows;if(value.rows!==m$1)throw Error(`Matrix row dimensions must agree`);if(!this.isFullRank())throw Error(`Matrix is rank deficient`);let count=value.columns,X=value.clone(),n$3=qr.columns,i$3,j$2,k$2,s$2;for(k$2=0;k$2<n$3;k$2++)for(j$2=0;j$2<count;j$2++){for(s$2=0,i$3=k$2;i$3<m$1;i$3++)s$2+=qr.get(i$3,k$2)*X.get(i$3,j$2);for(s$2=-s$2/qr.get(k$2,k$2),i$3=k$2;i$3<m$1;i$3++)X.set(i$3,j$2,X.get(i$3,j$2)+s$2*qr.get(i$3,k$2))}for(k$2=n$3-1;k$2>=0;k$2--){for(j$2=0;j$2<count;j$2++)X.set(k$2,j$2,X.get(k$2,j$2)/this.Rdiag[k$2]);for(i$3=0;i$3<k$2;i$3++)for(j$2=0;j$2<count;j$2++)X.set(i$3,j$2,X.get(i$3,j$2)-X.get(k$2,j$2)*qr.get(i$3,k$2))}return X.subMatrix(0,n$3-1,0,count-1)}isFullRank(){let columns=this.QR.columns;for(let i$3=0;i$3<columns;i$3++)if(this.Rdiag[i$3]===0)return!1;return!0}get upperTriangularMatrix(){let qr=this.QR,n$3=qr.columns,X=new Matrix$1(n$3,n$3),i$3,j$2;for(i$3=0;i$3<n$3;i$3++)for(j$2=0;j$2<n$3;j$2++)i$3<j$2?X.set(i$3,j$2,qr.get(i$3,j$2)):i$3===j$2?X.set(i$3,j$2,this.Rdiag[i$3]):X.set(i$3,j$2,0);return X}get orthogonalMatrix(){let qr=this.QR,rows=qr.rows,columns=qr.columns,X=new Matrix$1(rows,columns),i$3,j$2,k$2,s$2;for(k$2=columns-1;k$2>=0;k$2--){for(i$3=0;i$3<rows;i$3++)X.set(i$3,k$2,0);for(X.set(k$2,k$2,1),j$2=k$2;j$2<columns;j$2++)if(qr.get(k$2,k$2)!==0){for(s$2=0,i$3=k$2;i$3<rows;i$3++)s$2+=qr.get(i$3,k$2)*X.get(i$3,j$2);for(s$2=-s$2/qr.get(k$2,k$2),i$3=k$2;i$3<rows;i$3++)X.set(i$3,j$2,X.get(i$3,j$2)+s$2*qr.get(i$3,k$2))}}return X}},SingularValueDecomposition$1=class{constructor(value,options$1={}){if(value=WrapperMatrix2D$1.checkMatrix(value),value.isEmpty())throw Error(`Matrix must be non-empty`);let m$1=value.rows,n$3=value.columns,{computeLeftSingularVectors=!0,computeRightSingularVectors=!0,autoTranspose=!1}=options$1,wantu=!!computeLeftSingularVectors,wantv=!!computeRightSingularVectors,swapped=!1,a$3;if(m$1<n$3)if(!autoTranspose)a$3=value.clone(),console.warn(`Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose`);else{a$3=value.transpose(),m$1=a$3.rows,n$3=a$3.columns,swapped=!0;let aux=wantu;wantu=wantv,wantv=aux}else a$3=value.clone();let nu=Math.min(m$1,n$3),ni=Math.min(m$1+1,n$3),s$2=new Float64Array(ni),U=new Matrix$1(m$1,nu),V=new Matrix$1(n$3,n$3),e$3=new Float64Array(n$3),work=new Float64Array(m$1),si=new Float64Array(ni);for(let i$3=0;i$3<ni;i$3++)si[i$3]=i$3;let nct=Math.min(m$1-1,n$3),nrt=Math.max(0,Math.min(n$3-2,m$1)),mrc=Math.max(nct,nrt);for(let k$2=0;k$2<mrc;k$2++){if(k$2<nct){s$2[k$2]=0;for(let i$3=k$2;i$3<m$1;i$3++)s$2[k$2]=hypotenuse$1(s$2[k$2],a$3.get(i$3,k$2));if(s$2[k$2]!==0){a$3.get(k$2,k$2)<0&&(s$2[k$2]=-s$2[k$2]);for(let i$3=k$2;i$3<m$1;i$3++)a$3.set(i$3,k$2,a$3.get(i$3,k$2)/s$2[k$2]);a$3.set(k$2,k$2,a$3.get(k$2,k$2)+1)}s$2[k$2]=-s$2[k$2]}for(let j$2=k$2+1;j$2<n$3;j$2++){if(k$2<nct&&s$2[k$2]!==0){let t$3=0;for(let i$3=k$2;i$3<m$1;i$3++)t$3+=a$3.get(i$3,k$2)*a$3.get(i$3,j$2);t$3=-t$3/a$3.get(k$2,k$2);for(let i$3=k$2;i$3<m$1;i$3++)a$3.set(i$3,j$2,a$3.get(i$3,j$2)+t$3*a$3.get(i$3,k$2))}e$3[j$2]=a$3.get(k$2,j$2)}if(wantu&&k$2<nct)for(let i$3=k$2;i$3<m$1;i$3++)U.set(i$3,k$2,a$3.get(i$3,k$2));if(k$2<nrt){e$3[k$2]=0;for(let i$3=k$2+1;i$3<n$3;i$3++)e$3[k$2]=hypotenuse$1(e$3[k$2],e$3[i$3]);if(e$3[k$2]!==0){e$3[k$2+1]<0&&(e$3[k$2]=0-e$3[k$2]);for(let i$3=k$2+1;i$3<n$3;i$3++)e$3[i$3]/=e$3[k$2];e$3[k$2+1]+=1}if(e$3[k$2]=-e$3[k$2],k$2+1<m$1&&e$3[k$2]!==0){for(let i$3=k$2+1;i$3<m$1;i$3++)work[i$3]=0;for(let i$3=k$2+1;i$3<m$1;i$3++)for(let j$2=k$2+1;j$2<n$3;j$2++)work[i$3]+=e$3[j$2]*a$3.get(i$3,j$2);for(let j$2=k$2+1;j$2<n$3;j$2++){let t$3=-e$3[j$2]/e$3[k$2+1];for(let i$3=k$2+1;i$3<m$1;i$3++)a$3.set(i$3,j$2,a$3.get(i$3,j$2)+t$3*work[i$3])}}if(wantv)for(let i$3=k$2+1;i$3<n$3;i$3++)V.set(i$3,k$2,e$3[i$3])}}let p$3=Math.min(n$3,m$1+1);if(nct<n$3&&(s$2[nct]=a$3.get(nct,nct)),m$1<p$3&&(s$2[p$3-1]=0),nrt+1<p$3&&(e$3[nrt]=a$3.get(nrt,p$3-1)),e$3[p$3-1]=0,wantu){for(let j$2=nct;j$2<nu;j$2++){for(let i$3=0;i$3<m$1;i$3++)U.set(i$3,j$2,0);U.set(j$2,j$2,1)}for(let k$2=nct-1;k$2>=0;k$2--)if(s$2[k$2]!==0){for(let j$2=k$2+1;j$2<nu;j$2++){let t$3=0;for(let i$3=k$2;i$3<m$1;i$3++)t$3+=U.get(i$3,k$2)*U.get(i$3,j$2);t$3=-t$3/U.get(k$2,k$2);for(let i$3=k$2;i$3<m$1;i$3++)U.set(i$3,j$2,U.get(i$3,j$2)+t$3*U.get(i$3,k$2))}for(let i$3=k$2;i$3<m$1;i$3++)U.set(i$3,k$2,-U.get(i$3,k$2));U.set(k$2,k$2,1+U.get(k$2,k$2));for(let i$3=0;i$3<k$2-1;i$3++)U.set(i$3,k$2,0)}else{for(let i$3=0;i$3<m$1;i$3++)U.set(i$3,k$2,0);U.set(k$2,k$2,1)}}if(wantv)for(let k$2=n$3-1;k$2>=0;k$2--){if(k$2<nrt&&e$3[k$2]!==0)for(let j$2=k$2+1;j$2<n$3;j$2++){let t$3=0;for(let i$3=k$2+1;i$3<n$3;i$3++)t$3+=V.get(i$3,k$2)*V.get(i$3,j$2);t$3=-t$3/V.get(k$2+1,k$2);for(let i$3=k$2+1;i$3<n$3;i$3++)V.set(i$3,j$2,V.get(i$3,j$2)+t$3*V.get(i$3,k$2))}for(let i$3=0;i$3<n$3;i$3++)V.set(i$3,k$2,0);V.set(k$2,k$2,1)}let pp=p$3-1,eps=2**-52;for(;p$3>0;){let k$2,kase;for(k$2=p$3-2;k$2>=-1&&k$2!==-1;k$2--){let alpha=Number.MIN_VALUE+eps*Math.abs(s$2[k$2]+Math.abs(s$2[k$2+1]));if(Math.abs(e$3[k$2])<=alpha||Number.isNaN(e$3[k$2])){e$3[k$2]=0;break}}if(k$2===p$3-2)kase=4;else{let ks;for(ks=p$3-1;ks>=k$2&&ks!==k$2;ks--){let t$3=(ks===p$3?0:Math.abs(e$3[ks]))+(ks===k$2+1?0:Math.abs(e$3[ks-1]));if(Math.abs(s$2[ks])<=eps*t$3){s$2[ks]=0;break}}ks===k$2?kase=3:ks===p$3-1?kase=1:(kase=2,k$2=ks)}switch(k$2++,kase){case 1:{let f$1=e$3[p$3-2];e$3[p$3-2]=0;for(let j$2=p$3-2;j$2>=k$2;j$2--){let t$3=hypotenuse$1(s$2[j$2],f$1),cs=s$2[j$2]/t$3,sn=f$1/t$3;if(s$2[j$2]=t$3,j$2!==k$2&&(f$1=-sn*e$3[j$2-1],e$3[j$2-1]=cs*e$3[j$2-1]),wantv)for(let i$3=0;i$3<n$3;i$3++)t$3=cs*V.get(i$3,j$2)+sn*V.get(i$3,p$3-1),V.set(i$3,p$3-1,-sn*V.get(i$3,j$2)+cs*V.get(i$3,p$3-1)),V.set(i$3,j$2,t$3)}break}case 2:{let f$1=e$3[k$2-1];e$3[k$2-1]=0;for(let j$2=k$2;j$2<p$3;j$2++){let t$3=hypotenuse$1(s$2[j$2],f$1),cs=s$2[j$2]/t$3,sn=f$1/t$3;if(s$2[j$2]=t$3,f$1=-sn*e$3[j$2],e$3[j$2]=cs*e$3[j$2],wantu)for(let i$3=0;i$3<m$1;i$3++)t$3=cs*U.get(i$3,j$2)+sn*U.get(i$3,k$2-1),U.set(i$3,k$2-1,-sn*U.get(i$3,j$2)+cs*U.get(i$3,k$2-1)),U.set(i$3,j$2,t$3)}break}case 3:{let scale=Math.max(Math.abs(s$2[p$3-1]),Math.abs(s$2[p$3-2]),Math.abs(e$3[p$3-2]),Math.abs(s$2[k$2]),Math.abs(e$3[k$2])),sp=s$2[p$3-1]/scale,spm1=s$2[p$3-2]/scale,epm1=e$3[p$3-2]/scale,sk=s$2[k$2]/scale,ek=e$3[k$2]/scale,b$3=((spm1+sp)*(spm1-sp)+epm1*epm1)/2,c$2=sp*epm1*(sp*epm1),shift=0;(b$3!==0||c$2!==0)&&(shift=b$3<0?0-Math.sqrt(b$3*b$3+c$2):Math.sqrt(b$3*b$3+c$2),shift=c$2/(b$3+shift));let f$1=(sk+sp)*(sk-sp)+shift,g$1=sk*ek;for(let j$2=k$2;j$2<p$3-1;j$2++){let t$3=hypotenuse$1(f$1,g$1);t$3===0&&(t$3=Number.MIN_VALUE);let cs=f$1/t$3,sn=g$1/t$3;if(j$2!==k$2&&(e$3[j$2-1]=t$3),f$1=cs*s$2[j$2]+sn*e$3[j$2],e$3[j$2]=cs*e$3[j$2]-sn*s$2[j$2],g$1=sn*s$2[j$2+1],s$2[j$2+1]=cs*s$2[j$2+1],wantv)for(let i$3=0;i$3<n$3;i$3++)t$3=cs*V.get(i$3,j$2)+sn*V.get(i$3,j$2+1),V.set(i$3,j$2+1,-sn*V.get(i$3,j$2)+cs*V.get(i$3,j$2+1)),V.set(i$3,j$2,t$3);if(t$3=hypotenuse$1(f$1,g$1),t$3===0&&(t$3=Number.MIN_VALUE),cs=f$1/t$3,sn=g$1/t$3,s$2[j$2]=t$3,f$1=cs*e$3[j$2]+sn*s$2[j$2+1],s$2[j$2+1]=-sn*e$3[j$2]+cs*s$2[j$2+1],g$1=sn*e$3[j$2+1],e$3[j$2+1]=cs*e$3[j$2+1],wantu&&j$2<m$1-1)for(let i$3=0;i$3<m$1;i$3++)t$3=cs*U.get(i$3,j$2)+sn*U.get(i$3,j$2+1),U.set(i$3,j$2+1,-sn*U.get(i$3,j$2)+cs*U.get(i$3,j$2+1)),U.set(i$3,j$2,t$3)}e$3[p$3-2]=f$1;break}case 4:if(s$2[k$2]<=0&&(s$2[k$2]=s$2[k$2]<0?-s$2[k$2]:0,wantv))for(let i$3=0;i$3<=pp;i$3++)V.set(i$3,k$2,-V.get(i$3,k$2));for(;k$2<pp&&!(s$2[k$2]>=s$2[k$2+1]);){let t$3=s$2[k$2];if(s$2[k$2]=s$2[k$2+1],s$2[k$2+1]=t$3,wantv&&k$2<n$3-1)for(let i$3=0;i$3<n$3;i$3++)t$3=V.get(i$3,k$2+1),V.set(i$3,k$2+1,V.get(i$3,k$2)),V.set(i$3,k$2,t$3);if(wantu&&k$2<m$1-1)for(let i$3=0;i$3<m$1;i$3++)t$3=U.get(i$3,k$2+1),U.set(i$3,k$2+1,U.get(i$3,k$2)),U.set(i$3,k$2,t$3);k$2++}p$3--;break}}if(swapped){let tmp=V;V=U,U=tmp}this.m=m$1,this.n=n$3,this.s=s$2,this.U=U,this.V=V}solve(value){let Y=value,e$3=this.threshold,scols=this.s.length,Ls=Matrix$1.zeros(scols,scols);for(let i$3=0;i$3<scols;i$3++)Math.abs(this.s[i$3])<=e$3?Ls.set(i$3,i$3,0):Ls.set(i$3,i$3,1/this.s[i$3]);let U=this.U,V=this.rightSingularVectors,VL=V.mmul(Ls),vrows=V.rows,urows=U.rows,VLU=Matrix$1.zeros(vrows,urows);for(let i$3=0;i$3<vrows;i$3++)for(let j$2=0;j$2<urows;j$2++){let sum=0;for(let k$2=0;k$2<scols;k$2++)sum+=VL.get(i$3,k$2)*U.get(j$2,k$2);VLU.set(i$3,j$2,sum)}return VLU.mmul(Y)}solveForDiagonal(value){return this.solve(Matrix$1.diag(value))}inverse(){let V=this.V,e$3=this.threshold,vrows=V.rows,vcols=V.columns,X=new Matrix$1(vrows,this.s.length);for(let i$3=0;i$3<vrows;i$3++)for(let j$2=0;j$2<vcols;j$2++)Math.abs(this.s[j$2])>e$3&&X.set(i$3,j$2,V.get(i$3,j$2)/this.s[j$2]);let U=this.U,urows=U.rows,ucols=U.columns,Y=new Matrix$1(vrows,urows);for(let i$3=0;i$3<vrows;i$3++)for(let j$2=0;j$2<urows;j$2++){let sum=0;for(let k$2=0;k$2<ucols;k$2++)sum+=X.get(i$3,k$2)*U.get(j$2,k$2);Y.set(i$3,j$2,sum)}return Y}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let tol=Math.max(this.m,this.n)*this.s[0]*2**-52,r$3=0,s$2=this.s;for(let i$3=0,ii=s$2.length;i$3<ii;i$3++)s$2[i$3]>tol&&r$3++;return r$3}get diagonal(){return Array.from(this.s)}get threshold(){return 2**-52/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$1.diag(this.s)}};function inverse$1(matrix,useSVD=!1){return matrix=WrapperMatrix2D$1.checkMatrix(matrix),useSVD?new SingularValueDecomposition$1(matrix).inverse():solve$1(matrix,Matrix$1.eye(matrix.rows))}function solve$1(leftHandSide,rightHandSide,useSVD=!1){return leftHandSide=WrapperMatrix2D$1.checkMatrix(leftHandSide),rightHandSide=WrapperMatrix2D$1.checkMatrix(rightHandSide),useSVD?new SingularValueDecomposition$1(leftHandSide).solve(rightHandSide):leftHandSide.isSquare()?new LuDecomposition$1(leftHandSide).solve(rightHandSide):new QrDecomposition$1(leftHandSide).solve(rightHandSide)}function determinant$1(matrix){if(matrix=Matrix$1.checkMatrix(matrix),matrix.isSquare()){if(matrix.columns===0)return 1;let a$3,b$3,c$2,d$2;if(matrix.columns===2)return a$3=matrix.get(0,0),b$3=matrix.get(0,1),c$2=matrix.get(1,0),d$2=matrix.get(1,1),a$3*d$2-b$3*c$2;if(matrix.columns===3){let subMatrix0,subMatrix1,subMatrix2;return subMatrix0=new MatrixSelectionView$1(matrix,[1,2],[1,2]),subMatrix1=new MatrixSelectionView$1(matrix,[1,2],[0,2]),subMatrix2=new MatrixSelectionView$1(matrix,[1,2],[0,1]),a$3=matrix.get(0,0),b$3=matrix.get(0,1),c$2=matrix.get(0,2),a$3*determinant$1(subMatrix0)-b$3*determinant$1(subMatrix1)+c$2*determinant$1(subMatrix2)}else return new LuDecomposition$1(matrix).determinant}else throw Error(`determinant can only be calculated for a square matrix`)}function xrange(n$3,exception){let range=[];for(let i$3=0;i$3<n$3;i$3++)i$3!==exception&&range.push(i$3);return range}function dependenciesOneRow(error,matrix,index$1,thresholdValue=1e-9,thresholdError=1e-9){if(error>thresholdError)return Array(matrix.rows+1).fill(0);{let returnArray=matrix.addRow(index$1,[0]);for(let i$3=0;i$3<returnArray.rows;i$3++)Math.abs(returnArray.get(i$3,0))<thresholdValue&&returnArray.set(i$3,0,0);return returnArray.to1DArray()}}function linearDependencies$1(matrix,options$1={}){let{thresholdValue=1e-9,thresholdError=1e-9}=options$1;matrix=Matrix$1.checkMatrix(matrix);let n$3=matrix.rows,results=new Matrix$1(n$3,n$3);for(let i$3=0;i$3<n$3;i$3++){let b$3=Matrix$1.columnVector(matrix.getRow(i$3)),Abis=matrix.subMatrixRow(xrange(n$3,i$3)).transpose(),x$2=new SingularValueDecomposition$1(Abis).solve(b$3),error=Matrix$1.sub(b$3,Abis.mmul(x$2)).abs().max();results.setRow(i$3,dependenciesOneRow(error,x$2,i$3,thresholdValue,thresholdError))}return results}function pseudoInverse$1(matrix,threshold$1=2**-52){if(matrix=Matrix$1.checkMatrix(matrix),matrix.isEmpty())return matrix.transpose();let svdSolution=new SingularValueDecomposition$1(matrix,{autoTranspose:!0}),U=svdSolution.leftSingularVectors,V=svdSolution.rightSingularVectors,s$2=svdSolution.diagonal;for(let i$3=0;i$3<s$2.length;i$3++)Math.abs(s$2[i$3])>threshold$1?s$2[i$3]=1/s$2[i$3]:s$2[i$3]=0;return V.mmul(Matrix$1.diag(s$2).mmul(U.transpose()))}function covariance$1(xMatrix,yMatrix=xMatrix,options$1={}){xMatrix=new Matrix$1(xMatrix);let yIsSame=!1;if(typeof yMatrix==`object`&&!Matrix$1.isMatrix(yMatrix)&&!isAnyArray$1.isAnyArray(yMatrix)?(options$1=yMatrix,yMatrix=xMatrix,yIsSame=!0):yMatrix=new Matrix$1(yMatrix),xMatrix.rows!==yMatrix.rows)throw TypeError(`Both matrices must have the same number of rows`);let{center=!0}=options$1;center&&(xMatrix=xMatrix.center(`column`),yIsSame||(yMatrix=yMatrix.center(`column`)));let cov=xMatrix.transpose().mmul(yMatrix);for(let i$3=0;i$3<cov.rows;i$3++)for(let j$2=0;j$2<cov.columns;j$2++)cov.set(i$3,j$2,cov.get(i$3,j$2)*(1/(xMatrix.rows-1)));return cov}function correlation$1(xMatrix,yMatrix=xMatrix,options$1={}){xMatrix=new Matrix$1(xMatrix);let yIsSame=!1;if(typeof yMatrix==`object`&&!Matrix$1.isMatrix(yMatrix)&&!isAnyArray$1.isAnyArray(yMatrix)?(options$1=yMatrix,yMatrix=xMatrix,yIsSame=!0):yMatrix=new Matrix$1(yMatrix),xMatrix.rows!==yMatrix.rows)throw TypeError(`Both matrices must have the same number of rows`);let{center=!0,scale=!0}=options$1;center&&(xMatrix.center(`column`),yIsSame||yMatrix.center(`column`)),scale&&(xMatrix.scale(`column`),yIsSame||yMatrix.scale(`column`));let sdx=xMatrix.standardDeviation(`column`,{unbiased:!0}),sdy=yIsSame?sdx:yMatrix.standardDeviation(`column`,{unbiased:!0}),corr=xMatrix.transpose().mmul(yMatrix);for(let i$3=0;i$3<corr.rows;i$3++)for(let j$2=0;j$2<corr.columns;j$2++)corr.set(i$3,j$2,corr.get(i$3,j$2)*(1/(sdx[i$3]*sdy[j$2]))*(1/(xMatrix.rows-1)));return corr}var EigenvalueDecomposition$1=class{constructor(matrix,options$1={}){let{assumeSymmetric=!1}=options$1;if(matrix=WrapperMatrix2D$1.checkMatrix(matrix),!matrix.isSquare())throw Error(`Matrix is not a square matrix`);if(matrix.isEmpty())throw Error(`Matrix must be non-empty`);let n$3=matrix.columns,V=new Matrix$1(n$3,n$3),d$2=new Float64Array(n$3),e$3=new Float64Array(n$3),value=matrix,i$3,j$2,isSymmetric=!1;if(isSymmetric=assumeSymmetric?!0:matrix.isSymmetric(),isSymmetric){for(i$3=0;i$3<n$3;i$3++)for(j$2=0;j$2<n$3;j$2++)V.set(i$3,j$2,value.get(i$3,j$2));tred2(n$3,e$3,d$2,V),tql2(n$3,e$3,d$2,V)}else{let H$1=new Matrix$1(n$3,n$3),ort=new Float64Array(n$3);for(j$2=0;j$2<n$3;j$2++)for(i$3=0;i$3<n$3;i$3++)H$1.set(i$3,j$2,value.get(i$3,j$2));orthes(n$3,H$1,ort,V),hqr2(n$3,e$3,d$2,V,H$1)}this.n=n$3,this.e=e$3,this.d=d$2,this.V=V}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let n$3=this.n,e$3=this.e,d$2=this.d,X=new Matrix$1(n$3,n$3),i$3,j$2;for(i$3=0;i$3<n$3;i$3++){for(j$2=0;j$2<n$3;j$2++)X.set(i$3,j$2,0);X.set(i$3,i$3,d$2[i$3]),e$3[i$3]>0?X.set(i$3,i$3+1,e$3[i$3]):e$3[i$3]<0&&X.set(i$3,i$3-1,e$3[i$3])}return X}};function tred2(n$3,e$3,d$2,V){let f$1,g$1,h$3,i$3,j$2,k$2,hh,scale;for(j$2=0;j$2<n$3;j$2++)d$2[j$2]=V.get(n$3-1,j$2);for(i$3=n$3-1;i$3>0;i$3--){for(scale=0,h$3=0,k$2=0;k$2<i$3;k$2++)scale+=Math.abs(d$2[k$2]);if(scale===0)for(e$3[i$3]=d$2[i$3-1],j$2=0;j$2<i$3;j$2++)d$2[j$2]=V.get(i$3-1,j$2),V.set(i$3,j$2,0),V.set(j$2,i$3,0);else{for(k$2=0;k$2<i$3;k$2++)d$2[k$2]/=scale,h$3+=d$2[k$2]*d$2[k$2];for(f$1=d$2[i$3-1],g$1=Math.sqrt(h$3),f$1>0&&(g$1=-g$1),e$3[i$3]=scale*g$1,h$3-=f$1*g$1,d$2[i$3-1]=f$1-g$1,j$2=0;j$2<i$3;j$2++)e$3[j$2]=0;for(j$2=0;j$2<i$3;j$2++){for(f$1=d$2[j$2],V.set(j$2,i$3,f$1),g$1=e$3[j$2]+V.get(j$2,j$2)*f$1,k$2=j$2+1;k$2<=i$3-1;k$2++)g$1+=V.get(k$2,j$2)*d$2[k$2],e$3[k$2]+=V.get(k$2,j$2)*f$1;e$3[j$2]=g$1}for(f$1=0,j$2=0;j$2<i$3;j$2++)e$3[j$2]/=h$3,f$1+=e$3[j$2]*d$2[j$2];for(hh=f$1/(h$3+h$3),j$2=0;j$2<i$3;j$2++)e$3[j$2]-=hh*d$2[j$2];for(j$2=0;j$2<i$3;j$2++){for(f$1=d$2[j$2],g$1=e$3[j$2],k$2=j$2;k$2<=i$3-1;k$2++)V.set(k$2,j$2,V.get(k$2,j$2)-(f$1*e$3[k$2]+g$1*d$2[k$2]));d$2[j$2]=V.get(i$3-1,j$2),V.set(i$3,j$2,0)}}d$2[i$3]=h$3}for(i$3=0;i$3<n$3-1;i$3++){if(V.set(n$3-1,i$3,V.get(i$3,i$3)),V.set(i$3,i$3,1),h$3=d$2[i$3+1],h$3!==0){for(k$2=0;k$2<=i$3;k$2++)d$2[k$2]=V.get(k$2,i$3+1)/h$3;for(j$2=0;j$2<=i$3;j$2++){for(g$1=0,k$2=0;k$2<=i$3;k$2++)g$1+=V.get(k$2,i$3+1)*V.get(k$2,j$2);for(k$2=0;k$2<=i$3;k$2++)V.set(k$2,j$2,V.get(k$2,j$2)-g$1*d$2[k$2])}}for(k$2=0;k$2<=i$3;k$2++)V.set(k$2,i$3+1,0)}for(j$2=0;j$2<n$3;j$2++)d$2[j$2]=V.get(n$3-1,j$2),V.set(n$3-1,j$2,0);V.set(n$3-1,n$3-1,1),e$3[0]=0}function tql2(n$3,e$3,d$2,V){let g$1,h$3,i$3,j$2,k$2,l$2,m$1,p$3,r$3,dl1,c$2,c2,c3,el1,s$2,s2;for(i$3=1;i$3<n$3;i$3++)e$3[i$3-1]=e$3[i$3];e$3[n$3-1]=0;let f$1=0,tst1=0,eps=2**-52;for(l$2=0;l$2<n$3;l$2++){for(tst1=Math.max(tst1,Math.abs(d$2[l$2])+Math.abs(e$3[l$2])),m$1=l$2;m$1<n$3&&!(Math.abs(e$3[m$1])<=eps*tst1);)m$1++;if(m$1>l$2)do{for(g$1=d$2[l$2],p$3=(d$2[l$2+1]-g$1)/(2*e$3[l$2]),r$3=hypotenuse$1(p$3,1),p$3<0&&(r$3=-r$3),d$2[l$2]=e$3[l$2]/(p$3+r$3),d$2[l$2+1]=e$3[l$2]*(p$3+r$3),dl1=d$2[l$2+1],h$3=g$1-d$2[l$2],i$3=l$2+2;i$3<n$3;i$3++)d$2[i$3]-=h$3;for(f$1+=h$3,p$3=d$2[m$1],c$2=1,c2=c$2,c3=c$2,el1=e$3[l$2+1],s$2=0,s2=0,i$3=m$1-1;i$3>=l$2;i$3--)for(c3=c2,c2=c$2,s2=s$2,g$1=c$2*e$3[i$3],h$3=c$2*p$3,r$3=hypotenuse$1(p$3,e$3[i$3]),e$3[i$3+1]=s$2*r$3,s$2=e$3[i$3]/r$3,c$2=p$3/r$3,p$3=c$2*d$2[i$3]-s$2*g$1,d$2[i$3+1]=h$3+s$2*(c$2*g$1+s$2*d$2[i$3]),k$2=0;k$2<n$3;k$2++)h$3=V.get(k$2,i$3+1),V.set(k$2,i$3+1,s$2*V.get(k$2,i$3)+c$2*h$3),V.set(k$2,i$3,c$2*V.get(k$2,i$3)-s$2*h$3);p$3=-s$2*s2*c3*el1*e$3[l$2]/dl1,e$3[l$2]=s$2*p$3,d$2[l$2]=c$2*p$3}while(Math.abs(e$3[l$2])>eps*tst1);d$2[l$2]=d$2[l$2]+f$1,e$3[l$2]=0}for(i$3=0;i$3<n$3-1;i$3++){for(k$2=i$3,p$3=d$2[i$3],j$2=i$3+1;j$2<n$3;j$2++)d$2[j$2]<p$3&&(k$2=j$2,p$3=d$2[j$2]);if(k$2!==i$3)for(d$2[k$2]=d$2[i$3],d$2[i$3]=p$3,j$2=0;j$2<n$3;j$2++)p$3=V.get(j$2,i$3),V.set(j$2,i$3,V.get(j$2,k$2)),V.set(j$2,k$2,p$3)}}function orthes(n$3,H$1,ort,V){let low=0,high=n$3-1,f$1,g$1,h$3,i$3,j$2,m$1,scale;for(m$1=1;m$1<=high-1;m$1++){for(scale=0,i$3=m$1;i$3<=high;i$3++)scale+=Math.abs(H$1.get(i$3,m$1-1));if(scale!==0){for(h$3=0,i$3=high;i$3>=m$1;i$3--)ort[i$3]=H$1.get(i$3,m$1-1)/scale,h$3+=ort[i$3]*ort[i$3];for(g$1=Math.sqrt(h$3),ort[m$1]>0&&(g$1=-g$1),h$3-=ort[m$1]*g$1,ort[m$1]=ort[m$1]-g$1,j$2=m$1;j$2<n$3;j$2++){for(f$1=0,i$3=high;i$3>=m$1;i$3--)f$1+=ort[i$3]*H$1.get(i$3,j$2);for(f$1/=h$3,i$3=m$1;i$3<=high;i$3++)H$1.set(i$3,j$2,H$1.get(i$3,j$2)-f$1*ort[i$3])}for(i$3=0;i$3<=high;i$3++){for(f$1=0,j$2=high;j$2>=m$1;j$2--)f$1+=ort[j$2]*H$1.get(i$3,j$2);for(f$1/=h$3,j$2=m$1;j$2<=high;j$2++)H$1.set(i$3,j$2,H$1.get(i$3,j$2)-f$1*ort[j$2])}ort[m$1]=scale*ort[m$1],H$1.set(m$1,m$1-1,scale*g$1)}}for(i$3=0;i$3<n$3;i$3++)for(j$2=0;j$2<n$3;j$2++)V.set(i$3,j$2,i$3===j$2?1:0);for(m$1=high-1;m$1>=1;m$1--)if(H$1.get(m$1,m$1-1)!==0){for(i$3=m$1+1;i$3<=high;i$3++)ort[i$3]=H$1.get(i$3,m$1-1);for(j$2=m$1;j$2<=high;j$2++){for(g$1=0,i$3=m$1;i$3<=high;i$3++)g$1+=ort[i$3]*V.get(i$3,j$2);for(g$1=g$1/ort[m$1]/H$1.get(m$1,m$1-1),i$3=m$1;i$3<=high;i$3++)V.set(i$3,j$2,V.get(i$3,j$2)+g$1*ort[i$3])}}}function hqr2(nn,e$3,d$2,V,H$1){let n$3=nn-1,low=0,high=nn-1,eps=2**-52,exshift=0,norm=0,p$3=0,q=0,r$3=0,s$2=0,z=0,iter=0,i$3,j$2,k$2,l$2,m$1,t$3,w$3,x$2,y$2,ra,sa,vr,vi,notlast,cdivres;for(i$3=0;i$3<nn;i$3++)for((i$3<0||i$3>high)&&(d$2[i$3]=H$1.get(i$3,i$3),e$3[i$3]=0),j$2=Math.max(i$3-1,0);j$2<nn;j$2++)norm+=Math.abs(H$1.get(i$3,j$2));for(;n$3>=0;){for(l$2=n$3;l$2>0&&(s$2=Math.abs(H$1.get(l$2-1,l$2-1))+Math.abs(H$1.get(l$2,l$2)),s$2===0&&(s$2=norm),!(Math.abs(H$1.get(l$2,l$2-1))<eps*s$2));)l$2--;if(l$2===n$3)H$1.set(n$3,n$3,H$1.get(n$3,n$3)+exshift),d$2[n$3]=H$1.get(n$3,n$3),e$3[n$3]=0,n$3--,iter=0;else if(l$2===n$3-1){if(w$3=H$1.get(n$3,n$3-1)*H$1.get(n$3-1,n$3),p$3=(H$1.get(n$3-1,n$3-1)-H$1.get(n$3,n$3))/2,q=p$3*p$3+w$3,z=Math.sqrt(Math.abs(q)),H$1.set(n$3,n$3,H$1.get(n$3,n$3)+exshift),H$1.set(n$3-1,n$3-1,H$1.get(n$3-1,n$3-1)+exshift),x$2=H$1.get(n$3,n$3),q>=0){for(z=p$3>=0?p$3+z:p$3-z,d$2[n$3-1]=x$2+z,d$2[n$3]=d$2[n$3-1],z!==0&&(d$2[n$3]=x$2-w$3/z),e$3[n$3-1]=0,e$3[n$3]=0,x$2=H$1.get(n$3,n$3-1),s$2=Math.abs(x$2)+Math.abs(z),p$3=x$2/s$2,q=z/s$2,r$3=Math.sqrt(p$3*p$3+q*q),p$3/=r$3,q/=r$3,j$2=n$3-1;j$2<nn;j$2++)z=H$1.get(n$3-1,j$2),H$1.set(n$3-1,j$2,q*z+p$3*H$1.get(n$3,j$2)),H$1.set(n$3,j$2,q*H$1.get(n$3,j$2)-p$3*z);for(i$3=0;i$3<=n$3;i$3++)z=H$1.get(i$3,n$3-1),H$1.set(i$3,n$3-1,q*z+p$3*H$1.get(i$3,n$3)),H$1.set(i$3,n$3,q*H$1.get(i$3,n$3)-p$3*z);for(i$3=0;i$3<=high;i$3++)z=V.get(i$3,n$3-1),V.set(i$3,n$3-1,q*z+p$3*V.get(i$3,n$3)),V.set(i$3,n$3,q*V.get(i$3,n$3)-p$3*z)}else d$2[n$3-1]=x$2+p$3,d$2[n$3]=x$2+p$3,e$3[n$3-1]=z,e$3[n$3]=-z;n$3-=2,iter=0}else{if(x$2=H$1.get(n$3,n$3),y$2=0,w$3=0,l$2<n$3&&(y$2=H$1.get(n$3-1,n$3-1),w$3=H$1.get(n$3,n$3-1)*H$1.get(n$3-1,n$3)),iter===10){for(exshift+=x$2,i$3=0;i$3<=n$3;i$3++)H$1.set(i$3,i$3,H$1.get(i$3,i$3)-x$2);s$2=Math.abs(H$1.get(n$3,n$3-1))+Math.abs(H$1.get(n$3-1,n$3-2)),x$2=y$2=.75*s$2,w$3=-.4375*s$2*s$2}if(iter===30&&(s$2=(y$2-x$2)/2,s$2=s$2*s$2+w$3,s$2>0)){for(s$2=Math.sqrt(s$2),y$2<x$2&&(s$2=-s$2),s$2=x$2-w$3/((y$2-x$2)/2+s$2),i$3=0;i$3<=n$3;i$3++)H$1.set(i$3,i$3,H$1.get(i$3,i$3)-s$2);exshift+=s$2,x$2=y$2=w$3=.964}for(iter+=1,m$1=n$3-2;m$1>=l$2&&(z=H$1.get(m$1,m$1),r$3=x$2-z,s$2=y$2-z,p$3=(r$3*s$2-w$3)/H$1.get(m$1+1,m$1)+H$1.get(m$1,m$1+1),q=H$1.get(m$1+1,m$1+1)-z-r$3-s$2,r$3=H$1.get(m$1+2,m$1+1),s$2=Math.abs(p$3)+Math.abs(q)+Math.abs(r$3),p$3/=s$2,q/=s$2,r$3/=s$2,!(m$1===l$2||Math.abs(H$1.get(m$1,m$1-1))*(Math.abs(q)+Math.abs(r$3))<eps*(Math.abs(p$3)*(Math.abs(H$1.get(m$1-1,m$1-1))+Math.abs(z)+Math.abs(H$1.get(m$1+1,m$1+1))))));)m$1--;for(i$3=m$1+2;i$3<=n$3;i$3++)H$1.set(i$3,i$3-2,0),i$3>m$1+2&&H$1.set(i$3,i$3-3,0);for(k$2=m$1;k$2<=n$3-1&&(notlast=k$2!==n$3-1,k$2!==m$1&&(p$3=H$1.get(k$2,k$2-1),q=H$1.get(k$2+1,k$2-1),r$3=notlast?H$1.get(k$2+2,k$2-1):0,x$2=Math.abs(p$3)+Math.abs(q)+Math.abs(r$3),x$2!==0&&(p$3/=x$2,q/=x$2,r$3/=x$2)),x$2!==0);k$2++)if(s$2=Math.sqrt(p$3*p$3+q*q+r$3*r$3),p$3<0&&(s$2=-s$2),s$2!==0){for(k$2===m$1?l$2!==m$1&&H$1.set(k$2,k$2-1,-H$1.get(k$2,k$2-1)):H$1.set(k$2,k$2-1,-s$2*x$2),p$3+=s$2,x$2=p$3/s$2,y$2=q/s$2,z=r$3/s$2,q/=p$3,r$3/=p$3,j$2=k$2;j$2<nn;j$2++)p$3=H$1.get(k$2,j$2)+q*H$1.get(k$2+1,j$2),notlast&&(p$3+=r$3*H$1.get(k$2+2,j$2),H$1.set(k$2+2,j$2,H$1.get(k$2+2,j$2)-p$3*z)),H$1.set(k$2,j$2,H$1.get(k$2,j$2)-p$3*x$2),H$1.set(k$2+1,j$2,H$1.get(k$2+1,j$2)-p$3*y$2);for(i$3=0;i$3<=Math.min(n$3,k$2+3);i$3++)p$3=x$2*H$1.get(i$3,k$2)+y$2*H$1.get(i$3,k$2+1),notlast&&(p$3+=z*H$1.get(i$3,k$2+2),H$1.set(i$3,k$2+2,H$1.get(i$3,k$2+2)-p$3*r$3)),H$1.set(i$3,k$2,H$1.get(i$3,k$2)-p$3),H$1.set(i$3,k$2+1,H$1.get(i$3,k$2+1)-p$3*q);for(i$3=0;i$3<=high;i$3++)p$3=x$2*V.get(i$3,k$2)+y$2*V.get(i$3,k$2+1),notlast&&(p$3+=z*V.get(i$3,k$2+2),V.set(i$3,k$2+2,V.get(i$3,k$2+2)-p$3*r$3)),V.set(i$3,k$2,V.get(i$3,k$2)-p$3),V.set(i$3,k$2+1,V.get(i$3,k$2+1)-p$3*q)}}}if(norm!==0){for(n$3=nn-1;n$3>=0;n$3--)if(p$3=d$2[n$3],q=e$3[n$3],q===0)for(l$2=n$3,H$1.set(n$3,n$3,1),i$3=n$3-1;i$3>=0;i$3--){for(w$3=H$1.get(i$3,i$3)-p$3,r$3=0,j$2=l$2;j$2<=n$3;j$2++)r$3+=H$1.get(i$3,j$2)*H$1.get(j$2,n$3);if(e$3[i$3]<0)z=w$3,s$2=r$3;else if(l$2=i$3,e$3[i$3]===0?H$1.set(i$3,n$3,w$3===0?-r$3/(eps*norm):-r$3/w$3):(x$2=H$1.get(i$3,i$3+1),y$2=H$1.get(i$3+1,i$3),q=(d$2[i$3]-p$3)*(d$2[i$3]-p$3)+e$3[i$3]*e$3[i$3],t$3=(x$2*s$2-z*r$3)/q,H$1.set(i$3,n$3,t$3),H$1.set(i$3+1,n$3,Math.abs(x$2)>Math.abs(z)?(-r$3-w$3*t$3)/x$2:(-s$2-y$2*t$3)/z)),t$3=Math.abs(H$1.get(i$3,n$3)),eps*t$3*t$3>1)for(j$2=i$3;j$2<=n$3;j$2++)H$1.set(j$2,n$3,H$1.get(j$2,n$3)/t$3)}else if(q<0)for(l$2=n$3-1,Math.abs(H$1.get(n$3,n$3-1))>Math.abs(H$1.get(n$3-1,n$3))?(H$1.set(n$3-1,n$3-1,q/H$1.get(n$3,n$3-1)),H$1.set(n$3-1,n$3,-(H$1.get(n$3,n$3)-p$3)/H$1.get(n$3,n$3-1))):(cdivres=cdiv(0,-H$1.get(n$3-1,n$3),H$1.get(n$3-1,n$3-1)-p$3,q),H$1.set(n$3-1,n$3-1,cdivres[0]),H$1.set(n$3-1,n$3,cdivres[1])),H$1.set(n$3,n$3-1,0),H$1.set(n$3,n$3,1),i$3=n$3-2;i$3>=0;i$3--){for(ra=0,sa=0,j$2=l$2;j$2<=n$3;j$2++)ra+=H$1.get(i$3,j$2)*H$1.get(j$2,n$3-1),sa+=H$1.get(i$3,j$2)*H$1.get(j$2,n$3);if(w$3=H$1.get(i$3,i$3)-p$3,e$3[i$3]<0)z=w$3,r$3=ra,s$2=sa;else if(l$2=i$3,e$3[i$3]===0?(cdivres=cdiv(-ra,-sa,w$3,q),H$1.set(i$3,n$3-1,cdivres[0]),H$1.set(i$3,n$3,cdivres[1])):(x$2=H$1.get(i$3,i$3+1),y$2=H$1.get(i$3+1,i$3),vr=(d$2[i$3]-p$3)*(d$2[i$3]-p$3)+e$3[i$3]*e$3[i$3]-q*q,vi=(d$2[i$3]-p$3)*2*q,vr===0&&vi===0&&(vr=eps*norm*(Math.abs(w$3)+Math.abs(q)+Math.abs(x$2)+Math.abs(y$2)+Math.abs(z))),cdivres=cdiv(x$2*r$3-z*ra+q*sa,x$2*s$2-z*sa-q*ra,vr,vi),H$1.set(i$3,n$3-1,cdivres[0]),H$1.set(i$3,n$3,cdivres[1]),Math.abs(x$2)>Math.abs(z)+Math.abs(q)?(H$1.set(i$3+1,n$3-1,(-ra-w$3*H$1.get(i$3,n$3-1)+q*H$1.get(i$3,n$3))/x$2),H$1.set(i$3+1,n$3,(-sa-w$3*H$1.get(i$3,n$3)-q*H$1.get(i$3,n$3-1))/x$2)):(cdivres=cdiv(-r$3-y$2*H$1.get(i$3,n$3-1),-s$2-y$2*H$1.get(i$3,n$3),z,q),H$1.set(i$3+1,n$3-1,cdivres[0]),H$1.set(i$3+1,n$3,cdivres[1]))),t$3=Math.max(Math.abs(H$1.get(i$3,n$3-1)),Math.abs(H$1.get(i$3,n$3))),eps*t$3*t$3>1)for(j$2=i$3;j$2<=n$3;j$2++)H$1.set(j$2,n$3-1,H$1.get(j$2,n$3-1)/t$3),H$1.set(j$2,n$3,H$1.get(j$2,n$3)/t$3)}for(i$3=0;i$3<nn;i$3++)if(i$3<0||i$3>high)for(j$2=i$3;j$2<nn;j$2++)V.set(i$3,j$2,H$1.get(i$3,j$2));for(j$2=nn-1;j$2>=0;j$2--)for(i$3=0;i$3<=high;i$3++){for(z=0,k$2=0;k$2<=Math.min(j$2,high);k$2++)z+=V.get(i$3,k$2)*H$1.get(k$2,j$2);V.set(i$3,j$2,z)}}}function cdiv(xr,xi,yr,yi){let r$3,d$2;return Math.abs(yr)>Math.abs(yi)?(r$3=yi/yr,d$2=yr+r$3*yi,[(xr+r$3*xi)/d$2,(xi-r$3*xr)/d$2]):(r$3=yr/yi,d$2=yi+r$3*yr,[(r$3*xr+xi)/d$2,(r$3*xi-xr)/d$2])}var CholeskyDecomposition$1=class{constructor(value){if(value=WrapperMatrix2D$1.checkMatrix(value),!value.isSymmetric())throw Error(`Matrix is not symmetric`);let a$3=value,dimension=a$3.rows,l$2=new Matrix$1(dimension,dimension),positiveDefinite=!0,i$3,j$2,k$2;for(j$2=0;j$2<dimension;j$2++){let d$2=0;for(k$2=0;k$2<j$2;k$2++){let s$2=0;for(i$3=0;i$3<k$2;i$3++)s$2+=l$2.get(k$2,i$3)*l$2.get(j$2,i$3);s$2=(a$3.get(j$2,k$2)-s$2)/l$2.get(k$2,k$2),l$2.set(j$2,k$2,s$2),d$2+=s$2*s$2}for(d$2=a$3.get(j$2,j$2)-d$2,positiveDefinite&&=d$2>0,l$2.set(j$2,j$2,Math.sqrt(Math.max(d$2,0))),k$2=j$2+1;k$2<dimension;k$2++)l$2.set(j$2,k$2,0)}this.L=l$2,this.positiveDefinite=positiveDefinite}isPositiveDefinite(){return this.positiveDefinite}solve(value){value=WrapperMatrix2D$1.checkMatrix(value);let l$2=this.L,dimension=l$2.rows;if(value.rows!==dimension)throw Error(`Matrix dimensions do not match`);if(this.isPositiveDefinite()===!1)throw Error(`Matrix is not positive definite`);let count=value.columns,B$1=value.clone(),i$3,j$2,k$2;for(k$2=0;k$2<dimension;k$2++)for(j$2=0;j$2<count;j$2++){for(i$3=0;i$3<k$2;i$3++)B$1.set(k$2,j$2,B$1.get(k$2,j$2)-B$1.get(i$3,j$2)*l$2.get(k$2,i$3));B$1.set(k$2,j$2,B$1.get(k$2,j$2)/l$2.get(k$2,k$2))}for(k$2=dimension-1;k$2>=0;k$2--)for(j$2=0;j$2<count;j$2++){for(i$3=k$2+1;i$3<dimension;i$3++)B$1.set(k$2,j$2,B$1.get(k$2,j$2)-B$1.get(i$3,j$2)*l$2.get(i$3,k$2));B$1.set(k$2,j$2,B$1.get(k$2,j$2)/l$2.get(k$2,k$2))}return B$1}get lowerTriangularMatrix(){return this.L}},nipals=class{constructor(X,options$1={}){X=WrapperMatrix2D$1.checkMatrix(X);let{Y}=options$1,{scaleScores=!1,maxIterations=1e3,terminationCriteria=1e-10}=options$1,u$2;if(Y){if(Y=isAnyArray$1.isAnyArray(Y)&&typeof Y[0]==`number`?Matrix$1.columnVector(Y):WrapperMatrix2D$1.checkMatrix(Y),Y.rows!==X.rows)throw Error(`Y should have the same number of rows as X`);u$2=Y.getColumnVector(0)}else u$2=X.getColumnVector(0);let diff=1,t$3,q,w$3,tOld;for(let counter=0;counter<maxIterations&&diff>terminationCriteria;counter++)w$3=X.transpose().mmul(u$2).div(u$2.transpose().mmul(u$2).get(0,0)),w$3=w$3.div(w$3.norm()),t$3=X.mmul(w$3).div(w$3.transpose().mmul(w$3).get(0,0)),counter>0&&(diff=t$3.clone().sub(tOld).pow(2).sum()),tOld=t$3.clone(),Y?(q=Y.transpose().mmul(t$3).div(t$3.transpose().mmul(t$3).get(0,0)),q=q.div(q.norm()),u$2=Y.mmul(q).div(q.transpose().mmul(q).get(0,0))):u$2=t$3;if(Y){let p$3=X.transpose().mmul(t$3).div(t$3.transpose().mmul(t$3).get(0,0));p$3=p$3.div(p$3.norm());let xResidual=X.clone().sub(t$3.clone().mmul(p$3.transpose())),residual=u$2.transpose().mmul(t$3).div(t$3.transpose().mmul(t$3).get(0,0)),yResidual=Y.clone().sub(t$3.clone().mulS(residual.get(0,0)).mmul(q.transpose()));this.t=t$3,this.p=p$3.transpose(),this.w=w$3.transpose(),this.q=q,this.u=u$2,this.s=t$3.transpose().mmul(t$3),this.xResidual=xResidual,this.yResidual=yResidual,this.betas=residual}else this.w=w$3.transpose(),this.s=t$3.transpose().mmul(t$3).sqrt(),scaleScores?this.t=t$3.clone().div(this.s.get(0,0)):this.t=t$3,this.xResidual=X.sub(t$3.mmul(w$3.transpose()))}};exports.AbstractMatrix=AbstractMatrix$1,exports.CHO=CholeskyDecomposition$1,exports.CholeskyDecomposition=CholeskyDecomposition$1,exports.DistanceMatrix=DistanceMatrix$1,exports.EVD=EigenvalueDecomposition$1,exports.EigenvalueDecomposition=EigenvalueDecomposition$1,exports.LU=LuDecomposition$1,exports.LuDecomposition=LuDecomposition$1,exports.Matrix=Matrix$1,exports.MatrixColumnSelectionView=MatrixColumnSelectionView$1,exports.MatrixColumnView=MatrixColumnView$1,exports.MatrixFlipColumnView=MatrixFlipColumnView$1,exports.MatrixFlipRowView=MatrixFlipRowView$1,exports.MatrixRowSelectionView=MatrixRowSelectionView$1,exports.MatrixRowView=MatrixRowView$1,exports.MatrixSelectionView=MatrixSelectionView$1,exports.MatrixSubView=MatrixSubView$1,exports.MatrixTransposeView=MatrixTransposeView$1,exports.NIPALS=nipals,exports.Nipals=nipals,exports.QR=QrDecomposition$1,exports.QrDecomposition=QrDecomposition$1,exports.SVD=SingularValueDecomposition$1,exports.SingularValueDecomposition=SingularValueDecomposition$1,exports.SymmetricMatrix=SymmetricMatrix$1,exports.WrapperMatrix1D=WrapperMatrix1D$1,exports.WrapperMatrix2D=WrapperMatrix2D$1,exports.correlation=correlation$1,exports.covariance=covariance$1,exports.default=Matrix$1,exports.determinant=determinant$1,exports.inverse=inverse$1,exports.linearDependencies=linearDependencies$1,exports.pseudoInverse=pseudoInverse$1,exports.solve=solve$1,exports.wrap=wrap$1}))(),1);const AbstractMatrix=import_matrix.AbstractMatrix,CHO=import_matrix.CHO,CholeskyDecomposition=import_matrix.CholeskyDecomposition,DistanceMatrix=import_matrix.DistanceMatrix,EVD=import_matrix.EVD,EigenvalueDecomposition=import_matrix.EigenvalueDecomposition,LU=import_matrix.LU,LuDecomposition=import_matrix.LuDecomposition,Matrix=import_matrix.Matrix,MatrixColumnSelectionView=import_matrix.MatrixColumnSelectionView,MatrixColumnView=import_matrix.MatrixColumnView,MatrixFlipColumnView=import_matrix.MatrixFlipColumnView,MatrixFlipRowView=import_matrix.MatrixFlipRowView,MatrixRowSelectionView=import_matrix.MatrixRowSelectionView,MatrixRowView=import_matrix.MatrixRowView,MatrixSelectionView=import_matrix.MatrixSelectionView,MatrixSubView=import_matrix.MatrixSubView,MatrixTransposeView=import_matrix.MatrixTransposeView,NIPALS=import_matrix.NIPALS,Nipals=import_matrix.Nipals,QR=import_matrix.QR,QrDecomposition=import_matrix.QrDecomposition,SVD=import_matrix.SVD,SingularValueDecomposition=import_matrix.SingularValueDecomposition,SymmetricMatrix=import_matrix.SymmetricMatrix,WrapperMatrix1D=import_matrix.WrapperMatrix1D,WrapperMatrix2D=import_matrix.WrapperMatrix2D,correlation=import_matrix.correlation,covariance=import_matrix.covariance;var matrix_default=import_matrix.default.Matrix?import_matrix.default.Matrix:import_matrix.Matrix;const determinant=import_matrix.determinant,inverse=import_matrix.inverse,linearDependencies=import_matrix.linearDependencies,pseudoInverse=import_matrix.pseudoInverse,solve=import_matrix.solve,wrap=import_matrix.wrap;var require_median_quickselect_min=__commonJSMin(((exports,module)=>{(function(){function a$3(d$2){for(var e$3=0,f$1=d$2.length-1,g$1=void 0,h$3=void 0,i$3=void 0,j$2=c$2(e$3,f$1);;){if(f$1<=e$3)return d$2[j$2];if(f$1==e$3+1)return d$2[e$3]>d$2[f$1]&&b$3(d$2,e$3,f$1),d$2[j$2];for(g$1=c$2(e$3,f$1),d$2[g$1]>d$2[f$1]&&b$3(d$2,g$1,f$1),d$2[e$3]>d$2[f$1]&&b$3(d$2,e$3,f$1),d$2[g$1]>d$2[e$3]&&b$3(d$2,g$1,e$3),b$3(d$2,g$1,e$3+1),h$3=e$3+1,i$3=f$1;;){do h$3++;while(d$2[e$3]>d$2[h$3]);do i$3--;while(d$2[i$3]>d$2[e$3]);if(i$3<h$3)break;b$3(d$2,h$3,i$3)}b$3(d$2,e$3,i$3),i$3<=j$2&&(e$3=h$3),i$3>=j$2&&(f$1=i$3-1)}}var b$3=function(d$2,e$3,f$1){var _ref;return _ref=[d$2[f$1],d$2[e$3]],d$2[e$3]=_ref[0],d$2[f$1]=_ref[1],_ref},c$2=function(d$2,e$3){return~~((d$2+e$3)/2)};module!==void 0&&module.exports?module.exports=a$3:window.median=a$3})()})),import_median_quickselect_min$2=__toESM(require_median_quickselect_min()),FLOAT_MUL$1=1/16777216;function difference(p1,p2){return{column:p1.column-p2.column,row:p1.row-p2.row}}function normalize(point){let length=Math.hypot(point.column,point.row);return{column:point.column/length,row:point.row/length}}function rotate$1(radians,points){let results=[],cos=Math.cos(radians),sin=Math.sin(radians);for(let point of points)results.push({column:cos*point.column-sin*point.row,row:sin*point.column+cos*point.row});return results}function getAngle(p1,p2){let diff=difference(p2,p1),vector=normalize(diff),angle=Math.acos(vector.column);return vector.row<0?-angle:angle}function toDegrees(radians){return radians*180/Math.PI}function getRadius(size){if(size%2!=1||size<0)throw RangeError(`size must be positive and odd`);return(size-1)/2}var t$2=Symbol.for(`@ts-pattern/matcher`),e$2=Symbol.for(`@ts-pattern/isVariadic`),n$2=`@ts-pattern/anonymous-select-key`,r$2=t$3=>!!(t$3&&typeof t$3==`object`),i$2=e$3=>e$3&&!!e$3[t$2],o$2=(n$3,s$2,c$2)=>{if(i$2(n$3)){let{matched:r$3,selections:i$3}=n$3[t$2]().match(s$2);return r$3&&i$3&&Object.keys(i$3).forEach(t$3=>c$2(t$3,i$3[t$3])),r$3}if(r$2(n$3)){if(!r$2(s$2))return!1;if(Array.isArray(n$3)){if(!Array.isArray(s$2))return!1;let t$3=[],r$3=[],u$2=[];for(let o$3 of n$3.keys()){let s$3=n$3[o$3];i$2(s$3)&&s$3[e$2]?u$2.push(s$3):u$2.length?r$3.push(s$3):t$3.push(s$3)}if(u$2.length){if(u$2.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(s$2.length<t$3.length+r$3.length)return!1;let e$3=s$2.slice(0,t$3.length),n$4=r$3.length===0?[]:s$2.slice(-r$3.length),i$3=s$2.slice(t$3.length,r$3.length===0?1/0:-r$3.length);return t$3.every((t$4,n$5)=>o$2(t$4,e$3[n$5],c$2))&&r$3.every((t$4,e$4)=>o$2(t$4,n$4[e$4],c$2))&&(u$2.length===0||o$2(u$2[0],i$3,c$2))}return n$3.length===s$2.length&&n$3.every((t$4,e$3)=>o$2(t$4,s$2[e$3],c$2))}return Reflect.ownKeys(n$3).every(e$3=>{let r$3=n$3[e$3];return(e$3 in s$2||i$2(u$2=r$3)&&u$2[t$2]().matcherType===`optional`)&&o$2(r$3,s$2[e$3],c$2);var u$2})}return Object.is(s$2,n$3)},s$1=e$3=>{var n$3,o$3,u$2;return r$2(e$3)?i$2(e$3)?(u$2=e$3[t$2]()).getSelectionKeys?.call(u$2)??[]:c$1(Array.isArray(e$3)?e$3:Object.values(e$3),s$1):[]},c$1=(t$3,e$3)=>t$3.reduce((t$4,n$3)=>t$4.concat(e$3(n$3)),[]);function a$2(t$3){return Object.assign(t$3,{optional:()=>h$2(t$3),and:e$3=>d$1(t$3,e$3),or:e$3=>y$1(t$3,e$3),select:e$3=>e$3===void 0?v$1(t$3):v$1(e$3,t$3)})}function h$2(e$3){return a$2({[t$2]:()=>({match:t$3=>{let n$3={},r$3=(t$4,e$4)=>{n$3[t$4]=e$4};return t$3===void 0?(s$1(e$3).forEach(t$4=>r$3(t$4,void 0)),{matched:!0,selections:n$3}):{matched:o$2(e$3,t$3,r$3),selections:n$3}},getSelectionKeys:()=>s$1(e$3),matcherType:`optional`})})}function d$1(...e$3){return a$2({[t$2]:()=>({match:t$3=>{let n$3={},r$3=(t$4,e$4)=>{n$3[t$4]=e$4};return{matched:e$3.every(e$4=>o$2(e$4,t$3,r$3)),selections:n$3}},getSelectionKeys:()=>c$1(e$3,s$1),matcherType:`and`})})}function y$1(...e$3){return a$2({[t$2]:()=>({match:t$3=>{let n$3={},r$3=(t$4,e$4)=>{n$3[t$4]=e$4};return c$1(e$3,s$1).forEach(t$4=>r$3(t$4,void 0)),{matched:e$3.some(e$4=>o$2(e$4,t$3,r$3)),selections:n$3}},getSelectionKeys:()=>c$1(e$3,s$1),matcherType:`or`})})}function p$2(e$3){return{[t$2]:()=>({match:t$3=>({matched:!!e$3(t$3)})})}}function v$1(...e$3){let r$3=typeof e$3[0]==`string`?e$3[0]:void 0,i$3=e$3.length===2?e$3[1]:typeof e$3[0]==`string`?void 0:e$3[0];return a$2({[t$2]:()=>({match:t$3=>{let e$4={[r$3??n$2]:t$3};return{matched:i$3===void 0||o$2(i$3,t$3,(t$4,n$3)=>{e$4[t$4]=n$3}),selections:e$4}},getSelectionKeys:()=>[r$3??n$2].concat(i$3===void 0?[]:s$1(i$3))})})}function b$2(t$3){return!0}function w$2(t$3){return typeof t$3==`number`}function S$1(t$3){return typeof t$3==`string`}function j$1(t$3){return typeof t$3==`bigint`}var K=a$2(p$2(b$2)),O=a$2(p$2(b$2)),E$1=K,x$1=t$3=>Object.assign(a$2(t$3),{startsWith:e$3=>{return x$1(d$1(t$3,(n$3=e$3,p$2(t$4=>S$1(t$4)&&t$4.startsWith(n$3)))));var n$3},endsWith:e$3=>{return x$1(d$1(t$3,(n$3=e$3,p$2(t$4=>S$1(t$4)&&t$4.endsWith(n$3)))));var n$3},minLength:e$3=>x$1(d$1(t$3,(t$4=>p$2(e$4=>S$1(e$4)&&e$4.length>=t$4))(e$3))),length:e$3=>x$1(d$1(t$3,(t$4=>p$2(e$4=>S$1(e$4)&&e$4.length===t$4))(e$3))),maxLength:e$3=>x$1(d$1(t$3,(t$4=>p$2(e$4=>S$1(e$4)&&e$4.length<=t$4))(e$3))),includes:e$3=>{return x$1(d$1(t$3,(n$3=e$3,p$2(t$4=>S$1(t$4)&&t$4.includes(n$3)))));var n$3},regex:e$3=>{return x$1(d$1(t$3,(n$3=e$3,p$2(t$4=>S$1(t$4)&&!!t$4.match(n$3)))));var n$3}}),A=x$1(p$2(S$1)),N$1=t$3=>Object.assign(a$2(t$3),{between:(e$3,n$3)=>N$1(d$1(t$3,((t$4,e$4)=>p$2(n$4=>w$2(n$4)&&t$4<=n$4&&e$4>=n$4))(e$3,n$3))),lt:e$3=>N$1(d$1(t$3,(t$4=>p$2(e$4=>w$2(e$4)&&e$4<t$4))(e$3))),gt:e$3=>N$1(d$1(t$3,(t$4=>p$2(e$4=>w$2(e$4)&&e$4>t$4))(e$3))),lte:e$3=>N$1(d$1(t$3,(t$4=>p$2(e$4=>w$2(e$4)&&e$4<=t$4))(e$3))),gte:e$3=>N$1(d$1(t$3,(t$4=>p$2(e$4=>w$2(e$4)&&e$4>=t$4))(e$3))),int:()=>N$1(d$1(t$3,p$2(t$4=>w$2(t$4)&&Number.isInteger(t$4)))),finite:()=>N$1(d$1(t$3,p$2(t$4=>w$2(t$4)&&Number.isFinite(t$4)))),positive:()=>N$1(d$1(t$3,p$2(t$4=>w$2(t$4)&&t$4>0))),negative:()=>N$1(d$1(t$3,p$2(t$4=>w$2(t$4)&&t$4<0)))}),P=N$1(p$2(w$2)),k$1=t$3=>Object.assign(a$2(t$3),{between:(e$3,n$3)=>k$1(d$1(t$3,((t$4,e$4)=>p$2(n$4=>j$1(n$4)&&t$4<=n$4&&e$4>=n$4))(e$3,n$3))),lt:e$3=>k$1(d$1(t$3,(t$4=>p$2(e$4=>j$1(e$4)&&e$4<t$4))(e$3))),gt:e$3=>k$1(d$1(t$3,(t$4=>p$2(e$4=>j$1(e$4)&&e$4>t$4))(e$3))),lte:e$3=>k$1(d$1(t$3,(t$4=>p$2(e$4=>j$1(e$4)&&e$4<=t$4))(e$3))),gte:e$3=>k$1(d$1(t$3,(t$4=>p$2(e$4=>j$1(e$4)&&e$4>=t$4))(e$3))),positive:()=>k$1(d$1(t$3,p$2(t$4=>j$1(t$4)&&t$4>0))),negative:()=>k$1(d$1(t$3,p$2(t$4=>j$1(t$4)&&t$4<0)))}),T=k$1(p$2(j$1)),B=a$2(p$2(function(t$3){return typeof t$3==`boolean`})),_=a$2(p$2(function(t$3){return typeof t$3==`symbol`})),W=a$2(p$2(function(t$3){return t$3==null})),$$1=a$2(p$2(function(t$3){return t$3!=null})),I$1=class extends Error{constructor(t$3){let e$3;try{e$3=JSON.stringify(t$3)}catch{e$3=t$3}super(`Pattern matching error: no pattern matches value ${e$3}`),this.input=void 0,this.input=t$3}},L={matched:!1,value:void 0};function M(t$3){return new R(t$3,L)}var R=class R{constructor(t$3,e$3){this.input=void 0,this.state=void 0,this.input=t$3,this.state=e$3}with(...t$3){if(this.state.matched)return this;let e$3=t$3[t$3.length-1],r$3=[t$3[0]],i$3;t$3.length===3&&typeof t$3[1]==`function`?i$3=t$3[1]:t$3.length>2&&r$3.push(...t$3.slice(1,t$3.length-1));let s$2=!1,c$2={},u$2=(t$4,e$4)=>{s$2=!0,c$2[t$4]=e$4},a$3=!r$3.some(t$4=>o$2(t$4,this.input,u$2))||i$3&&!i$3(this.input)?L:{matched:!0,value:e$3(s$2?n$2 in c$2?c$2[n$2]:c$2:this.input,this.input)};return new R(this.input,a$3)}when(t$3,e$3){if(this.state.matched)return this;let n$3=!!t$3(this.input);return new R(this.input,n$3?{matched:!0,value:e$3(this.input,this.input)}:L)}otherwise(t$3){return this.state.matched?this.state.value:t$3(this.input)}exhaustive(t$3=F){return this.state.matched?this.state.value:t$3(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}};function F(t$3){throw new I$1(t$3)}var require_index_umd=__commonJSMin(((exports,module)=>{(function(N$2,J){typeof exports==`object`&&typeof module<`u`?J(exports):typeof define==`function`&&define.amd?define([`exports`],J):(N$2=typeof globalThis<`u`?globalThis:N$2||self,J(N$2.bresenham={}))})(exports,(function(N$2){function J(f$1,a$3,o$3,t$3,e$3){let h$3=Math.abs(o$3-f$1),r$3=f$1<o$3?1:-1,l$2=-Math.abs(t$3-a$3),M$3=a$3<t$3?1:-1,i$3=h$3+l$2,n$3;for(;;){if(e$3(f$1,a$3),n$3=2*i$3,n$3>=l$2){if(f$1===o$3)break;i$3+=l$2,f$1+=r$3}if(n$3<=h$3){if(a$3===t$3)break;i$3+=h$3,a$3+=M$3}}}function U(f$1,a$3,o$3,t$3,e$3){let h$3=f$1<o$3?1:-1,r$3=a$3<t$3?1:-1,l$2,M$3=Math.abs(o$3-f$1),i$3=Math.abs(t$3-a$3),n$3=M$3*M$3+i$3*i$3,c$2=n$3===0?1:1/Math.sqrt(n$3);for(M$3*=c$2,i$3*=c$2,n$3=M$3-i$3;;){if(e$3(f$1,a$3,Math.abs(n$3-(M$3+i$3))>>16),c$2=n$3,l$2=f$1,2*c$2>=-M$3){if(f$1===o$3)break;c$2+i$3<16711680&&e$3(f$1,a$3+r$3,c$2+i$3>>16),n$3-=i$3,f$1+=h$3}if(2*c$2<=i$3){if(a$3===t$3)break;M$3-c$2<16711680&&e$3(l$2+h$3,a$3,M$3-c$2>>16),n$3+=M$3,a$3+=r$3}}}function w$3(f$1,a$3,o$3,t$3,e$3,h$3){let r$3=Math.abs(o$3-f$1),l$2=f$1<o$3?1:-1,M$3=Math.abs(t$3-a$3),i$3=a$3<t$3?1:-1,n$3=r$3-M$3,c$2,q,d$2,b$3=r$3+M$3==0?1:Math.sqrt(r$3*r$3+M$3*M$3);for(e$3=(e$3+1)/2;;){if(h$3(f$1,a$3,Math.max(0,255*(Math.abs(n$3-r$3+M$3)/b$3-e$3+1))),c$2=n$3,q=f$1,2*c$2>=-r$3){for(c$2+=M$3,d$2=a$3;c$2<b$3*e$3&&(t$3!=d$2||r$3>M$3);c$2+=r$3)h$3(f$1,d$2+=i$3,Math.max(0,255*(Math.abs(c$2)/b$3-e$3+1)));if(f$1==o$3)break;c$2=n$3,n$3-=M$3,f$1+=l$2}if(2*c$2<=M$3){for(c$2=r$3-c$2;c$2<b$3*e$3&&(o$3!=q||r$3<M$3);c$2+=M$3)h$3(q+=l$2,a$3,Math.max(0,255*(Math.abs(c$2)/b$3-e$3+1)));if(a$3==t$3)break;n$3+=r$3,a$3+=i$3}}}function I$2(f$1,a$3=`assert error`){if(!f$1)throw Error(a$3)}function P$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2){var M$3=f$1-2*o$3+e$3,i$3=a$3-2*t$3+h$3,n$3=f$1-o$3,c$2=a$3-t$3,q,d$2,b$3;I$2(r$3>=0,`width is negative`),n$3*(e$3-o$3)>0&&(c$2*(h$3-t$3)>0&&Math.abs(n$3*i$3)>Math.abs(c$2*M$3)&&(f$1=e$3,e$3=n$3+o$3,a$3=h$3,h$3=c$2+t$3),f$1==e$3||r$3==1?d$2=(f$1-o$3)/M$3:(b$3=Math.sqrt(4*r$3*r$3*(f$1-o$3)*(e$3-o$3)+(e$3-f$1)*(e$3-f$1)),o$3<f$1&&(b$3=-b$3),d$2=(2*r$3*(f$1-o$3)-f$1+e$3+b$3)/(2*(1-r$3)*(e$3-f$1))),b$3=1/(2*d$2*(1-d$2)*(r$3-1)+1),n$3=(d$2*d$2*(f$1-2*r$3*o$3+e$3)+2*d$2*(r$3*o$3-f$1)+f$1)*b$3,c$2=(d$2*d$2*(a$3-2*r$3*t$3+h$3)+2*d$2*(r$3*t$3-a$3)+a$3)*b$3,q=d$2*(r$3-1)+1,q*=q*b$3,r$3=((1-d$2)*(r$3-1)+1)*Math.sqrt(b$3),M$3=Math.floor(n$3+.5),i$3=Math.floor(c$2+.5),c$2=(n$3-f$1)*(t$3-a$3)/(o$3-f$1)+a$3,H$1(f$1,a$3,M$3,Math.floor(c$2+.5),M$3,i$3,q,l$2),c$2=(n$3-e$3)*(t$3-h$3)/(o$3-e$3)+h$3,t$3=Math.floor(c$2+.5),f$1=o$3=M$3,a$3=i$3),(a$3-t$3)*(h$3-t$3)>0&&(a$3==h$3||r$3==1?d$2=(a$3-t$3)/(a$3-2*t$3+h$3):(b$3=Math.sqrt(4*r$3*r$3*(a$3-t$3)*(h$3-t$3)+(h$3-a$3)*(h$3-a$3)),t$3<a$3&&(b$3=-b$3),d$2=(2*r$3*(a$3-t$3)-a$3+h$3+b$3)/(2*(1-r$3)*(h$3-a$3))),b$3=1/(2*d$2*(1-d$2)*(r$3-1)+1),n$3=(d$2*d$2*(f$1-2*r$3*o$3+e$3)+2*d$2*(r$3*o$3-f$1)+f$1)*b$3,c$2=(d$2*d$2*(a$3-2*r$3*t$3+h$3)+2*d$2*(r$3*t$3-a$3)+a$3)*b$3,q=d$2*(r$3-1)+1,q*=q*b$3,r$3=((1-d$2)*(r$3-1)+1)*Math.sqrt(b$3),M$3=Math.floor(n$3+.5),i$3=Math.floor(c$2+.5),n$3=(o$3-f$1)*(c$2-a$3)/(t$3-a$3)+f$1,H$1(f$1,a$3,Math.floor(n$3+.5),i$3,M$3,i$3,q,l$2),n$3=(o$3-e$3)*(c$2-h$3)/(t$3-h$3)+e$3,o$3=Math.floor(n$3+.5),f$1=M$3,a$3=t$3=i$3),H$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3*r$3,l$2)}function H$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2){var M$3=e$3-o$3,i$3=h$3-t$3,n$3=f$1-e$3,c$2=a$3-h$3,q=f$1-o$3,d$2=a$3-t$3,b$3=q*i$3+d$2*M$3,s$2=q*i$3-d$2*M$3,u$2;if(I$2(q*M$3<=0&&d$2*i$3<=0,`sign of gradient must not change`),s$2!=0&&r$3>0){if(M$3*M$3+i$3*i$3>q*q+d$2*d$2&&(e$3=f$1,f$1-=n$3,h$3=a$3,a$3-=c$2,s$2=-s$2),q=2*(4*r$3*M$3*q+n$3*n$3),d$2=2*(4*r$3*i$3*d$2+c$2*c$2),M$3=f$1<e$3?1:-1,i$3=a$3<h$3?1:-1,b$3=-2*M$3*i$3*(2*r$3*b$3+n$3*c$2),s$2*M$3*i$3<0&&(q=-q,d$2=-d$2,b$3=-b$3,s$2=-s$2),n$3=4*r$3*(o$3-f$1)*i$3*s$2+q/2+b$3,c$2=4*r$3*(a$3-t$3)*M$3*s$2+d$2/2+b$3,r$3<.5&&(c$2>b$3||n$3<b$3)){s$2=(r$3+1)/2,r$3=Math.sqrt(r$3),b$3=1/(r$3+1),M$3=Math.floor((f$1+2*r$3*o$3+e$3)*b$3/2+.5),i$3=Math.floor((a$3+2*r$3*t$3+h$3)*b$3/2+.5),n$3=Math.floor((r$3*o$3+f$1)*b$3+.5),c$2=Math.floor((t$3*r$3+a$3)*b$3+.5),H$1(f$1,a$3,n$3,c$2,M$3,i$3,s$2,l$2),n$3=Math.floor((r$3*o$3+e$3)*b$3+.5),c$2=Math.floor((t$3*r$3+h$3)*b$3+.5),H$1(M$3,i$3,n$3,c$2,e$3,h$3,s$2,l$2);return}u$2=n$3+c$2-b$3;do{if(l$2(f$1,a$3),f$1==e$3&&a$3==h$3)return;o$3=2*u$2>c$2?1:0,t$3=2*(u$2+d$2)<-c$2?1:0,(2*u$2<n$3||t$3)&&(a$3+=i$3,c$2+=b$3,u$2+=n$3+=q),(2*u$2>n$3||o$3)&&(f$1+=M$3,n$3+=b$3,u$2+=c$2+=d$2)}while(c$2<=b$3&&n$3>=b$3)}J(f$1,a$3,e$3,h$3,l$2)}function V(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2){var M$3=e$3-o$3,i$3=h$3-t$3,n$3=f$1-e$3,c$2=a$3-h$3,q=f$1-o$3,d$2=a$3-t$3,b$3=q*i$3+d$2*M$3,s$2=q*i$3-d$2*M$3,u$2,z,j$2;if(I$2(q*M$3<=0&&d$2*i$3<=0),s$2!=0&&r$3>0){if(M$3*M$3+i$3*i$3>q*q+d$2*d$2&&(e$3=f$1,f$1-=n$3,h$3=a$3,a$3-=c$2,s$2=-s$2),q=2*(4*r$3*M$3*q+n$3*n$3),d$2=2*(4*r$3*i$3*d$2+c$2*c$2),M$3=f$1<e$3?1:-1,i$3=a$3<h$3?1:-1,b$3=-2*M$3*i$3*(2*r$3*b$3+n$3*c$2),s$2*M$3*i$3<0&&(q=-q,d$2=-d$2,s$2=-s$2,b$3=-b$3),n$3=4*r$3*(o$3-f$1)*i$3*s$2+q/2+b$3,c$2=4*r$3*(a$3-t$3)*M$3*s$2+d$2/2+b$3,r$3<.5&&c$2>n$3)return s$2=(r$3+1)/2,r$3=Math.sqrt(r$3),b$3=1/(r$3+1),M$3=Math.floor((f$1+2*r$3*o$3+e$3)*b$3/2+.5),i$3=Math.floor((a$3+2*r$3*t$3+h$3)*b$3/2+.5),n$3=Math.floor((r$3*o$3+f$1)*b$3+.5),c$2=Math.floor((t$3*r$3+a$3)*b$3+.5),V(f$1,a$3,n$3,c$2,M$3,i$3,s$2,l$2),n$3=Math.floor((r$3*o$3+e$3)*b$3+.5),c$2=Math.floor((t$3*r$3+h$3)*b$3+.5),V(M$3,i$3,n$3,c$2,e$3,h$3,s$2,l$2);u$2=n$3+c$2-b$3;do{if(s$2=Math.min(n$3-b$3,b$3-c$2),z=Math.max(n$3-b$3,b$3-c$2),z+=2*z*s$2*s$2/(4*z*z+s$2*s$2),o$3=255*Math.abs(u$2-n$3-c$2+b$3)/z,o$3<256&&l$2(f$1,a$3,o$3),j$2=2*u$2+c$2<0){if(a$3==h$3)return;n$3-u$2<z&&l$2(f$1+M$3,a$3,255*Math.abs(n$3-u$2)/z)}if(2*u$2+n$3>0){if(f$1==e$3)return;u$2-c$2<z&&l$2(f$1,a$3+i$3,255*Math.abs(u$2-c$2)/z),f$1+=M$3,n$3+=b$3,u$2+=c$2+=d$2}j$2&&(a$3+=i$3,c$2+=b$3,u$2+=n$3+=q)}while(c$2<n$3)}U(f$1,a$3,e$3,h$3,l$2)}function y$2(f$1,a$3,o$3,t$3,e$3){let h$3=-o$3,r$3=0,l$2=t$3*t$3,M$3=h$3*(2*l$2+h$3)+l$2;do e$3(f$1-h$3,a$3+r$3),e$3(f$1+h$3,a$3+r$3),e$3(f$1+h$3,a$3-r$3),e$3(f$1-h$3,a$3-r$3),l$2=2*M$3,l$2>=(h$3*2+1)*t$3*t$3&&(M$3+=(++h$3*2+1)*t$3*t$3),l$2<=(r$3*2+1)*o$3*o$3&&(M$3+=(++r$3*2+1)*o$3*o$3);while(h$3<=0);for(;r$3++<t$3;)e$3(f$1,a$3+r$3),e$3(f$1,a$3-r$3)}function x$2(f$1,a$3,o$3,t$3,e$3,h$3){let r$3=o$3*o$3,l$2=t$3*t$3,M$3=Math.sin(e$3),i$3=(r$3-l$2)*M$3;r$3=Math.sqrt(r$3-i$3*M$3),l$2=Math.sqrt(l$2+i$3*M$3),o$3=r$3+.5,t$3=l$2+.5,i$3=i$3*o$3*t$3/(r$3*l$2),Y(f$1-o$3,a$3-t$3,f$1+o$3,a$3+t$3,4*i$3*Math.cos(e$3),h$3)}function Y(f$1,a$3,o$3,t$3,e$3,h$3){let r$3=o$3-f$1,l$2=t$3-a$3,M$3=r$3*l$2;if(e$3===0)return Z(f$1,a$3,o$3,t$3,h$3);M$3!==0&&(M$3=(M$3-e$3)/(M$3+M$3)),I$2(M$3<=1&&M$3>=0,`limit angle to |zd|<=xd*yd`),r$3=Math.floor(r$3*M$3+.5),l$2=Math.floor(l$2*M$3+.5),H$1(f$1,a$3+l$2,f$1,a$3,f$1+r$3,a$3,1-M$3,h$3),H$1(f$1,a$3+l$2,f$1,t$3,o$3-r$3,t$3,M$3,h$3),H$1(o$3,t$3-l$2,o$3,t$3,o$3-r$3,t$3,1-M$3,h$3),H$1(o$3,t$3-l$2,o$3,a$3,f$1+r$3,a$3,M$3,h$3)}function Z(f$1,a$3,o$3,t$3,e$3){let h$3=Math.abs(o$3-f$1),r$3=Math.abs(t$3-a$3),l$2=r$3&1,M$3=4*(1-h$3)*r$3*r$3,i$3=4*(l$2+1)*h$3*h$3,n$3=M$3+i$3+l$2*h$3*h$3,c$2;f$1>o$3&&(f$1=o$3,o$3+=h$3),a$3>t$3&&(a$3=t$3),a$3+=(r$3+1)/2,t$3=a$3-l$2,h$3=8*h$3*h$3,l$2=8*r$3*r$3;do e$3(o$3,a$3),e$3(f$1,a$3),e$3(f$1,t$3),e$3(o$3,t$3),c$2=2*n$3,c$2<=i$3&&(a$3++,t$3--,n$3+=i$3+=h$3),(c$2>=M$3||2*n$3>i$3)&&(f$1++,o$3--,n$3+=M$3+=l$2);while(f$1<=o$3);for(;a$3-t$3<=r$3;)e$3(f$1-1,a$3),e$3(o$3+1,a$3++),e$3(f$1-1,t$3),e$3(o$3+1,t$3--)}function aa(f$1,a$3,o$3,t$3){var e$3=-o$3,h$3=0,r$3=2-2*o$3;do t$3(f$1-e$3,a$3+h$3),t$3(f$1-h$3,a$3-e$3),t$3(f$1+e$3,a$3-h$3),t$3(f$1+h$3,a$3+e$3),o$3=r$3,o$3<=h$3&&(r$3+=++h$3*2+1),(o$3>e$3||r$3>h$3)&&(r$3+=++e$3*2+1);while(e$3<0)}function fa(f$1,a$3,o$3,t$3){var e$3=-o$3,h$3=0,r$3,l$2,M$3,i$3=2-2*o$3;o$3=1-i$3;do r$3=255*Math.abs(i$3-2*(e$3+h$3)-2)/o$3,t$3(f$1-e$3,a$3+h$3,r$3),t$3(f$1-h$3,a$3-e$3,r$3),t$3(f$1+e$3,a$3-h$3,r$3),t$3(f$1+h$3,a$3+e$3,r$3),M$3=i$3,l$2=e$3,i$3+h$3>0&&(r$3=255*(i$3-2*e$3-1)/o$3,r$3<256&&(t$3(f$1-e$3,a$3+h$3+1,r$3),t$3(f$1-h$3-1,a$3-e$3,r$3),t$3(f$1+e$3,a$3-h$3-1,r$3),t$3(f$1+h$3+1,a$3+e$3,r$3)),i$3+=++e$3*2+1),M$3+l$2<=0&&(r$3=255*(2*h$3+3-M$3)/o$3,r$3<256&&(t$3(f$1-l$2-1,a$3+h$3,r$3),t$3(f$1-h$3,a$3-l$2-1,r$3),t$3(f$1+l$2+1,a$3-h$3,r$3),t$3(f$1+h$3,a$3+l$2+1,r$3)),i$3+=++h$3*2+1);while(e$3<0)}function ta(f$1,a$3,o$3,t$3,e$3,h$3,r$3){var l$2=f$1-o$3,M$3=a$3-t$3,i$3=f$1-2*o$3+e$3,n$3;l$2*(e$3-o$3)>0&&(M$3*(h$3-t$3)>0&&Math.abs((a$3-2*t$3+h$3)/i$3*l$2)>Math.abs(M$3)&&(f$1=e$3,e$3=l$2+o$3,a$3=h$3,h$3=M$3+t$3),i$3=(f$1-o$3)/i$3,n$3=(1-i$3)*((1-i$3)*a$3+2*i$3*t$3)+i$3*i$3*h$3,i$3=(f$1*e$3-o$3*o$3)*i$3/(f$1-o$3),l$2=Math.floor(i$3+.5),M$3=Math.floor(n$3+.5),n$3=(t$3-a$3)*(i$3-f$1)/(o$3-f$1)+a$3,L$1(f$1,a$3,l$2,Math.floor(n$3+.5),l$2,M$3,r$3),n$3=(t$3-h$3)*(i$3-e$3)/(o$3-e$3)+h$3,f$1=o$3=l$2,a$3=M$3,t$3=Math.floor(n$3+.5)),(a$3-t$3)*(h$3-t$3)>0&&(i$3=a$3-2*t$3+h$3,i$3=(a$3-t$3)/i$3,n$3=(1-i$3)*((1-i$3)*f$1+2*i$3*o$3)+i$3*i$3*e$3,i$3=(a$3*h$3-t$3*t$3)*i$3/(a$3-t$3),l$2=Math.floor(n$3+.5),M$3=Math.floor(i$3+.5),n$3=(o$3-f$1)*(i$3-a$3)/(t$3-a$3)+f$1,L$1(f$1,a$3,Math.floor(n$3+.5),M$3,l$2,M$3,r$3),n$3=(o$3-e$3)*(i$3-h$3)/(t$3-h$3)+e$3,f$1=l$2,o$3=Math.floor(n$3+.5),a$3=t$3=M$3),L$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3)}function L$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3){var l$2=e$3-o$3,M$3=h$3-t$3,i$3=f$1-o$3,n$3=a$3-t$3,c$2,q,d$2,b$3,s$2=i$3*M$3-n$3*l$2;if(I$2(i$3*l$2<=0&&n$3*M$3<=0,`sign of gradient must not change`),l$2*l$2+M$3*M$3>i$3*i$3+n$3*n$3&&(e$3=f$1,f$1=l$2+o$3,h$3=a$3,a$3=M$3+t$3,s$2=-s$2),s$2!=0){i$3+=l$2,i$3*=l$2=f$1<e$3?1:-1,n$3+=M$3,n$3*=M$3=a$3<h$3?1:-1,c$2=2*i$3*n$3,i$3*=i$3,n$3*=n$3,s$2*l$2*M$3<0&&(i$3=-i$3,n$3=-n$3,c$2=-c$2,s$2=-s$2),q=4*M$3*s$2*(o$3-f$1)+i$3-c$2,d$2=4*l$2*s$2*(a$3-t$3)+n$3-c$2,i$3+=i$3,n$3+=n$3,b$3=q+d$2+c$2;do{if(r$3(f$1,a$3),f$1==e$3&&a$3==h$3)return;t$3=+(2*b$3<q),2*b$3>d$2&&(f$1+=l$2,q-=c$2,b$3+=d$2+=n$3),t$3&&(a$3+=M$3,d$2-=c$2,b$3+=q+=i$3)}while(d$2<0&&q>0)}J(f$1,a$3,e$3,h$3,r$3)}function ia(f$1,a$3,o$3,t$3,e$3,h$3,r$3){var l$2=f$1-o$3,M$3=a$3-t$3,i$3=f$1-2*o$3+e$3,n$3;l$2*(e$3-o$3)>0&&(M$3*(h$3-t$3)>0&&Math.abs((a$3-2*t$3+h$3)/i$3*l$2)>Math.abs(M$3)&&(f$1=e$3,e$3=l$2+o$3,a$3=h$3,h$3=M$3+t$3),i$3=(f$1-o$3)/i$3,n$3=(1-i$3)*((1-i$3)*a$3+2*i$3*t$3)+i$3*i$3*h$3,i$3=(f$1*e$3-o$3*o$3)*i$3/(f$1-o$3),l$2=Math.floor(i$3+.5),M$3=Math.floor(n$3+.5),n$3=(t$3-a$3)*(i$3-f$1)/(o$3-f$1)+a$3,Q(f$1,a$3,l$2,Math.floor(n$3+.5),l$2,M$3,r$3),n$3=(t$3-h$3)*(i$3-e$3)/(o$3-e$3)+h$3,f$1=o$3=l$2,a$3=M$3,t$3=Math.floor(n$3+.5)),(a$3-t$3)*(h$3-t$3)>0&&(i$3=a$3-2*t$3+h$3,i$3=(a$3-t$3)/i$3,n$3=(1-i$3)*((1-i$3)*f$1+2*i$3*o$3)+i$3*i$3*e$3,i$3=(a$3*h$3-t$3*t$3)*i$3/(a$3-t$3),l$2=Math.floor(n$3+.5),M$3=Math.floor(i$3+.5),n$3=(o$3-f$1)*(i$3-a$3)/(t$3-a$3)+f$1,Q(f$1,a$3,Math.floor(n$3+.5),M$3,l$2,M$3,r$3),n$3=(o$3-e$3)*(i$3-h$3)/(t$3-h$3)+e$3,f$1=l$2,o$3=Math.floor(n$3+.5),a$3=t$3=M$3),Q(f$1,a$3,o$3,t$3,e$3,h$3,r$3)}function Q(f$1,a$3,o$3,t$3,e$3,h$3,r$3){var l$2=e$3-o$3,M$3=h$3-t$3,i$3=f$1-o$3,n$3=a$3-t$3,c$2,q,d$2,b$3,s$2,u$2=i$3*M$3-n$3*l$2;if(l$2*l$2+M$3*M$3>i$3*i$3+n$3*n$3&&(e$3=f$1,f$1=l$2+o$3,h$3=a$3,a$3=M$3+t$3,u$2=-u$2),u$2!=0){i$3+=l$2,i$3*=l$2=f$1<e$3?1:-1,n$3+=M$3,n$3*=M$3=a$3<h$3?1:-1,c$2=2*i$3*n$3,i$3*=i$3,n$3*=n$3,u$2*l$2*M$3<0&&(i$3=-i$3,n$3=-n$3,c$2=-c$2,u$2=-u$2),q=4*M$3*(o$3-f$1)*u$2+i$3-c$2,d$2=4*l$2*(a$3-t$3)*u$2+n$3-c$2,i$3+=i$3,n$3+=n$3,b$3=q+d$2+c$2;do{if(u$2=Math.min(q+c$2,-c$2-d$2),s$2=Math.max(q+c$2,-c$2-d$2),s$2+=2*s$2*u$2*u$2/(4*s$2*s$2+u$2*u$2),r$3(f$1,a$3,255*Math.abs(b$3-q-d$2-c$2)/s$2),f$1==e$3||a$3==h$3)break;o$3=f$1,u$2=q-b$3,t$3=+(2*b$3+d$2<0),2*b$3+q>0&&(b$3-d$2<s$2&&r$3(f$1,a$3+M$3,255*Math.abs(b$3-d$2)/s$2),f$1+=l$2,q-=c$2,b$3+=d$2+=n$3),t$3&&(u$2<s$2&&r$3(o$3+l$2,a$3,255*Math.abs(u$2)/s$2),a$3+=M$3,d$2-=c$2,b$3+=q+=i$3)}while(d$2<q)}U(f$1,a$3,e$3,h$3,r$3)}function _$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,M$3){var i$3,n$3,c$2,q=1;let d$2=f$1<r$3?1:-1,b$3=a$3<l$2?1:-1,s$2=-Math.abs(f$1+o$3-e$3-r$3),u$2=s$2-4*d$2*(o$3-e$3),z=d$2*(f$1-o$3-e$3+r$3),j$2=-Math.abs(a$3+t$3-h$3-l$2),B$1=j$2-4*b$3*(t$3-h$3),R$1=b$3*(a$3-t$3-h$3+l$2),p$3,S$2,W$1,T$1,G,E$2,O$1,v$2,g$1,k$2,F$1,D=.01;if(I$2((o$3-f$1)*(e$3-r$3)<D&&((r$3-f$1)*(o$3-e$3)<D||z*z<u$2*s$2+D),`slope change`),I$2((t$3-a$3)*(h$3-l$2)<D&&((l$2-a$3)*(t$3-h$3)<D||R$1*R$1<B$1*j$2+D),`slope change`),u$2==0&&B$1==0)return d$2=Math.floor((3*o$3-f$1+1)/2),b$3=Math.floor((3*t$3-a$3+1)/2),L$1(f$1,a$3,d$2,b$3,r$3,l$2,M$3);o$3=(o$3-f$1)*(o$3-f$1)+(t$3-a$3)*(t$3-a$3)+1,e$3=(e$3-r$3)*(e$3-r$3)+(h$3-l$2)*(h$3-l$2)+1;do{p$3=u$2*R$1-z*B$1,S$2=u$2*j$2-s$2*B$1,W$1=z*j$2-s$2*R$1,k$2=p$3*(p$3+S$2-3*W$1)+S$2*S$2,i$3=k$2>0?1:Math.sqrt(1+1024/o$3),p$3*=i$3,S$2*=i$3,W$1*=i$3,k$2*=i$3*i$3,E$2=9*(p$3+S$2+W$1)/8,T$1=8*(u$2-B$1),v$2=27*(8*p$3*(R$1*R$1-B$1*j$2)+k$2*(B$1+2*R$1+j$2))/64-B$1*B$1*(E$2-B$1),g$1=27*(8*p$3*(z*z-u$2*s$2)-k$2*(u$2+2*z+s$2))/64-u$2*u$2*(E$2+u$2),G=3*(3*p$3*(3*R$1*R$1-B$1*B$1-2*B$1*j$2)-B$1*(3*S$2*(B$1+R$1)+B$1*T$1))/4,O$1=3*(3*p$3*(3*z*z-u$2*u$2-2*u$2*s$2)-u$2*(3*S$2*(u$2+z)+u$2*T$1))/4,E$2=u$2*B$1*(6*p$3+6*S$2-3*W$1+T$1),S$2=B$1*B$1,T$1=u$2*u$2,E$2=3*(E$2+9*i$3*(T$1*R$1*j$2-z*s$2*S$2)-18*z*R$1*p$3)/8,k$2<0&&(v$2=-v$2,g$1=-g$1,G=-G,O$1=-O$1,E$2=-E$2,S$2=-S$2,T$1=-T$1),p$3=6*B$1*S$2,S$2=-6*u$2*S$2,W$1=6*B$1*T$1,T$1=-6*u$2*T$1,v$2+=E$2,k$2=v$2+g$1,g$1+=E$2;a:for(F$1=E$2,n$3=c$2=i$3;f$1!=r$3&&a$3!=l$2;){M$3(f$1,a$3);do{if(v$2>F$1||g$1<F$1)break a;t$3=2*k$2-g$1,2*k$2>=v$2&&(n$3--,k$2+=v$2+=G,g$1+=E$2+=S$2,O$1+=W$1,G+=p$3),t$3<=0&&(c$2--,k$2+=g$1+=O$1,v$2+=E$2+=W$1,G+=S$2,O$1+=T$1)}while(n$3>0&&c$2>0);2*n$3<=i$3&&(f$1+=d$2,n$3+=i$3),2*c$2<=i$3&&(a$3+=b$3,c$2+=i$3),F$1==E$2&&v$2<0&&g$1>0&&(F$1=D)}G=f$1,f$1=r$3,r$3=G,d$2=-d$2,z=-z,O$1=a$3,a$3=l$2,l$2=O$1,b$3=-b$3,R$1=-R$1,o$3=e$3}while(q--);J(f$1,a$3,r$3,l$2,M$3)}function $$2(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,M$3){let i$3,n$3,c$2,q=1,d$2=f$1<r$3?1:-1,b$3=a$3<l$2?1:-1,s$2=-Math.abs(f$1+o$3-e$3-r$3),u$2=s$2-4*d$2*(o$3-e$3),z=d$2*(f$1-o$3-e$3+r$3),j$2=-Math.abs(a$3+t$3-h$3-l$2),B$1=j$2-4*b$3*(t$3-h$3),R$1=b$3*(a$3-t$3-h$3+l$2),p$3,S$2,W$1,T$1,G,E$2,O$1,v$2,g$1,k$2,F$1,D,C,A$1,K$1=.01;if(I$2((o$3-f$1)*(e$3-r$3)<K$1&&((r$3-f$1)*(o$3-e$3)<K$1||z*z<u$2*s$2+K$1)),I$2((t$3-a$3)*(h$3-l$2)<K$1&&((l$2-a$3)*(t$3-h$3)<K$1||R$1*R$1<B$1*j$2+K$1)),u$2===0&&B$1===0)return d$2=Math.floor((3*o$3-f$1+1)/2),b$3=Math.floor((3*t$3-a$3+1)/2),Q(f$1,a$3,d$2,b$3,r$3,l$2,M$3);o$3=(o$3-f$1)*(o$3-f$1)+(t$3-a$3)*(t$3-a$3)+1,e$3=(e$3-r$3)*(e$3-r$3)+(h$3-l$2)*(h$3-l$2)+1;do{p$3=u$2*R$1-z*B$1,S$2=u$2*j$2-s$2*B$1,W$1=z*j$2-s$2*R$1,A$1=4*p$3*W$1-S$2*S$2,k$2=p$3*(p$3+S$2-3*W$1)+S$2*S$2,i$3=k$2>0?1:Math.sqrt(1+1024/o$3),p$3*=i$3,S$2*=i$3,W$1*=i$3,k$2*=i$3*i$3,E$2=9*(p$3+S$2+W$1)/8,T$1=8*(u$2-B$1),v$2=27*(8*p$3*(R$1*R$1-B$1*j$2)+k$2*(B$1+2*R$1+j$2))/64-B$1*B$1*(E$2-B$1),g$1=27*(8*p$3*(z*z-u$2*s$2)-k$2*(u$2+2*z+s$2))/64-u$2*u$2*(E$2+u$2),G=3*(3*p$3*(3*R$1*R$1-B$1*B$1-2*B$1*j$2)-B$1*(3*S$2*(B$1+R$1)+B$1*T$1))/4,O$1=3*(3*p$3*(3*z*z-u$2*u$2-2*u$2*s$2)-u$2*(3*S$2*(u$2+z)+u$2*T$1))/4,E$2=u$2*B$1*(6*p$3+6*S$2-3*W$1+T$1),S$2=B$1*B$1,T$1=u$2*u$2,E$2=3*(E$2+9*i$3*(T$1*R$1*j$2-z*s$2*S$2)-18*z*R$1*p$3)/8,k$2<0&&(v$2=-v$2,g$1=-g$1,G=-G,O$1=-O$1,E$2=-E$2,S$2=-S$2,T$1=-T$1),p$3=6*B$1*S$2,S$2=-6*u$2*S$2,W$1=6*B$1*T$1,T$1=-6*u$2*T$1,v$2+=E$2,k$2=v$2+g$1,g$1+=E$2;let X=!1;a:for(n$3=c$2=i$3;f$1!==r$3&&a$3!==l$2;){t$3=Math.min(Math.abs(E$2-v$2),Math.abs(g$1-E$2)),C=Math.max(Math.abs(E$2-v$2),Math.abs(g$1-E$2)),C=i$3*(C+2*C*t$3*t$3/(4*C*C+t$3*t$3)),t$3=255*Math.abs(k$2-(i$3-n$3+1)*v$2-(i$3-c$2+1)*g$1+i$3*E$2)/C,t$3<256&&M$3(f$1,a$3,t$3),F$1=Math.abs(k$2-(i$3-n$3+1)*v$2+(c$2-1)*g$1),D=Math.abs(k$2+(n$3-1)*v$2-(i$3-c$2+1)*g$1),h$3=a$3;do{if(A$1>=-K$1&&(v$2+G>E$2||g$1+O$1<E$2)){X=!0;break a}if(t$3=2*k$2+v$2,2*k$2+g$1>0)n$3--,k$2+=v$2+=G,g$1+=E$2+=S$2,O$1+=W$1,G+=p$3;else if(t$3>0){X=!0;break a}t$3<=0&&(c$2--,k$2+=g$1+=O$1,v$2+=E$2+=W$1,G+=S$2,O$1+=T$1)}while(n$3>0&&c$2>0);2*c$2<=i$3&&(D<C&&M$3(f$1+d$2,a$3,255*D/C),a$3+=b$3,c$2+=i$3),2*n$3<=i$3&&(F$1<C&&M$3(f$1,h$3+b$3,255*F$1/C),f$1+=d$2,n$3+=i$3)}X&&(2*k$2<g$1&&2*c$2<=i$3+2&&(D<C&&M$3(f$1+d$2,a$3,255*D/C),a$3+=b$3),2*k$2>v$2&&2*n$3<=i$3+2&&(F$1<C&&M$3(f$1,h$3+b$3,255*F$1/C),f$1+=d$2),G=f$1,f$1=r$3,r$3=G,d$2=-d$2,z=-z,O$1=a$3,a$3=l$2,l$2=O$1,b$3=-b$3,R$1=-R$1,o$3=e$3);break}while(q--);U(Math.floor(f$1),Math.floor(a$3),Math.floor(r$3),Math.floor(l$2),M$3)}function m$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,M$3,i$3){let n$3=0,c$2=0,q=f$1+o$3-e$3-r$3,d$2=q-4*(o$3-e$3),b$3=f$1-o$3-e$3+r$3,s$2=b$3+4*(o$3+e$3),u$2=a$3+t$3-h$3-l$2,z=u$2-4*(t$3-h$3),j$2=a$3-t$3-h$3+l$2,B$1=j$2+4*(t$3+h$3);var R$1=f$1,p$3,S$2,W$1,T$1=a$3,G,E$2,O$1;let v$2=b$3*b$3-d$2*q,g$1,k$2=[0,0,0,0,0];for(d$2==0?Math.abs(q)<2*Math.abs(b$3)&&(k$2[n$3++]=q/(2*b$3)):v$2>0&&(g$1=Math.sqrt(v$2),v$2=(b$3-g$1)/d$2,Math.abs(v$2)<1&&(k$2[n$3++]=v$2),v$2=(b$3+g$1)/d$2,Math.abs(v$2)<1&&(k$2[n$3++]=v$2)),v$2=j$2*j$2-z*u$2,z==0?Math.abs(u$2)<2*Math.abs(j$2)&&(k$2[n$3++]=u$2/(2*j$2)):v$2>0&&(g$1=Math.sqrt(v$2),v$2=(j$2-g$1)/z,Math.abs(v$2)<1&&(k$2[n$3++]=v$2),v$2=(j$2+g$1)/z,Math.abs(v$2)<1&&(k$2[n$3++]=v$2)),c$2=1;c$2<n$3;c$2++)(v$2=k$2[c$2-1])>k$2[c$2]&&(k$2[c$2-1]=k$2[c$2],k$2[c$2]=v$2,c$2=0);for(v$2=-1,k$2[n$3]=1,c$2=0;c$2<=n$3;c$2++)g$1=k$2[c$2],p$3=(v$2*(v$2*b$3-2*q)-g$1*(v$2*(v$2*d$2-2*b$3)+q)+s$2)/8-R$1,G=(v$2*(v$2*j$2-2*u$2)-g$1*(v$2*(v$2*z-2*j$2)+u$2)+B$1)/8-T$1,S$2=(g$1*(g$1*b$3-2*q)-v$2*(g$1*(g$1*d$2-2*b$3)+q)+s$2)/8-R$1,E$2=(g$1*(g$1*j$2-2*u$2)-v$2*(g$1*(g$1*z-2*j$2)+u$2)+B$1)/8-T$1,R$1-=W$1=(g$1*(g$1*(3*b$3-g$1*d$2)-3*q)+s$2)/8,T$1-=O$1=(g$1*(g$1*(3*j$2-g$1*z)-3*u$2)+B$1)/8,r$3=Math.floor(W$1+.5),l$2=Math.floor(O$1+.5),R$1!=0&&(p$3*=R$1=(f$1-r$3)/R$1,S$2*=R$1),T$1!=0&&(G*=T$1=(a$3-l$2)/T$1,E$2*=T$1),(f$1!=r$3||a$3!=l$2)&&M$3(f$1,a$3,f$1+p$3,a$3+G,f$1+S$2,a$3+E$2,r$3,l$2,i$3),f$1=r$3,a$3=l$2,R$1=W$1,T$1=O$1,v$2=g$1}function ra(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,M$3){m$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,_$1,M$3)}function oa(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,M$3){m$1(f$1,a$3,o$3,t$3,e$3,h$3,r$3,l$2,$$2,M$3)}N$2.circle=aa,N$2.circleAA=fa,N$2.cubicBezier=ra,N$2.cubicBezierAA=oa,N$2.cubicBezierSegment=_$1,N$2.cubicBezierSegmentAA=$$2,N$2.ellipse=y$2,N$2.ellipseRect=Z,N$2.line=J,N$2.lineAA=U,N$2.lineWidth=w$3,N$2.quadBezier=ta,N$2.quadBezierAA=ia,N$2.quadBezierSegment=L$1,N$2.quadBezierSegmentAA=Q,N$2.quadRationalBezier=P$1,N$2.quadRationalBezierSegment=H$1,N$2.quadRationalBezierSegmentAA=V,N$2.rotatedEllipse=x$2,N$2.rotatedEllipseRect=Y,Object.defineProperty(N$2,Symbol.toStringTag,{value:`Module`})}))})),import_index_umd$3=__toESM(require_index_umd());function deleteDuplicates(points){let finalPoints=[];for(let i$3=0;i$3<points.length;i$3++)if(points[i$3].column===points[(i$3+1)%points.length].column&&points[i$3].row===points[(i$3+1)%points.length].row)continue;else finalPoints.push(points[i$3]);return finalPoints}function getIndex(column,row,image,channel$1=0){return(row*image.width+column)*image.channels+channel$1}var formatter=new Intl.ListFormat(`en`,{type:`disjunction`});function checkProcessable(image,options$1={}){let{bitDepth,alpha,colorModel,components,channels}=options$1;if(bitDepth&&(Array.isArray(bitDepth)||(bitDepth=[bitDepth]),!bitDepth.includes(image.bitDepth)))throw RangeError(`image bitDepth must be ${format(bitDepth)} to apply this algorithm`);if(alpha&&(Array.isArray(alpha)||(alpha=[alpha]),!alpha.includes(image.alpha)))throw RangeError(`image alpha must be ${format(alpha)} to apply this algorithm`);if(colorModel&&(Array.isArray(colorModel)||(colorModel=[colorModel]),!colorModel.includes(image.colorModel)))throw RangeError(`image colorModel must be ${format(colorModel)} to apply this algorithm`);if(components&&(Array.isArray(components)||(components=[components]),!components.includes(image.components))){let errorMessage=`image components must be ${format(components)} to apply this algorithm`;throw components.length===1&&components[0]===1?RangeError(`${errorMessage}. The image can be converted using "image.grey()"`):RangeError(errorMessage)}if(channels&&(Array.isArray(channels)||(channels=[channels]),!channels.includes(image.channels)))throw RangeError(`image channels must be ${format(channels)} to apply this algorithm`)}function format(array){return formatter.format(array.map(String))}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];init_lib_esm();function xMedian(input,options$1={}){if(!isAnyArray(input))throw TypeError(`input must be an array`);if(input.length===0)throw TypeError(`input must not be empty`);let{exact=!1}=options$1||{},array=input.slice(),middleIndex=calcMiddle(0,array.length-1),median$1=quickSelect(array,middleIndex);if(array.length%2==1||!exact)return median$1;let medianNext=quickSelect(array,middleIndex+1);return(median$1+medianNext)/2}function quickSelect(array,middleIndex){let low=0,high=array.length-1,middle=0,currentLow=0,currentHigh=0;for(;;){if(high<=low)return array[middleIndex];if(high===low+1)return array[low]>array[high]&&swap(array,low,high),array[middleIndex];for(middle=calcMiddle(low,high),array[middle]>array[high]&&swap(array,middle,high),array[low]>array[high]&&swap(array,low,high),array[middle]>array[low]&&swap(array,middle,low),swap(array,middle,low+1),currentLow=low+1,currentHigh=high;;){do currentLow++;while(array[low]>array[currentLow]);do currentHigh--;while(array[currentHigh]>array[low]);if(currentHigh<currentLow)break;swap(array,currentLow,currentHigh)}swap(array,low,currentHigh),currentHigh<=middleIndex&&(low=currentLow),currentHigh>=middleIndex&&(high=currentHigh-1)}}function swap(array,i$3,j$2){let temp=array[j$2];array[j$2]=array[i$3],array[i$3]=temp}function calcMiddle(i$3,j$2){return Math.floor((i$3+j$2)/2)}var require_fft=__commonJSMin(((exports,module)=>{function FFT$3(size){if(this.size=size|0,this.size<=1||this.size&this.size-1)throw Error(`FFT size must be a power of two and bigger than 1`);this._csize=size<<1;for(var table=Array(this.size*2),i$3=0;i$3<table.length;i$3+=2){let angle=Math.PI*i$3/this.size;table[i$3]=Math.cos(angle),table[i$3+1]=-Math.sin(angle)}this.table=table;for(var power=0,t$3=1;this.size>t$3;t$3<<=1)power++;this._width=power%2==0?power-1:power,this._bitrev=Array(1<<this._width);for(var j$2=0;j$2<this._bitrev.length;j$2++){this._bitrev[j$2]=0;for(var shift=0;shift<this._width;shift+=2){var revShift=this._width-shift-2;this._bitrev[j$2]|=(j$2>>>shift&3)<<revShift}}this._out=null,this._data=null,this._inv=0}module.exports=FFT$3,FFT$3.prototype.fromComplexArray=function(complex,storage){for(var res=storage||Array(complex.length>>>1),i$3=0;i$3<complex.length;i$3+=2)res[i$3>>>1]=complex[i$3];return res},FFT$3.prototype.createComplexArray=function(){let res=Array(this._csize);for(var i$3=0;i$3<res.length;i$3++)res[i$3]=0;return res},FFT$3.prototype.toComplexArray=function(input,storage){for(var res=storage||this.createComplexArray(),i$3=0;i$3<res.length;i$3+=2)res[i$3]=input[i$3>>>1],res[i$3+1]=0;return res},FFT$3.prototype.completeSpectrum=function(spectrum){for(var size=this._csize,half=size>>>1,i$3=2;i$3<half;i$3+=2)spectrum[size-i$3]=spectrum[i$3],spectrum[size-i$3+1]=-spectrum[i$3+1]},FFT$3.prototype.transform=function(out,data){if(out===data)throw Error(`Input and output buffers must be different`);this._out=out,this._data=data,this._inv=0,this._transform4(),this._out=null,this._data=null},FFT$3.prototype.realTransform=function(out,data){if(out===data)throw Error(`Input and output buffers must be different`);this._out=out,this._data=data,this._inv=0,this._realTransform4(),this._out=null,this._data=null},FFT$3.prototype.inverseTransform=function(out,data){if(out===data)throw Error(`Input and output buffers must be different`);this._out=out,this._data=data,this._inv=1,this._transform4();for(var i$3=0;i$3<out.length;i$3++)out[i$3]/=this.size;this._out=null,this._data=null},FFT$3.prototype._transform4=function(){var out=this._out,size=this._csize,step=1<<this._width,len=size/step<<1,outOff,t$3,bitrev=this._bitrev;if(len===4)for(outOff=0,t$3=0;outOff<size;outOff+=len,t$3++){let off=bitrev[t$3];this._singleTransform2(outOff,off,step)}else for(outOff=0,t$3=0;outOff<size;outOff+=len,t$3++){let off=bitrev[t$3];this._singleTransform4(outOff,off,step)}var inv=this._inv?-1:1,table=this.table;for(step>>=2;step>=2;step>>=2){len=size/step<<1;var quarterLen=len>>>2;for(outOff=0;outOff<size;outOff+=len)for(var limit=outOff+quarterLen,i$3=outOff,k$2=0;i$3<limit;i$3+=2,k$2+=step){let A$1=i$3,B$1=A$1+quarterLen,C=B$1+quarterLen,D=C+quarterLen,Ar=out[A$1],Ai=out[A$1+1],Br=out[B$1],Bi=out[B$1+1],Cr=out[C],Ci=out[C+1],Dr=out[D],Di=out[D+1],MAr=Ar,MAi=Ai,tableBr=table[k$2],tableBi=inv*table[k$2+1],MBr=Br*tableBr-Bi*tableBi,MBi=Br*tableBi+Bi*tableBr,tableCr=table[2*k$2],tableCi=inv*table[2*k$2+1],MCr=Cr*tableCr-Ci*tableCi,MCi=Cr*tableCi+Ci*tableCr,tableDr=table[3*k$2],tableDi=inv*table[3*k$2+1],MDr=Dr*tableDr-Di*tableDi,MDi=Dr*tableDi+Di*tableDr,T0r=MAr+MCr,T0i=MAi+MCi,T1r=MAr-MCr,T1i=MAi-MCi,T2r=MBr+MDr,T2i=MBi+MDi,T3r=inv*(MBr-MDr),T3i=inv*(MBi-MDi),FAr=T0r+T2r,FAi=T0i+T2i,FCr=T0r-T2r,FCi=T0i-T2i,FBr=T1r+T3i,FBi=T1i-T3r,FDr=T1r-T3i,FDi=T1i+T3r;out[A$1]=FAr,out[A$1+1]=FAi,out[B$1]=FBr,out[B$1+1]=FBi,out[C]=FCr,out[C+1]=FCi,out[D]=FDr,out[D+1]=FDi}}},FFT$3.prototype._singleTransform2=function(outOff,off,step){let out=this._out,data=this._data,evenR=data[off],evenI=data[off+1],oddR=data[off+step],oddI=data[off+step+1],leftR=evenR+oddR,leftI=evenI+oddI,rightR=evenR-oddR,rightI=evenI-oddI;out[outOff]=leftR,out[outOff+1]=leftI,out[outOff+2]=rightR,out[outOff+3]=rightI},FFT$3.prototype._singleTransform4=function(outOff,off,step){let out=this._out,data=this._data,inv=this._inv?-1:1,step2=step*2,step3=step*3,Ar=data[off],Ai=data[off+1],Br=data[off+step],Bi=data[off+step+1],Cr=data[off+step2],Ci=data[off+step2+1],Dr=data[off+step3],Di=data[off+step3+1],T0r=Ar+Cr,T0i=Ai+Ci,T1r=Ar-Cr,T1i=Ai-Ci,T2r=Br+Dr,T2i=Bi+Di,T3r=inv*(Br-Dr),T3i=inv*(Bi-Di),FAr=T0r+T2r,FAi=T0i+T2i,FBr=T1r+T3i,FBi=T1i-T3r,FCr=T0r-T2r,FCi=T0i-T2i,FDr=T1r-T3i,FDi=T1i+T3r;out[outOff]=FAr,out[outOff+1]=FAi,out[outOff+2]=FBr,out[outOff+3]=FBi,out[outOff+4]=FCr,out[outOff+5]=FCi,out[outOff+6]=FDr,out[outOff+7]=FDi},FFT$3.prototype._realTransform4=function(){var out=this._out,size=this._csize,step=1<<this._width,len=size/step<<1,outOff,t$3,bitrev=this._bitrev;if(len===4)for(outOff=0,t$3=0;outOff<size;outOff+=len,t$3++){let off=bitrev[t$3];this._singleRealTransform2(outOff,off>>>1,step>>>1)}else for(outOff=0,t$3=0;outOff<size;outOff+=len,t$3++){let off=bitrev[t$3];this._singleRealTransform4(outOff,off>>>1,step>>>1)}var inv=this._inv?-1:1,table=this.table;for(step>>=2;step>=2;step>>=2){len=size/step<<1;var halfLen=len>>>1,quarterLen=halfLen>>>1,hquarterLen=quarterLen>>>1;for(outOff=0;outOff<size;outOff+=len)for(var i$3=0,k$2=0;i$3<=hquarterLen;i$3+=2,k$2+=step){var A$1=outOff+i$3,B$1=A$1+quarterLen,C=B$1+quarterLen,D=C+quarterLen,Ar=out[A$1],Ai=out[A$1+1],Br=out[B$1],Bi=out[B$1+1],Cr=out[C],Ci=out[C+1],Dr=out[D],Di=out[D+1],MAr=Ar,MAi=Ai,tableBr=table[k$2],tableBi=inv*table[k$2+1],MBr=Br*tableBr-Bi*tableBi,MBi=Br*tableBi+Bi*tableBr,tableCr=table[2*k$2],tableCi=inv*table[2*k$2+1],MCr=Cr*tableCr-Ci*tableCi,MCi=Cr*tableCi+Ci*tableCr,tableDr=table[3*k$2],tableDi=inv*table[3*k$2+1],MDr=Dr*tableDr-Di*tableDi,MDi=Dr*tableDi+Di*tableDr,T0r=MAr+MCr,T0i=MAi+MCi,T1r=MAr-MCr,T1i=MAi-MCi,T2r=MBr+MDr,T2i=MBi+MDi,T3r=inv*(MBr-MDr),T3i=inv*(MBi-MDi),FAr=T0r+T2r,FAi=T0i+T2i,FBr=T1r+T3i,FBi=T1i-T3r;if(out[A$1]=FAr,out[A$1+1]=FAi,out[B$1]=FBr,out[B$1+1]=FBi,i$3===0){var FCr=T0r-T2r,FCi=T0i-T2i;out[C]=FCr,out[C+1]=FCi;continue}if(i$3!==hquarterLen){var ST0r=T1r,ST0i=-T1i,ST1r=T0r,ST1i=-T0i,ST2r=-inv*T3i,ST2i=-inv*T3r,ST3r=-inv*T2i,ST3i=-inv*T2r,SFAr=ST0r+ST2r,SFAi=ST0i+ST2i,SFBr=ST1r+ST3i,SFBi=ST1i-ST3r,SA=outOff+quarterLen-i$3,SB=outOff+halfLen-i$3;out[SA]=SFAr,out[SA+1]=SFAi,out[SB]=SFBr,out[SB+1]=SFBi}}}},FFT$3.prototype._singleRealTransform2=function(outOff,off,step){let out=this._out,data=this._data,evenR=data[off],oddR=data[off+step],leftR=evenR+oddR,rightR=evenR-oddR;out[outOff]=leftR,out[outOff+1]=0,out[outOff+2]=rightR,out[outOff+3]=0},FFT$3.prototype._singleRealTransform4=function(outOff,off,step){let out=this._out,data=this._data,inv=this._inv?-1:1,step2=step*2,step3=step*3,Ar=data[off],Br=data[off+step],Cr=data[off+step2],Dr=data[off+step3],T0r=Ar+Cr,T1r=Ar-Cr,T2r=Br+Dr,T3r=inv*(Br-Dr),FAr=T0r+T2r,FBr=T1r,FBi=-T3r,FCr=T0r-T2r,FDr=T1r,FDi=T3r;out[outOff]=FAr,out[outOff+1]=0,out[outOff+2]=FBr,out[outOff+3]=FBi,out[outOff+4]=FCr,out[outOff+5]=0,out[outOff+6]=FDr,out[outOff+7]=FDi}})),import_fft$2=__toESM(require_fft()),FLOAT_MUL=1/16777216,import_fft$1=__toESM(require_fft());function assert(value,message){if(!value)throw Error(message||`unreachable`)}function assertUnreachable(x$2){throw Error(`unreachable: ${String(x$2)}`)}function getClamp(image){return image.maxValue===255?clamp255:(assert(image.maxValue===65535),clamp65535)}function clamp255(value){return Math.min(Math.max(value,0),255)}function clamp65535(value){return Math.min(Math.max(value,0),65535)}function validateChannels(channels,image){for(let channel$1 of channels)validateChannel(channel$1,image)}function validateChannel(channel$1,image){if(!Number.isInteger(channel$1)||channel$1>=image.channels||channel$1<0)throw RangeError(`invalid channel: ${channel$1}. It must be a positive integer smaller than ${image.channels}`)}function validateValues(values,image){for(let value of values)validateValue(value,image)}function validateValue(value,image){if(value>image.maxValue||value<0)throw RangeError(`invalid value: ${value}. It must be a positive value smaller than ${image.maxValue+1}`)}function validateForComparison(image,other){if(image.width!==other.width||image.height!==other.height)throw RangeError(`both images must have the same size`);if(image.alpha!==other.alpha||image.bitDepth!==other.bitDepth)throw RangeError(`both images must have the same alpha and bitDepth`);if(image.channels!==other.channels)throw RangeError(`both images must have the same number of channels`)}function validateColor(color,image){validateChannel(color.length-1,image),validateValues(color,image)}function divide(image,value,options$1={}){let{channels=Array(image.channels).fill(0).map((value$1,index$1)=>index$1)}=options$1;if(validateChannels(channels,image),value===0)throw TypeError(`Cannot divide by 0`);let newImage=getOutputImage(image,options$1,{clone:!0});if(channels.length===0)return newImage;for(let channel$1 of channels)for(let row=0;row<newImage.height;row++)for(let column=0;column<newImage.width;column++){let newIntensity=newImage.getValue(column,row,channel$1)/value;newImage.setClampedValue(column,row,channel$1,newIntensity)}return newImage}function getDefaultColor(image){return M(image.colorModel).with(`GREY`,()=>[0]).with(`GREYA`,()=>[0,image.maxValue]).with(`RGB`,()=>[0,0,0]).with(`RGBA`,()=>[0,0,0,image.maxValue]).with(`BINARY`,()=>[1]).exhaustive()}function setBlendedPixel(image,column,row,color){if(color??=getDefaultColor(image),!image.alpha)image.setPixel(column,row,color);else{assert(image instanceof Image$1);let sourceAlpha=color.at(-1);if(sourceAlpha===image.maxValue){image.setPixel(column,row,color);return}let targetAlpha=image.getValue(column,row,image.channels-1),newAlpha=sourceAlpha+targetAlpha*(1-sourceAlpha/image.maxValue);image.setValue(column,row,image.channels-1,newAlpha);for(let component=0;component<image.components;component++){let sourceComponent=color[component],targetComponent=image.getValue(column,row,component),newComponent=(sourceComponent*sourceAlpha+targetComponent*targetAlpha*(1-sourceAlpha/image.maxValue))/newAlpha;image.setValue(column,row,component,newComponent)}}}function setBlendedVisiblePixel(image,column,row,color){column>=0&&column<image.width&&row>=0&&row<image.height&&setBlendedPixel(image,column,row,color)}function roundPoint(point){return{row:Math.round(point.row),column:Math.round(point.column)}}var import_index_umd$2=__toESM(require_index_umd());function drawCircleOnImage(image,center,radius,options$1={}){let newImage=getOutputImage(image,options$1,{clone:!0}),{strokeColor=getDefaultColor(newImage),fillColor}=options$1;if(validateColor(strokeColor,newImage),checkProcessable(newImage,{bitDepth:[8,16]}),radius<0)throw RangeError(`circle radius must be positive`);if(center=roundPoint(center),radius=Math.round(radius),radius===0)return setBlendedVisiblePixel(newImage,center.column,center.row,strokeColor),newImage;if(!fillColor)(0,import_index_umd$2.circle)(center.column,center.row,radius,(column,row)=>{setBlendedVisiblePixel(newImage,column,row,strokeColor)});else{radius===1&&setBlendedVisiblePixel(newImage,center.column,center.row,fillColor);let prevRow=center.row+radius,index$1=0;(0,import_index_umd$2.circle)(center.column,center.row,radius,(column,row)=>{setBlendedVisiblePixel(newImage,column,row,strokeColor),index$1===0&&newImage.drawLine({row,column:column-1},{row,column:center.column-(column-center.column-1)},{strokeColor:fillColor,out:newImage}),index$1%4==1&&prevRow!==row&&(newImage.drawLine({row,column:column+1},{row,column:center.column-(column-center.column+1)},{strokeColor:fillColor,out:newImage}),prevRow=row,newImage.drawLine({row:center.row-(row-center.row),column:column+1},{row:center.row-(row-center.row),column:center.column-(column-center.column+1)},{strokeColor:fillColor,out:newImage})),index$1++})}return newImage}var import_index_umd$1=__toESM(require_index_umd());function drawLineOnImage(image,from,to,options$1={}){let newImage=getOutputImage(image,options$1,{clone:!0}),{strokeColor=getDefaultColor(newImage),origin={column:0,row:0}}=options$1;return validateColor(strokeColor,newImage),checkProcessable(newImage,{bitDepth:[8,16]}),(0,import_index_umd$1.line)(Math.round(origin.column+from.column),Math.round(origin.row+from.row),Math.round(origin.column+to.column),Math.round(origin.row+to.row),(column,row)=>{setBlendedVisiblePixel(newImage,column,row,strokeColor)}),newImage}var import_index_umd=__toESM(require_index_umd());function drawLineOnMask(mask,from,to,options$1={}){let{origin={column:0,row:0}}=options$1,newMask=maskToOutputMask(mask,options$1,{clone:!0});return(0,import_index_umd.line)(Math.round(origin.column+from.column),Math.round(origin.row+from.row),Math.round(origin.column+to.column),Math.round(origin.row+to.row),(column,row)=>{newMask.setVisiblePixel(column,row,[1])}),newMask}function drawPolylineOnImage(image,points,options$1={}){let{strokeColor:color=getDefaultColor(image),origin={column:0,row:0}}=options$1;checkProcessable(image,{bitDepth:[8,16]});let newImage=getOutputImage(image,options$1,{clone:!0});validateColor(color,newImage);for(let i$3=0;i$3<points.length-1;i$3++){let from=points[i$3],to=points[i$3+1];newImage.drawLine(from,to,{out:newImage,strokeColor:color,origin})}return newImage}function drawPolylineOnMask(mask,points,options$1={}){let newImage=maskToOutputMask(mask,options$1,{clone:!0});for(let i$3=0;i$3<points.length-1;i$3++){let from=points[i$3],to=points[i$3+1];newImage.drawLine(from,to,{out:newImage,origin:options$1.origin})}return newImage}var require_two_product=__commonJSMin(((exports,module)=>{module.exports=twoProduct$2;var SPLITTER=+(2**27+1);function twoProduct$2(a$3,b$3,result){var x$2=a$3*b$3,c$2=SPLITTER*a$3,abig=c$2-a$3,ahi=c$2-abig,alo=a$3-ahi,d$2=SPLITTER*b$3,bbig=d$2-b$3,bhi=d$2-bbig,blo=b$3-bhi,err3=x$2-ahi*bhi-alo*bhi-ahi*blo,y$2=alo*blo-err3;return result?(result[0]=y$2,result[1]=x$2,result):[y$2,x$2]}})),require_robust_sum=__commonJSMin(((exports,module)=>{module.exports=linearExpansionSum;function scalarScalar$1(a$3,b$3){var x$2=a$3+b$3,bv=x$2-a$3,av=x$2-bv,br=b$3-bv,y$2=a$3-av+br;return y$2?[y$2,x$2]:[x$2]}function linearExpansionSum(e$3,f$1){var ne=e$3.length|0,nf=f$1.length|0;if(ne===1&&nf===1)return scalarScalar$1(e$3[0],f$1[0]);var n$3=ne+nf,g$1=Array(n$3),count=0,eptr=0,fptr=0,abs=Math.abs,ei=e$3[eptr],ea=abs(ei),fi=f$1[fptr],fa=abs(fi),a$3,b$3;ea<fa?(b$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(b$3=fi,fptr+=1,fptr<nf&&(fi=f$1[fptr],fa=abs(fi))),eptr<ne&&ea<fa||fptr>=nf?(a$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(a$3=fi,fptr+=1,fptr<nf&&(fi=f$1[fptr],fa=abs(fi)));for(var x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,q0=y$2,q1=x$2,_x,_bv,_av,_br,_ar;eptr<ne&&fptr<nf;)ea<fa?(a$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(a$3=fi,fptr+=1,fptr<nf&&(fi=f$1[fptr],fa=abs(fi))),b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x;for(;eptr<ne;)a$3=ei,b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x,eptr+=1,eptr<ne&&(ei=e$3[eptr]);for(;fptr<nf;)a$3=fi,b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x,fptr+=1,fptr<nf&&(fi=f$1[fptr]);return q0&&(g$1[count++]=q0),q1&&(g$1[count++]=q1),count||(g$1[count++]=0),g$1.length=count,g$1}})),require_two_sum=__commonJSMin(((exports,module)=>{module.exports=fastTwoSum;function fastTwoSum(a$3,b$3,result){var x$2=a$3+b$3,bv=x$2-a$3,av=x$2-bv,br=b$3-bv,ar=a$3-av;return result?(result[0]=ar+br,result[1]=x$2,result):[ar+br,x$2]}})),require_robust_scale=__commonJSMin(((exports,module)=>{var twoProduct$1=require_two_product(),twoSum=require_two_sum();module.exports=scaleLinearExpansion;function scaleLinearExpansion(e$3,scale){var n$3=e$3.length;if(n$3===1){var ts=twoProduct$1(e$3[0],scale);return ts[0]?ts:[ts[1]]}var g$1=Array(2*n$3),q=[.1,.1],t$3=[.1,.1],count=0;twoProduct$1(e$3[0],scale,q),q[0]&&(g$1[count++]=q[0]);for(var i$3=1;i$3<n$3;++i$3){twoProduct$1(e$3[i$3],scale,t$3);var pq=q[1];twoSum(pq,t$3[0],q),q[0]&&(g$1[count++]=q[0]);var a$3=t$3[1],b$3=q[1],x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv;q[1]=x$2,y$2&&(g$1[count++]=y$2)}return q[1]&&(g$1[count++]=q[1]),count===0&&(g$1[count++]=0),g$1.length=count,g$1}})),require_robust_diff=__commonJSMin(((exports,module)=>{module.exports=robustSubtract$1;function scalarScalar(a$3,b$3){var x$2=a$3+b$3,bv=x$2-a$3,av=x$2-bv,br=b$3-bv,y$2=a$3-av+br;return y$2?[y$2,x$2]:[x$2]}function robustSubtract$1(e$3,f$1){var ne=e$3.length|0,nf=f$1.length|0;if(ne===1&&nf===1)return scalarScalar(e$3[0],-f$1[0]);var n$3=ne+nf,g$1=Array(n$3),count=0,eptr=0,fptr=0,abs=Math.abs,ei=e$3[eptr],ea=abs(ei),fi=-f$1[fptr],fa=abs(fi),a$3,b$3;ea<fa?(b$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(b$3=fi,fptr+=1,fptr<nf&&(fi=-f$1[fptr],fa=abs(fi))),eptr<ne&&ea<fa||fptr>=nf?(a$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(a$3=fi,fptr+=1,fptr<nf&&(fi=-f$1[fptr],fa=abs(fi)));for(var x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,q0=y$2,q1=x$2,_x,_bv,_av,_br,_ar;eptr<ne&&fptr<nf;)ea<fa?(a$3=ei,eptr+=1,eptr<ne&&(ei=e$3[eptr],ea=abs(ei))):(a$3=fi,fptr+=1,fptr<nf&&(fi=-f$1[fptr],fa=abs(fi))),b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x;for(;eptr<ne;)a$3=ei,b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x,eptr+=1,eptr<ne&&(ei=e$3[eptr]);for(;fptr<nf;)a$3=fi,b$3=q0,x$2=a$3+b$3,bv=x$2-a$3,y$2=b$3-bv,y$2&&(g$1[count++]=y$2),_x=q1+x$2,_bv=_x-q1,_av=_x-_bv,_br=x$2-_bv,_ar=q1-_av,q0=_ar+_br,q1=_x,fptr+=1,fptr<nf&&(fi=-f$1[fptr]);return q0&&(g$1[count++]=q0),q1&&(g$1[count++]=q1),count||(g$1[count++]=0),g$1.length=count,g$1}})),require_orientation=__commonJSMin(((exports,module)=>{var twoProduct=require_two_product(),robustSum=require_robust_sum(),robustScale=require_robust_scale(),robustSubtract=require_robust_diff(),NUM_EXPAND=5,EPSILON=11102230246251565e-32,ERRBOUND3=(3+16*EPSILON)*EPSILON,ERRBOUND4=(7+56*EPSILON)*EPSILON;function orientation_3(sum,prod,scale,sub){return function(m0,m1,m2){var p$3=sum(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0]))),n$3=sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),d$2=sub(p$3,n$3);return d$2[d$2.length-1]}}function orientation_4(sum,prod,scale,sub){return function(m0,m1,m2,m3){var p$3=sum(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m1[2]),sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),-m2[2]),scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m3[2]))),sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m3[2])))),n$3=sum(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m2[2]),scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),m3[2]))),sum(scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m2[2])))),d$2=sub(p$3,n$3);return d$2[d$2.length-1]}}function orientation_5(sum,prod,scale,sub){return function(m0,m1,m2,m3,m4){var p$3=sum(sum(sum(scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m2[2]),sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),-m3[2]),scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m4[2]))),m1[3]),sum(scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m1[2]),sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),-m3[2]),scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),m4[2]))),-m2[3]),scale(sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),m1[2]),sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),-m2[2]),scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m4[2]))),m3[3]))),sum(scale(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m1[2]),sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),-m2[2]),scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m3[2]))),-m4[3]),sum(scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m1[2]),sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),-m3[2]),scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),m4[2]))),m0[3]),scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m3[2]),scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),m4[2]))),-m1[3])))),sum(sum(scale(sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m4[2]))),m3[3]),sum(scale(sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m3[2]))),-m4[3]),scale(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m1[2]),sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),-m2[2]),scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m3[2]))),m0[3]))),sum(scale(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m2[2]),scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),m3[2]))),-m1[3]),sum(scale(sum(scale(sum(prod(m1[1],m3[0]),prod(-m3[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m3[2]))),m2[3]),scale(sum(scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m2[2]))),-m3[3]))))),n$3=sum(sum(sum(scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m2[2]),sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),-m3[2]),scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m4[2]))),m0[3]),scale(sum(scale(sum(prod(m3[1],m4[0]),prod(-m4[1],m3[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m3[2]),scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),m4[2]))),-m2[3])),sum(scale(sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m2[2]),scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),m4[2]))),m3[3]),scale(sum(scale(sum(prod(m2[1],m3[0]),prod(-m3[1],m2[0])),m0[2]),sum(scale(sum(prod(m0[1],m3[0]),prod(-m3[1],m0[0])),-m2[2]),scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),m3[2]))),-m4[3]))),sum(sum(scale(sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),m1[2]),sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),-m2[2]),scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m4[2]))),m0[3]),scale(sum(scale(sum(prod(m2[1],m4[0]),prod(-m4[1],m2[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m2[2]),scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),m4[2]))),-m1[3])),sum(scale(sum(scale(sum(prod(m1[1],m4[0]),prod(-m4[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m4[0]),prod(-m4[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m4[2]))),m2[3]),scale(sum(scale(sum(prod(m1[1],m2[0]),prod(-m2[1],m1[0])),m0[2]),sum(scale(sum(prod(m0[1],m2[0]),prod(-m2[1],m0[0])),-m1[2]),scale(sum(prod(m0[1],m1[0]),prod(-m1[1],m0[0])),m2[2]))),-m4[3])))),d$2=sub(p$3,n$3);return d$2[d$2.length-1]}}function orientation(n$3){return(n$3===3?orientation_3:n$3===4?orientation_4:orientation_5)(robustSum,twoProduct,robustScale,robustSubtract)}var orientation3Exact=orientation(3),orientation4Exact=orientation(4),CACHED=[function(){return 0},function(){return 0},function(a$3,b$3){return b$3[0]-a$3[0]},function(a$3,b$3,c$2){var l$2=(a$3[1]-c$2[1])*(b$3[0]-c$2[0]),r$3=(a$3[0]-c$2[0])*(b$3[1]-c$2[1]),det=l$2-r$3,s$2;if(l$2>0){if(r$3<=0)return det;s$2=l$2+r$3}else if(l$2<0){if(r$3>=0)return det;s$2=-(l$2+r$3)}else return det;var tol=ERRBOUND3*s$2;return det>=tol||det<=-tol?det:orientation3Exact(a$3,b$3,c$2)},function(a$3,b$3,c$2,d$2){var adx=a$3[0]-d$2[0],bdx=b$3[0]-d$2[0],cdx=c$2[0]-d$2[0],ady=a$3[1]-d$2[1],bdy=b$3[1]-d$2[1],cdy=c$2[1]-d$2[1],adz=a$3[2]-d$2[2],bdz=b$3[2]-d$2[2],cdz=c$2[2]-d$2[2],bdxcdy=bdx*cdy,cdxbdy=cdx*bdy,cdxady=cdx*ady,adxcdy=adx*cdy,adxbdy=adx*bdy,bdxady=bdx*ady,det=adz*(bdxcdy-cdxbdy)+bdz*(cdxady-adxcdy)+cdz*(adxbdy-bdxady),permanent=(Math.abs(bdxcdy)+Math.abs(cdxbdy))*Math.abs(adz)+(Math.abs(cdxady)+Math.abs(adxcdy))*Math.abs(bdz)+(Math.abs(adxbdy)+Math.abs(bdxady))*Math.abs(cdz),tol=ERRBOUND4*permanent;return det>tol||-det>tol?det:orientation4Exact(a$3,b$3,c$2,d$2)}];function slowOrient(args){var proc$1=CACHED[args.length];return proc$1||=CACHED[args.length]=orientation(args.length),proc$1.apply(void 0,args)}function proc(slow,o0,o1,o2,o3,o4,o5){return function(a0,a1,a2,a3,a4){switch(arguments.length){case 0:case 1:return 0;case 2:return o2(a0,a1);case 3:return o3(a0,a1,a2);case 4:return o4(a0,a1,a2,a3);case 5:return o5(a0,a1,a2,a3,a4)}for(var s$2=Array(arguments.length),i$3=0;i$3<arguments.length;++i$3)s$2[i$3]=arguments[i$3];return slow(s$2)}}function generateOrientationProc(){for(;CACHED.length<=NUM_EXPAND;)CACHED.push(orientation(CACHED.length));module.exports=proc.apply(void 0,[slowOrient].concat(CACHED));for(var i$3=0;i$3<=NUM_EXPAND;++i$3)module.exports[i$3]=CACHED[i$3]}generateOrientationProc()})),require_robust_pnp=__commonJSMin(((exports,module)=>{module.exports=robustPointInPolygon$2;var orient=require_orientation();function robustPointInPolygon$2(vs,point){for(var x$2=point[0],y$2=point[1],n$3=vs.length,inside=1,lim=n$3,i$3=0,j$2=n$3-1;i$3<lim;j$2=i$3++){var a$3=vs[i$3],b$3=vs[j$2],yi=a$3[1],yj=b$3[1];if(yj<yi){if(yj<y$2&&y$2<yi){var s$2=orient(a$3,b$3,point);if(s$2===0)return 0;inside^=0<s$2|0}else if(y$2===yi){var c$2=vs[(i$3+1)%n$3],yk=c$2[1];if(yi<yk){var s$2=orient(a$3,b$3,point);if(s$2===0)return 0;inside^=0<s$2|0}}}else if(yi<yj){if(yi<y$2&&y$2<yj){var s$2=orient(a$3,b$3,point);if(s$2===0)return 0;inside^=s$2<0|0}else if(y$2===yi){var c$2=vs[(i$3+1)%n$3],yk=c$2[1];if(yk<yi){var s$2=orient(a$3,b$3,point);if(s$2===0)return 0;inside^=s$2<0|0}}}else if(y$2===yi){var x0=Math.min(a$3[0],b$3[0]),x1=Math.max(a$3[0],b$3[0]);if(i$3===0){for(;j$2>0;){var k$2=(j$2+n$3-1)%n$3,p$3=vs[k$2];if(p$3[1]!==y$2)break;var px=p$3[0];x0=Math.min(x0,px),x1=Math.max(x1,px),j$2=k$2}if(j$2===0)return x0<=x$2&&x$2<=x1?0:1;lim=j$2+1}for(var y0=vs[(j$2+n$3-1)%n$3][1];i$3+1<lim;){var p$3=vs[i$3+1];if(p$3[1]!==y$2)break;var px=p$3[0];x0=Math.min(x0,px),x1=Math.max(x1,px),i$3+=1}if(x0<=x$2&&x$2<=x1)return 0;var y1=vs[(i$3+1)%n$3][1];x$2<x0&&y0<y$2!=y1<y$2&&(inside^=1)}}return 2*inside-1}})),import_robust_pnp$1=__toESM(require_robust_pnp());function arrayPointsToObjects(points){let result=[];for(let point of points)result.push([point.column,point.row]);return result}function drawPolygonOnImage(image,points,options$1={}){let{fillColor,origin={column:0,row:0},...otherOptions}=options$1;checkProcessable(image,{bitDepth:[8,16]});let newImage=getOutputImage(image,options$1,{clone:!0});if(fillColor===void 0)return newImage.drawPolyline([...points,points[0]],{origin,...otherOptions});{validateColor(fillColor,newImage);let filteredPoints=deleteDuplicates(points),arrayPoints=arrayPointsToObjects(filteredPoints);for(let row=0;row<newImage.height;row++)for(let column=0;column<newImage.width;column++)(0,import_robust_pnp$1.default)(arrayPoints,[column,row])===-1&&setBlendedVisiblePixel(newImage,Math.round(origin.column)+column,Math.round(origin.row)+row,fillColor)}return newImage.drawPolyline([...points,points[0]],{origin,...otherOptions})}var import_robust_pnp=__toESM(require_robust_pnp());function drawPolygonOnMask(mask,points,options$1={}){let{filled=!1,origin={column:0,row:0},...otherOptions}=options$1,newMask=maskToOutputMask(mask,options$1,{clone:!0});if(!filled)return newMask.drawPolyline([...points,points[0]],{origin,...otherOptions});let filteredPoints=deleteDuplicates(points),arrayPoints=arrayPointsToObjects(filteredPoints);for(let row=0;row<newMask.height;row++)for(let column=0;column<newMask.width;column++)(0,import_robust_pnp.default)(arrayPoints,[column,row])===-1&&newMask.setBit(Math.round(origin.column)+column,Math.round(origin.row)+row,1);return newMask.drawPolyline([...points,points[0]],{origin,...otherOptions})}function drawRectangle(image,options$1={}){let{width:rectangleWidth=image.width,height:rectangleHeight=image.height,origin={column:0,row:0},strokeColor=getDefaultColor(image),fillColor}=options$1,width=Math.round(rectangleWidth),height=Math.round(rectangleHeight),column=Math.round(origin.column),row=Math.round(origin.row),newImage;image instanceof Image$1?(checkProcessable(image,{bitDepth:[8,16]}),validateColor(strokeColor,image),fillColor&&validateColor(fillColor,image),newImage=getOutputImage(image,options$1,{clone:!0})):newImage=maskToOutputMask(image,options$1,{clone:!0});for(let currentColumn=column;currentColumn<column+width;currentColumn++)setBlendedVisiblePixel(newImage,currentColumn,row,strokeColor),setBlendedVisiblePixel(newImage,currentColumn,row+height-1,strokeColor);for(let currentRow=row+1;currentRow<row+height-1;currentRow++)setBlendedVisiblePixel(newImage,column,currentRow,strokeColor),setBlendedVisiblePixel(newImage,column+width-1,currentRow,strokeColor);if(fillColor)for(let currentRow=row+1;currentRow<row+height-1;currentRow++)for(let currentColumn=column+1;currentColumn<column+width-1;currentColumn++)setBlendedVisiblePixel(newImage,currentColumn,currentRow,fillColor);return newImage}function drawPoints(image,points,options$1={}){let{color=getDefaultColor(image),origin={row:0,column:0}}=options$1,newImage;image instanceof Image$1?(newImage=getOutputImage(image,options$1,{clone:!0}),validateColor(color,newImage)):newImage=maskToOutputMask(image,options$1,{clone:!0}),checkProcessable(newImage,{bitDepth:[1,8,16]});for(let point of points)setBlendedVisiblePixel(newImage,Math.round(origin.column+point.column),Math.round(origin.row+point.row),color);return newImage}function drawMarker(image,point,options$1){let newImage=getOutputImage(image,options$1,{clone:!0}),{strokeColor=getDefaultColor(newImage),fillColor,shape=`cross`,size:markerSize=1}=options$1,size=Math.round(markerSize);if(validateColor(strokeColor,newImage),fillColor&&validateColor(fillColor,newImage),checkProcessable(newImage,{bitDepth:[8,16]}),shape===`circle`&&newImage.drawCircle(point,size,{strokeColor,fillColor,out:newImage}),shape===`triangle`){let points=[{row:point.row-size,column:point.column},{row:point.row,column:point.column+size},{row:point.row,column:point.column-size}];newImage.drawPolygon(points,{strokeColor,fillColor,out:newImage})}if(shape===`cross`&&(newImage.drawLine({row:point.row-size,column:point.column},{row:point.row+size,column:point.column},{strokeColor,out:newImage}),newImage.drawLine({row:point.row,column:point.column-size},{row:point.row,column:point.column+size},{strokeColor,out:newImage})),shape===`square`){let origin={row:point.row-(size-1)/2,column:point.column-(size-1)/2};newImage.drawRectangle({origin,width:size,height:size,strokeColor,fillColor,out:newImage})}return newImage}function drawMarkers(image,points,options$1={}){let newImage=getOutputImage(image,options$1,{clone:!0});for(let point of points)drawMarker(newImage,point,{...options$1,out:newImage});return newImage}function and(mask,otherMask,options$1){let newMask=maskToOutputMask(mask,options$1);if(mask.width!==otherMask.width||mask.height!==otherMask.height)throw RangeError(`both masks must have the same size`);for(let i$3=0;i$3<newMask.size;i$3++)mask.getBitByIndex(i$3)&&otherMask.getBitByIndex(i$3)?newMask.setBitByIndex(i$3,1):newMask.setBitByIndex(i$3,0);return newMask}function checkSize(size){if(!Number.isInteger(size)||size<1)throw TypeError(`size must be a positive integer. Got ${size}`)}function checkKernel$1(kernel){if(kernel.length===0||kernel.length%2!=1)throw RangeError(`kernel must have an odd positive length. Got ${kernel.length}`)}function checkBorderType(borderType){if(borderType!==`CONSTANT`&&borderType!==`CUT`)throw RangeError(`unexpected border type: ${borderType}`)}function checkInputLength(actual,expected){if(actual!==expected)throw RangeError(`input length (${actual}) does not match setup size (${expected})`)}function createArray(len){let array=[];for(var i$3=0;i$3<len;i$3++)array.push(0);return array}var DirectConvolution=class{constructor(size,kernel,borderType=`CONSTANT`){checkSize(size),checkKernel$1(kernel),checkBorderType(borderType),this.size=size,this.kernelOffset=(kernel.length-1)/2,this.outputSize=borderType===`CONSTANT`?size:size-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=kernel,this.kernelSize=kernel.length,this.borderType=borderType}convolve(input){return checkInputLength(input.length,this.size),this.output.fill(0),this.borderType===`CONSTANT`?this._convolutionBorder0(input):this._convolutionBorderCut(input),this.output}_convolutionBorder0(input){for(let i$3=0;i$3<this.size;i$3++)for(let j$2=0;j$2<this.kernelSize;j$2++)this.output[i$3]+=interpolateInput(input,i$3-this.kernelOffset+j$2)*this.kernel[j$2]}_convolutionBorderCut(input){for(let i$3=this.kernelOffset;i$3<this.size-this.kernelOffset;i$3++){let index$1=i$3-this.kernelOffset;for(let j$2=0;j$2<this.kernelSize;j$2++)this.output[index$1]+=input[index$1+j$2]*this.kernel[j$2]}}};function interpolateInput(input,idx){return idx<0||idx>=input.length?0:input[idx]}var require_next_power_of_two=__commonJSMin(((exports,module)=>{module.exports=nextPowerOfTwo;function nextPowerOfTwo(n$3){return n$3===0?1:(n$3--,n$3|=n$3>>1,n$3|=n$3>>2,n$3|=n$3>>4,n$3|=n$3>>8,n$3|=n$3>>16,n$3+1)}})),import_fft=__toESM(require_fft()),import_next_power_of_two=__toESM(require_next_power_of_two());const BorderType={CONSTANT:`CONSTANT`,CUT:`CUT`};function getBorderInterpolation(type,value){return M(type).with(`constant`,()=>getInterpolateConstant(value)).with(`replicate`,()=>interpolateReplicate).with(`reflect`,()=>interpolateReflect).with(`reflect101`,()=>interpolateReflect101).with(`wrap`,()=>interpolateWrap).exhaustive()}function checkRange(point,length){if(point<=0-length||point>=length+length-1)throw RangeError(`border must be smaller than the original image`)}function getInterpolateConstant(value){return function(column,row,channel$1,image){let newColumn=interpolateConstantPoint(column,image.width),newRow=interpolateConstantPoint(row,image.height);return newColumn===-1||newRow===-1?value:image.getValue(newColumn,newRow,channel$1)}}function interpolateConstantPoint(point,length){return point>=0&&point<length?point:-1}function interpolateReplicate(column,row,channel$1,image){return image.getValue(interpolateReplicatePoint(column,image.width),interpolateReplicatePoint(row,image.height),channel$1)}function interpolateReplicatePoint(point,length){return point>=0&&point<length?point:(checkRange(point,length),point<0?0:length-1)}function interpolateReflect(column,row,channel$1,image){return image.getValue(interpolateReflectPoint(column,image.width),interpolateReflectPoint(row,image.height),channel$1)}function interpolateReflectPoint(point,length){return point>=0&&point<length?point:(checkRange(point,length),point<0?-1-point:length+length-1-point)}function interpolateWrap(column,row,channel$1,image){return image.getValue(interpolateWrapPoint(column,image.width),interpolateWrapPoint(row,image.height),channel$1)}function interpolateWrapPoint(point,length){return point>=0&&point<length?point:(checkRange(point,length),point<0?length+point:point-length)}function interpolateReflect101(column,row,channel$1,image){return image.getValue(interpolateReflect101Point(column,image.width),interpolateReflect101Point(row,image.height),channel$1)}function interpolateReflect101Point(point,length){return point>=0&&point<length?point:(checkRange(point,length),point<0?0-point:length+length-2-point)}function extendBorders(image,options$1){let{horizontal,vertical,borderType=`reflect101`,borderValue=0}=options$1,interpolateBorder=getBorderInterpolation(borderType,borderValue),newImage=Image$1.createFrom(image,{width:image.width+2*horizontal,height:image.height+2*vertical});image.copyTo(newImage,{origin:{column:horizontal,row:vertical},out:newImage});for(let row=0;row<vertical;row++)for(let col=0;col<newImage.width;col++)for(let channel$1=0;channel$1<image.channels;channel$1++){let newValue=interpolateBorder(col-horizontal,row-vertical,channel$1,image);newImage.setValue(col,row,channel$1,newValue)}for(let row=newImage.height-vertical;row<newImage.height;row++)for(let col=0;col<newImage.width;col++)for(let channel$1=0;channel$1<image.channels;channel$1++){let newValue=interpolateBorder(col-horizontal,row-vertical,channel$1,image);newImage.setValue(col,row,channel$1,newValue)}for(let row=vertical;row<newImage.height-vertical;row++)for(let col=0;col<horizontal;col++)for(let channel$1=0;channel$1<image.channels;channel$1++){let newValue=interpolateBorder(col-horizontal,row-vertical,channel$1,image);newImage.setValue(col,row,channel$1,newValue)}for(let row=vertical;row<newImage.height-vertical;row++)for(let col=newImage.width-horizontal;col<newImage.width;col++)for(let channel$1=0;channel$1<image.channels;channel$1++){let newValue=interpolateBorder(col-horizontal,row-vertical,channel$1,image);newImage.setValue(col,row,channel$1,newValue)}return newImage}function round(value){let integer=Math.trunc(value),decimal=value-integer;return decimal<.5?integer:decimal>.5?integer+1:integer%2==0?integer:integer+1}function directConvolution(image,kernel,options$1={}){let{borderType=`reflect101`,borderValue=0}=options$1,convolutedData=rawDirectConvolution(image,kernel,{borderType,borderValue}),newImage=getOutputImage(image,options$1),clamp=getClamp(newImage);for(let i$3=0;i$3<image.size;i$3++)for(let channel$1=0;channel$1<image.channels;channel$1++){let dataIndex=i$3*image.channels+channel$1,newValue=round(clamp(convolutedData[dataIndex]));newImage.setValueByIndex(i$3,channel$1,newValue)}return newImage}function rawDirectConvolution(image,kernel,options$1={}){let{borderType=`reflect101`,borderValue=0}=options$1,interpolateBorder=getBorderInterpolation(borderType,borderValue),result=new Float64Array(image.size*image.channels);for(let channel$1=0;channel$1<image.channels;channel$1++)for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++){let index$1=getIndex(column,row,image,channel$1);result[index$1]=computeConvolutionValue(column,row,channel$1,image,kernel,interpolateBorder,{returnRawValue:!0})}return result}function separableConvolution(image,kernelX$1,kernelY$1,options$1={}){let{normalize:normalize$1,borderType=`reflect101`,borderValue=0}=options$1;normalize$1&&([kernelX$1,kernelY$1]=normalizeSeparatedKernel(kernelX$1,kernelY$1));let kernelOffsetX=(kernelX$1.length-1)/2,kernelOffsetY=(kernelY$1.length-1)/2,extendedImage=extendBorders(image,{horizontal:kernelOffsetX,vertical:kernelOffsetY,borderType,borderValue}),newImage=Image$1.createFrom(image),clamp=getClamp(newImage),rowConvolution=new DirectConvolution(extendedImage.width,kernelX$1,BorderType.CUT),columnConvolution=new DirectConvolution(extendedImage.height,kernelY$1,BorderType.CUT),rowData=new Float64Array(extendedImage.width),columnData=new Float64Array(extendedImage.height),convolvedData=new Float64Array(image.width*extendedImage.height);for(let channel$1=0;channel$1<extendedImage.channels;channel$1++){for(let row=0;row<extendedImage.height;row++){for(let column=0;column<extendedImage.width;column++)rowData[column]=extendedImage.getValue(column,row,channel$1);let convolvedRow=rowConvolution.convolve(rowData);for(let column=0;column<image.width;column++)convolvedData[row*image.width+column]=convolvedRow[column]}for(let column=0;column<image.width;column++){for(let row=0;row<extendedImage.height;row++)columnData[row]=convolvedData[row*image.width+column];let convolvedColumn=columnConvolution.convolve(columnData);for(let row=0;row<image.height;row++)newImage.setValue(column,row,channel$1,round(clamp(convolvedColumn[row])))}}return newImage}function computeConvolutionValue(column,row,channel$1,image,kernel,interpolateBorder,options$1={}){let{clamp}=options$1,{returnRawValue=!1}=options$1;returnRawValue&&(clamp=void 0);let val=0,kernelWidth=kernel[0].length,kernelHeight=kernel.length,kernelOffsetX=(kernelWidth-1)/2,kernelOffsetY=(kernelHeight-1)/2;for(let kY=0;kY<kernelHeight;kY++)for(let kX=0;kX<kernelWidth;kX++){let kernelValue=kernel[kY][kX];val+=kernelValue*interpolateBorder(column+kX-kernelOffsetX,row+kY-kernelOffsetY,channel$1,image)}return clamp?round(clamp(val)):val}function normalizeSeparatedKernel(kernelX$1,kernelY$1){let sumKernelX=kernelX$1.reduce((prev,current)=>prev+current,0),sumKernelY=kernelY$1.reduce((prev,current)=>prev+current,0),prod=sumKernelX*sumKernelY;if(prod<0)throw RangeError(`this separated kernel cannot be normalized`);let factor=1/Math.sqrt(Math.abs(prod));return[kernelX$1.map(v$2=>v$2*factor),kernelY$1.map(v$2=>v$2*factor)]}function blur(image,options$1){let{width,height}=options$1;if(width<1||width%2==0)throw RangeError(`Invalid property "width". Must be an odd number greater than 0. Received ${width}.`);if(height<1||height%2==0)throw RangeError(`Invalid property "height". Must be an odd number greater than 0. Received ${height}.`);let kernelX$1=Array(width).fill(1),kernelY$1=Array(height).fill(1);return separableConvolution(image,kernelX$1,kernelY$1,{normalize:!0,...options$1})}function derivativeFilter(image,options$1={}){let{filter=`sobel`}=options$1,kernels=M(filter).with(`sobel`,()=>({kernelX:SOBEL_X,kernelY:SOBEL_Y})).with(`scharr`,()=>({kernelX:SCHARR_X,kernelY:SCHARR_Y})).with(`prewitt`,()=>({kernelX:PREWITT_X,kernelY:PREWITT_Y})).exhaustive();return image.gradientFilter({...kernels,...options$1})}const ImageColorModel={GREY:`GREY`,GREYA:`GREYA`,RGB:`RGB`,RGBA:`RGBA`,BINARY:`BINARY`},colorModels={GREY:{components:1,alpha:!1,channels:1},GREYA:{components:1,alpha:!0,channels:2},RGB:{components:3,alpha:!1,channels:3},RGBA:{components:3,alpha:!0,channels:4},BINARY:{components:1,alpha:!1,channels:1}};function increaseContrast(image,options$1={}){let{uniform=!1}=options$1;checkProcessable(image,{bitDepth:[8,16]});let minMax=image.minMax(),min$2=minMax.min,max$2=minMax.max;if(uniform){let maxDiffIndex=-1,previousDiff=-1;for(let i$3=0;i$3<minMax.max.length;i$3++){let difference$1=minMax.max[i$3]-minMax.min[i$3];difference$1>previousDiff&&(maxDiffIndex=i$3,previousDiff=difference$1)}min$2=minMax.min[maxDiffIndex],max$2=minMax.max[maxDiffIndex]}let channels=Array(image.components).fill(0).map((value,index$1)=>index$1);return image.colorModel===ImageColorModel.GREYA?channels=[0]:image.colorModel===ImageColorModel.RGBA&&(channels=[0,1,2]),image.level({inputMin:min$2,inputMax:max$2,outputMin:0,outputMax:image.maxValue,channels,...options$1})}function gaussianBlur(image,options$1){if(`sigma`in options$1){let{sigma,size=getSize$1(sigma),borderType}=options$1,radius=getRadius(size),kernel=getKernel(radius,sigma);return separableConvolution(image,kernel,kernel,{borderType})}else if(`sigmaX`in options$1&&`sigmaY`in options$1){let{sigmaX,sigmaY,sizeX=getSize$1(sigmaX),sizeY=getSize$1(sigmaY),borderType}=options$1,radiusX=getRadius(sizeX),radiusY=getRadius(sizeY),kernelX$1=getKernel(radiusX,sigmaX),kernelY$1=getKernel(radiusY,sigmaY);return separableConvolution(image,kernelX$1,kernelY$1,{borderType})}else throw TypeError(`you must either define sigma or sigmaX and sigmaY in the options argument`)}function getKernel(radius,sigma){let n$3=radius*2+1,kernel=Array(n$3),sigmaX=sigma||((n$3-1)*.5-1)*.3+.8,scale2X=-.5/(sigmaX*sigmaX),sum=0;for(let i$3=0;i$3<n$3;i$3++){let x$2=i$3-radius,t$3=Math.exp(scale2X*x$2*x$2);kernel[i$3]=t$3,sum+=t$3}for(let i$3=0;i$3<n$3;i$3++)kernel[i$3]/=sum;return kernel}function getSize$1(sigma){return 2*Math.ceil(2*sigma)+1}function gradientFilter(image,options$1){let{borderType=`replicate`,borderValue=0}=options$1;if(checkProcessable(image,{bitDepth:[8,16],colorModel:`GREY`}),`kernelX`in options$1&&`kernelY`in options$1){let{kernelX:kernelX$1,kernelY:kernelY$1}=options$1,gradientX=image.rawDirectConvolution(kernelX$1,{borderType,borderValue}),gradientY=image.rawDirectConvolution(kernelY$1,{borderType,borderValue}),gradient=new Image$1(image.width,image.height,{colorModel:`GREY`});for(let i$3=0;i$3<image.size;i$3++)gradient.setValueByIndex(i$3,0,Math.hypot(gradientX[i$3],gradientY[i$3]));return gradient}else if(`kernelX`in options$1)return image.directConvolution(options$1.kernelX,{borderType,borderValue});else if(`kernelY`in options$1)return image.directConvolution(options$1.kernelY,{borderType,borderValue});else throw TypeError(`kernelX and KernelY are not defined`)}function hypotenuse(image,otherImage,options$1={}){let{channels=Array(image.components).fill(0).map((value,index$1)=>index$1)}=options$1;if(checkProcessable(image,{bitDepth:[8,16]}),image.width!==otherImage.width||image.height!==otherImage.height)throw RangeError(`both images must have the same size`);if(image.alpha!==otherImage.alpha||image.bitDepth!==otherImage.bitDepth)throw RangeError(`both images must have the same alpha and bitDepth`);if(image.channels!==otherImage.channels)throw RangeError(`both images must have the same number of channels`);validateChannels(channels,image);let newImage=getOutputImage(image,{},{clone:!0});for(let channel$1 of channels)for(let i$3=0;i$3<image.size;i$3++){let value=Math.hypot(image.getValueByIndex(i$3,channel$1),otherImage.getValueByIndex(i$3,channel$1));newImage.setValueByIndex(i$3,channel$1,Math.min(value,newImage.maxValue))}return newImage}function convertColor(image,colorModel,options$1={}){let canConvert=new Map([[`GREY`,[`GREYA`,`RGB`,`RGBA`]],[`GREYA`,[`GREY`,`RGB`,`RGBA`]],[`RGB`,[`GREY`,`GREYA`,`RGBA`]],[`RGBA`,[`GREY`,`GREYA`,`RGB`]],[`BINARY`,[`GREY`,`RGB`,`RGBA`]]]);if(image.colorModel===colorModel&&colorModel!==`BINARY`)return getOutputImage(image,{out:options$1.out},{clone:!0});if(!canConvert.get(image.colorModel)?.includes(colorModel))throw RangeError(`conversion from ${image.colorModel} to ${colorModel} not implemented`);if(image instanceof Image$1){let output=getOutputImage(image,options$1,{newParameters:{colorModel}});return(image.colorModel===`GREY`||image.colorModel===`GREYA`)&&convertGreyToAny(image,output),(image.colorModel===`RGB`||image.colorModel===`RGBA`)&&(colorModel===`RGB`||colorModel===`RGBA`?convertRgbToRgb(image,output):convertRgbToGrey(image,output)),!image.alpha&&output.alpha&&output.fillAlpha(output.maxValue),image.alpha&&output.alpha&&copyAlpha(image,output),output}else if(colorModel===`GREY`){let output=maskToOutputImage(image,options$1);return convertBinaryToGrey(image,output),output}else{let img=new Image$1(image.width,image.height,{colorModel});return convertBinaryToRgb(image,img),img}}function copyAlpha(source,dest){if(source.size!==dest.size)throw RangeError(`source and destination have different sizes`);if(!source.alpha)throw RangeError(`source image does not have alpha`);if(!dest.alpha)throw RangeError(`destination does not have alpha`);for(let i$3=0;i$3<dest.size;i$3++)dest.setValueByIndex(i$3,dest.channels-1,source.getValueByIndex(i$3,source.channels-1))}function convertGreyToAny(image,newImage){for(let i$3=0;i$3<image.size;i$3++)for(let j$2=0;j$2<newImage.components;j$2++)newImage.setValueByIndex(i$3,j$2,image.getValueByIndex(i$3,0))}function convertRgbToRgb(image,newImage){for(let i$3=0;i$3<image.size;i$3++)for(let j$2=0;j$2<3;j$2++)newImage.setValueByIndex(i$3,j$2,image.getValueByIndex(i$3,j$2))}function convertRgbToGrey(image,newImage){for(let i$3=0;i$3<image.size;i$3++){let r$3=image.getValueByIndex(i$3,0),g$1=image.getValueByIndex(i$3,1),b$3=image.getValueByIndex(i$3,2);newImage.setValueByIndex(i$3,0,Math.round(.299*r$3+.587*g$1+.114*b$3))}}function convertBinaryToGrey(mask,newImage){for(let i$3=0;i$3<mask.size;i$3++)newImage.setValueByIndex(i$3,0,mask.getBitByIndex(i$3)?newImage.maxValue:0)}function convertBinaryToRgb(mask,newImage){let black$1=Array(newImage.components).fill(0),white=Array(newImage.components).fill(newImage.maxValue);newImage.alpha&&(black$1.push(newImage.maxValue),white.push(newImage.maxValue));for(let i$3=0;i$3<mask.size;i$3++)newImage.setPixelByIndex(i$3,mask.getBitByIndex(i$3)?white:black$1)}function convertBitDepth(image,newBitDepth,options$1={}){if(image.bitDepth===newBitDepth)return getOutputImage(image,options$1,{clone:!0});if(newBitDepth!==8&&newBitDepth!==16)throw RangeError(`This image bit depth is not supported: ${newBitDepth}`);let newImage=getOutputImage(image,options$1,{clone:!1,newParameters:{bitDepth:newBitDepth,colorModel:image.colorModel}});return newBitDepth===8?convertToUint8(image,newImage):convertToUint16(image,newImage)}function convertToUint16(image,targetImage){for(let i$3=0;i$3<image.size;i$3++)for(let j$2=0;j$2<targetImage.channels;j$2++)targetImage.setValueByIndex(i$3,j$2,image.getValueByIndex(i$3,j$2)<<8);return targetImage}function convertToUint8(image,targetImage){for(let i$3=0;i$3<image.size;i$3++)for(let j$2=0;j$2<targetImage.channels;j$2++)targetImage.setValueByIndex(i$3,j$2,image.getValueByIndex(i$3,j$2)>>8);return targetImage}function checkPointIsInteger(point,name=`Point`){if(!Number.isInteger(point.row)||!Number.isInteger(point.column))throw TypeError(`${name} row and column must be integers`)}function extract(image,mask,options$1={}){let{origin={row:0,column:0}}=options$1,{row,column}=origin;assert(row<image.height&&column<image.width&&row+mask.width>0&&column+mask.height>0,`extract: image and mask have no overlap`),checkPointIsInteger(origin,`Origin`);let resultWidth=Math.min(image.width,mask.width+column)-Math.max(0,column),resultHeight=Math.min(image.height,mask.height+row)-Math.max(0,row),newImage=new Image$1(resultWidth,resultHeight,{colorModel:image.colorModel,origin});newImage.alpha&&(newImage=newImage.fillAlpha(0));let imageStartRow=Math.max(0,row),imageStartColumn=Math.max(0,column),maskStartRow=row<0?-row:0,maskStartColumn=column<0?-column:0;for(let resultRow=0;resultRow<resultHeight;resultRow++)for(let resultColumn=0;resultColumn<resultWidth;resultColumn++)mask.getBit(maskStartColumn+resultColumn,maskStartRow+resultRow)&&newImage.setPixel(resultColumn,resultRow,image.getPixel(imageStartColumn+resultColumn,imageStartRow+resultRow));return newImage}function split(image){let result=[];for(let c$2=0;c$2<image.channels;c$2++){let channel$1=Image$1.createFrom(image,{colorModel:`GREY`});for(let i$3=0;i$3<channel$1.size;i$3++)channel$1.setValueByIndex(i$3,0,image.getValueByIndex(i$3,c$2));result.push(channel$1)}return result}function huang(histogram$1){let firstBin=0;for(let ih=0;ih<histogram$1.length;ih++)if(histogram$1[ih]!==0){firstBin=ih;break}let lastBin=histogram$1.length-1;for(let ih=histogram$1.length-1;ih>=firstBin;ih--)if(histogram$1[ih]!==0){lastBin=ih;break}let term=1/(lastBin-firstBin),mu0=Array(histogram$1.length),sumPix=0,numPix=0;for(let ih=firstBin;ih<histogram$1.length;ih++)sumPix+=ih*histogram$1[ih],numPix+=histogram$1[ih],mu0[ih]=sumPix/numPix;let mu1=Array(histogram$1.length);sumPix=0,numPix=0;for(let ih=lastBin;ih>0;ih--)sumPix+=ih*histogram$1[ih],numPix+=histogram$1[ih],mu1[ih-1]=sumPix/numPix;let threshold$1=-1,minEnt=Number.MAX_VALUE;for(let it=0;it<histogram$1.length;it++){let ent=0,muX;for(let ih=0;ih<=it;ih++)muX=1/(1+term*Math.abs(ih-mu0[it])),muX<1e-6||muX>.999999||(ent+=histogram$1[ih]*(-muX*Math.log(muX)-(1-muX)*Math.log(1-muX)));for(let ih=it+1;ih<histogram$1.length;ih++)muX=1/(1+term*Math.abs(ih-mu1[it])),muX<1e-6||muX>.999999||(ent+=histogram$1[ih]*(-muX*Math.log(muX)-(1-muX)*Math.log(1-muX)));ent<minEnt&&(minEnt=ent,threshold$1=it)}return threshold$1}function intermodes(histogram$1){let iHisto=histogram$1.slice(),iter=0;for(;!bimodalTest$1(iHisto);){let previous=0,current=0,next=iHisto[0];for(let i$3=0;i$3<histogram$1.length-1;i$3++)previous=current,current=next,next=iHisto[i$3+1],iHisto[i$3]=(previous+current+next)/3;iHisto[histogram$1.length-1]=(current+next)/3,iter++,assert(iter<1e3,`Intermodes threshold not found after 1000 iterations`)}let tt=0;for(let i$3=1;i$3<histogram$1.length-1;i$3++)iHisto[i$3-1]<iHisto[i$3]&&iHisto[i$3+1]<iHisto[i$3]&&(tt+=i$3);return Math.floor(tt/2)}function bimodalTest$1(iHisto){let b$3=!1,modes=0;for(let k$2=1;k$2<iHisto.length-1;k$2++)if(iHisto[k$2-1]<iHisto[k$2]&&iHisto[k$2+1]<iHisto[k$2]&&(modes++,modes>2))return!1;return modes===2&&(b$3=!0),b$3}function isodata(histogram$1){let l$2,toth,totl,h$3,g$1=0;for(let i$3=1;i$3<histogram$1.length;i$3++)if(histogram$1[i$3]>0){g$1=i$3+1;break}for(;;){l$2=0,totl=0;for(let i$3=0;i$3<g$1;i$3++)totl+=histogram$1[i$3],l$2+=histogram$1[i$3]*i$3;h$3=0,toth=0;for(let i$3=g$1+1;i$3<histogram$1.length;i$3++)toth+=histogram$1[i$3],h$3+=histogram$1[i$3]*i$3;if(totl>0&&toth>0&&(l$2/=totl,h$3/=toth,g$1===Math.round((l$2+h$3)/2)))break;g$1++,assert(g$1<=histogram$1.length-2,`Threshold not found`)}return g$1}function li(histogram$1,total){let threshold$1,sumBack,sumObj,numBack,numObj,oldThresh,newThresh,meanBack,meanObj,mean$2,tolerance=.5,temp;mean$2=0;for(let ih=0;ih<histogram$1.length;ih++)mean$2+=ih*histogram$1[ih];mean$2/=total,newThresh=mean$2;do{oldThresh=newThresh,threshold$1=oldThresh+.5|0,sumBack=0,numBack=0;for(let ih=0;ih<=threshold$1;ih++)sumBack+=ih*histogram$1[ih],numBack+=histogram$1[ih];meanBack=numBack===0?0:sumBack/numBack,sumObj=0,numObj=0;for(let ih=threshold$1+1;ih<histogram$1.length;ih++)sumObj+=ih*histogram$1[ih],numObj+=histogram$1[ih];meanObj=numObj===0?0:sumObj/numObj,temp=(meanBack-meanObj)/(Math.log(meanBack)-Math.log(meanObj)),newThresh=temp<-(2**-52)?temp-.5|0:temp+.5|0}while(Math.abs(newThresh-oldThresh)>.5);return threshold$1}function maxEntropy(histogram$1,total){let normHisto=Array(histogram$1.length);for(let ih=0;ih<histogram$1.length;ih++)normHisto[ih]=histogram$1[ih]/total;let P1=Array(histogram$1.length),P2=Array(histogram$1.length);P1[0]=normHisto[0],P2[0]=1-P1[0];for(let ih=1;ih<histogram$1.length;ih++)P1[ih]=P1[ih-1]+normHisto[ih],P2[ih]=1-P1[ih];let firstBin=0;for(let ih=0;ih<histogram$1.length;ih++)if(Math.abs(P1[ih])>=2**-52){firstBin=ih;break}let lastBin=histogram$1.length-1;for(let ih=histogram$1.length-1;ih>=firstBin;ih--)if(Math.abs(P2[ih])>=2**-52){lastBin=ih;break}let threshold$1=-1,totEnt,maxEnt=Number.MIN_VALUE,entBack,entObj;for(let it=firstBin;it<=lastBin;it++){entBack=0;for(let ih=0;ih<=it;ih++)histogram$1[ih]!==0&&(entBack-=normHisto[ih]/P1[it]*Math.log(normHisto[ih]/P1[it]));entObj=0;for(let ih=it+1;ih<histogram$1.length;ih++)histogram$1[ih]!==0&&(entObj-=normHisto[ih]/P2[it]*Math.log(normHisto[ih]/P2[it]));totEnt=entBack+entObj,maxEnt<totEnt&&(maxEnt=totEnt,threshold$1=it)}return threshold$1}function mean$1(histogram$1,total){let sum=0;for(let i$3=0;i$3<histogram$1.length;i$3++)sum+=i$3*histogram$1[i$3];return Math.floor(sum/total)}function minError(histogram$1,total){let threshold$1,Tprev=-2,mu,nu,p$3,q,sigma2,tau2,w0,w1,w2,sqterm,temp,mean$2=0;for(let ih=0;ih<histogram$1.length;ih++)mean$2+=ih*histogram$1[ih];for(mean$2/=total,threshold$1=mean$2;threshold$1!==Tprev;){let sumA1=sumA(histogram$1,threshold$1),sumA2=sumA(histogram$1,histogram$1.length-1),sumB1=sumB(histogram$1,threshold$1),sumB2=sumB(histogram$1,histogram$1.length-1),sumC1=sumC(histogram$1,threshold$1),sumC2=sumC(histogram$1,histogram$1.length-1);if(mu=sumB1/sumA1,nu=(sumB2-sumB1)/(sumA2-sumA1),p$3=sumA1/sumA2,q=(sumA2-sumA1)/sumA2,sigma2=sumC1/sumA1-mu*mu,tau2=(sumC2-sumC1)/(sumA2-sumA1)-nu*nu,w0=1/sigma2-1/tau2,w1=mu/sigma2-nu/tau2,w2=mu*mu/sigma2-nu*nu/tau2+Math.log10(sigma2*(q*q)/(tau2*(p$3*p$3))),sqterm=w1*w1-w0*w2,sqterm<0)return threshold$1;Tprev=threshold$1,temp=(w1+Math.sqrt(sqterm))/w0,threshold$1=Number.isNaN(temp)?Tprev:Math.floor(temp)}return threshold$1}function sumA(y$2,j$2){let x$2=0;for(let i$3=0;i$3<=j$2;i$3++)x$2+=y$2[i$3];return x$2}function sumB(y$2,j$2){let x$2=0;for(let i$3=0;i$3<=j$2;i$3++)x$2+=i$3*y$2[i$3];return x$2}function sumC(y$2,j$2){let x$2=0;for(let i$3=0;i$3<=j$2;i$3++)x$2+=i$3*i$3*y$2[i$3];return x$2}function minimum(histogram$1){if(histogram$1.length<2)return 0;let iterations=0,threshold$1=-1,max$2=-1,histogramCopy=Array(histogram$1.length);for(let i$3=0;i$3<histogram$1.length;i$3++)histogramCopy[i$3]=histogram$1[i$3],histogram$1[i$3]>0&&(max$2=i$3);for(;!bimodalTest(histogramCopy);)if(histogramCopy=smoothed(histogramCopy),iterations++,iterations>1e4)return threshold$1;for(let i$3=1;i$3<max$2;i$3++)if(histogramCopy[i$3-1]>histogramCopy[i$3]&&histogramCopy[i$3+1]>=histogramCopy[i$3]){threshold$1=i$3;break}return threshold$1}function smoothed(histogram$1){let auHistogram=Array(histogram$1.length);for(let i$3=1;i$3<histogram$1.length-1;i$3++)auHistogram[i$3]=(histogram$1[i$3-1]+histogram$1[i$3]+histogram$1[i$3+1])/3;return auHistogram[0]=(histogram$1[0]+histogram$1[1])/3,auHistogram[histogram$1.length-1]=(histogram$1.at(-2)+histogram$1.at(-1))/3,auHistogram}function bimodalTest(histogram$1){let len=histogram$1.length,isBimodal=!1,peaks=0;for(let k$2=1;k$2<len-1;k$2++)if(histogram$1[k$2-1]<histogram$1[k$2]&&histogram$1[k$2+1]<histogram$1[k$2]&&(peaks++,peaks>2))return!1;return peaks===2&&(isBimodal=!0),isBimodal}function moments(histogram$1,total){let m0=1,m1=0,m2=0,m3=0,sum=0,threshold$1=-1,histogramLength=histogram$1.length,normalizedHistogram=[];for(let i$3=0;i$3<histogramLength;i$3++)normalizedHistogram.push(histogram$1[i$3]/total);for(let i$3=0;i$3<histogramLength;i$3++)m1+=i$3*normalizedHistogram[i$3],m2+=i$3*i$3*normalizedHistogram[i$3],m3+=i$3*i$3*i$3*normalizedHistogram[i$3];let cd=1*m2-m1*m1,c0=(-m2*m2+m1*m3)/cd,c1=(1*-m3+m2*m1)/cd,z0=.5*(-c1-Math.sqrt(c1*c1-4*c0)),z1=.5*(-c1+Math.sqrt(c1*c1-4*c0)),p0=(z1-m1)/(z1-z0);for(let i$3=0;i$3<histogramLength;i$3++)if(sum+=normalizedHistogram[i$3],sum>p0){threshold$1=i$3;break}return threshold$1}function otsu(histogramCounts,total){let sumB$1=0,wB=0,maximum=0,level$1=0,sum1=0;for(let i$3=0;i$3<histogramCounts.length;i$3++)sum1+=i$3*histogramCounts[i$3];for(let ii=0;ii<histogramCounts.length;ii++){wB+=histogramCounts[ii];let wF=total-wB;if(wB===0||wF===0)continue;sumB$1+=ii*histogramCounts[ii];let mF=(sum1-sumB$1)/wF,between=wB*wF*(sumB$1/wB-mF)*(sumB$1/wB-mF);between>=maximum&&(level$1=ii,maximum=between)}return level$1}function percentile(histogram$1){let threshold$1=-1,percentile$1=.5,avec=Array(histogram$1.length),total=partialSum(histogram$1,histogram$1.length-1),temp=1;for(let i$3=0;i$3<histogram$1.length;i$3++)avec[i$3]=Math.abs(partialSum(histogram$1,i$3)/total-.5),avec[i$3]<temp&&(temp=avec[i$3],threshold$1=i$3);return threshold$1}function partialSum(histogram$1,endIndex){let x$2=0;for(let i$3=0;i$3<=endIndex;i$3++)x$2+=histogram$1[i$3];return x$2}function renyiEntropy(histogram$1,total){let firstBin,lastBin,normHisto=Array(histogram$1.length),P1=Array(histogram$1.length),P2=Array(histogram$1.length),threshold1=0,threshold2=0,threshold3=0,maxEnt1=0,maxEnt2=0,maxEnt3=0,term2=1/.5,term3=1/-1;for(let ih=0;ih<histogram$1.length;ih++)normHisto[ih]=histogram$1[ih]/total;P1[0]=normHisto[0],P2[0]=1-P1[0];for(let ih=1;ih<histogram$1.length;ih++)P1[ih]=P1[ih-1]+normHisto[ih],P2[ih]=1-P1[ih];firstBin=0;for(let ih=0;ih<histogram$1.length;ih++)if(Math.abs(P1[ih])>=2**-52){firstBin=ih;break}lastBin=histogram$1.length-1;for(let ih=histogram$1.length-1;ih>=firstBin;ih--)if(Math.abs(P2[ih])>=2**-52){lastBin=ih;break}for(let it=firstBin;it<=lastBin;it++){let entBack1=0,entBack2=0,entBack3=0;for(let ih=0;ih<=it;ih++)histogram$1[ih]!==0&&(entBack1-=normHisto[ih]/P1[it]*Math.log(normHisto[ih]/P1[it])),entBack2+=Math.sqrt(normHisto[ih]/P1[it]),entBack3+=normHisto[ih]*normHisto[ih]/(P1[it]*P1[it]);let entObj1=0,entObj2=0,entObj3=0;for(let ih=it+1;ih<histogram$1.length;ih++)histogram$1[ih]!==0&&(entObj1-=normHisto[ih]/P2[it]*Math.log(normHisto[ih]/P2[it])),entObj2+=Math.sqrt(normHisto[ih]/P2[it]),entObj3+=normHisto[ih]*normHisto[ih]/(P2[it]*P2[it]);let totEnt1=entBack1+entObj1,totEnt2=2*(entBack2*entObj2>0?Math.log(entBack2*entObj2):0),totEnt3=-1*(entBack3*entObj3>0?Math.log(entBack3*entObj3):0);totEnt1>maxEnt1&&(maxEnt1=totEnt1,threshold1=it),totEnt2>maxEnt2&&(maxEnt2=totEnt2,threshold2=it),totEnt3>maxEnt3&&(maxEnt3=totEnt3,threshold3=it)}let tStars=new Uint32Array([threshold1,threshold2,threshold3]);tStars.sort();let betas;betas=Math.abs(tStars[0]-tStars[1])<=5?Math.abs(tStars[1]-tStars[2])<=5?[1,2,1]:[0,1,3]:Math.abs(tStars[1]-tStars[2])<=5?[3,1,0]:[1,2,1];let omega=P1[tStars[2]]-P1[tStars[0]];return Math.round(tStars[0]*(P1[tStars[0]]+.25*omega*betas[0])+.25*tStars[1]*omega*betas[1]+tStars[2]*(P2[tStars[2]]+.25*omega*betas[2]))}function shanbhag(histogram$1,total){let normHisto=Array(histogram$1.length);for(let ih=0;ih<histogram$1.length;ih++)normHisto[ih]=histogram$1[ih]/total;let P1=Array(histogram$1.length),P2=Array(histogram$1.length);P1[0]=normHisto[0],P2[0]=1-P1[0];for(let ih=1;ih<histogram$1.length;ih++)P1[ih]=P1[ih-1]+normHisto[ih],P2[ih]=1-P1[ih];let firstBin=0;for(let ih=0;ih<histogram$1.length;ih++)if(Math.abs(P1[ih])>=2**-52){firstBin=ih;break}let lastBin=histogram$1.length-1;for(let ih=histogram$1.length-1;ih>=firstBin;ih--)if(Math.abs(P2[ih])>=2**-52){lastBin=ih;break}let threshold$1=-1,minEnt=Number.MAX_VALUE,term,totEnt,entBack,entObj;for(let it=firstBin;it<=lastBin;it++){entBack=0,term=.5/P1[it];for(let ih=1;ih<=it;ih++)entBack-=normHisto[ih]*Math.log(1-term*P1[ih-1]);entBack*=term,entObj=0,term=.5/P2[it];for(let ih=it+1;ih<histogram$1.length;ih++)entObj-=normHisto[ih]*Math.log(1-term*P2[ih]);entObj*=term,totEnt=Math.abs(entBack-entObj),totEnt<minEnt&&(minEnt=totEnt,threshold$1=it)}return threshold$1}function triangle(histogram$1){let min$2=0,dmax=0,max$2=0,min2=0;for(let i$3=0;i$3<histogram$1.length;i$3++)if(histogram$1[i$3]>0){min$2=i$3;break}min$2>0&&min$2--;for(let i$3=histogram$1.length-1;i$3>0;i$3--)if(histogram$1[i$3]>0){min2=i$3;break}min2<histogram$1.length-1&&min2++;for(let i$3=0;i$3<histogram$1.length;i$3++)histogram$1[i$3]>dmax&&(max$2=i$3,dmax=histogram$1[i$3]);let inverted=!1;if(max$2-min$2<min2-max$2){inverted=!0;let left=0,right=histogram$1.length-1;for(;left<right;){let temp=histogram$1[left];histogram$1[left]=histogram$1[right],histogram$1[right]=temp,left++,right--}min$2=histogram$1.length-1-min2,max$2=histogram$1.length-1-max$2}if(min$2===max$2)return min$2;let nx,ny,d$2;nx=histogram$1[max$2],ny=min$2-max$2,d$2=Math.hypot(nx,ny),nx/=d$2,ny/=d$2,d$2=nx*min$2+ny*histogram$1[min$2];let split$1=min$2,splitDistance=0;for(let i$3=min$2+1;i$3<=max$2;i$3++){let newDistance=nx*i$3+ny*histogram$1[i$3]-d$2;newDistance>splitDistance&&(split$1=i$3,splitDistance=newDistance)}if(split$1--,inverted){let left=0,right=histogram$1.length-1;for(;left<right;){let temp=histogram$1[left];histogram$1[left]=histogram$1[right],histogram$1[right]=temp,left++,right--}return histogram$1.length-1-split$1}else return split$1}function yen(histogram$1,total){let normHisto=Array(histogram$1.length);for(let ih=0;ih<histogram$1.length;ih++)normHisto[ih]=histogram$1[ih]/total;let P1=Array(histogram$1.length);P1[0]=normHisto[0];for(let ih=1;ih<histogram$1.length;ih++)P1[ih]=P1[ih-1]+normHisto[ih];let P1Sq=Array(histogram$1.length);P1Sq[0]=normHisto[0]*normHisto[0];for(let ih=1;ih<histogram$1.length;ih++)P1Sq[ih]=P1Sq[ih-1]+normHisto[ih]*normHisto[ih];let P2Sq=Array(histogram$1.length);P2Sq[histogram$1.length-1]=0;for(let ih=histogram$1.length-2;ih>=0;ih--)P2Sq[ih]=P2Sq[ih+1]+normHisto[ih+1]*normHisto[ih+1];let threshold$1=-1,maxCrit=Number.MIN_VALUE,crit;for(let it=0;it<histogram$1.length;it++)crit=-1*(P1Sq[it]*P2Sq[it]>0?Math.log(P1Sq[it]*P2Sq[it]):0)+2*(P1[it]*(1-P1[it])>0?Math.log(P1[it]*(1-P1[it])):0),crit>maxCrit&&(maxCrit=crit,threshold$1=it);return threshold$1}function computeThreshold(image,options$1={}){let{algorithm=`otsu`,slots}=options$1;if(image.channels!==1)throw TypeError(`threshold can only be computed on images with one channel`);let histogram$1=image.histogram({slots}),scale=slots?2**image.bitDepth/slots:1;return M(algorithm).with(`huang`,()=>huang(histogram$1)*scale).with(`intermodes`,()=>intermodes(histogram$1)*scale).with(`isodata`,()=>isodata(histogram$1)*scale).with(`li`,()=>li(histogram$1,image.size)*scale).with(`maxEntropy`,()=>maxEntropy(histogram$1,image.size)*scale).with(`mean`,()=>mean$1(histogram$1,image.size)*scale).with(`minimum`,()=>minimum(histogram$1)*scale).with(`minError`,()=>minError(histogram$1,image.size)*scale).with(`moments`,()=>moments(histogram$1,image.size)*scale).with(`otsu`,()=>otsu(histogram$1,image.size)*scale).with(`percentile`,()=>percentile(histogram$1)*scale).with(`renyiEntropy`,()=>renyiEntropy(histogram$1,image.size)*scale).with(`shanbhag`,()=>shanbhag(histogram$1,image.size)*scale).with(`triangle`,()=>triangle(histogram$1)*scale).with(`yen`,()=>yen(histogram$1,image.size)*scale).exhaustive()}function threshold(image,options$1={}){let thresholdValue;if(`threshold`in options$1){let threshold$1=options$1.threshold;if(threshold$1<0||threshold$1>1)throw RangeError(`threshold must be a value between 0 and 1`);thresholdValue=threshold$1*image.maxValue}else thresholdValue=computeThreshold(image,options$1);let result=imageToOutputMask(image,options$1);for(let i$3=0;i$3<image.size;i$3++)result.setBitByIndex(i$3,image.getValueByIndex(i$3,0)>thresholdValue?1:0);return result}var greyAlgorithms_exports=__export({average:()=>average,black:()=>black,blue:()=>blue,cyan:()=>cyan,green:()=>green,hue:()=>hue,lightness:()=>lightness,luma601:()=>luma601,luma709:()=>luma709,magenta:()=>magenta,max:()=>max,min:()=>min,minmax:()=>minmax,red:()=>red,saturation:()=>saturation,yellow:()=>yellow});function luma709(red$1,green$1,blue$1){return red$1*6966+green$1*23436+blue$1*2366>>15}function luma601(red$1,green$1,blue$1){return red$1*9798+green$1*19235+blue$1*3735>>15}function max(red$1,green$1,blue$1){return Math.max(red$1,green$1,blue$1)}function min(red$1,green$1,blue$1){return Math.min(red$1,green$1,blue$1)}function average(red$1,green$1,blue$1){return(red$1+green$1+blue$1)/3>>0}function minmax(red$1,green$1,blue$1){return(Math.max(red$1,green$1,blue$1)+Math.min(red$1,green$1,blue$1))/2}function red(red$1){return red$1}function green(red$1,green$1){return green$1}function blue(red$1,green$1,blue$1){return blue$1}function black(red$1,green$1,blue$1,image){return Math.min(image.maxValue-red$1,image.maxValue-green$1,image.maxValue-blue$1)}function cyan(red$1,green$1,blue$1,image){let blackColor=black(red$1,green$1,blue$1,image);return(image.maxValue-red$1-blackColor)/(1-blackColor/image.maxValue)>>0}function magenta(red$1,green$1,blue$1,image){let blackColor=black(red$1,green$1,blue$1,image);return(image.maxValue-green$1-blackColor)/(1-blackColor/image.maxValue)>>0}function yellow(red$1,green$1,blue$1,image){let blackColor=black(red$1,green$1,blue$1,image);return(image.maxValue-blue$1-blackColor)/(1-blackColor/image.maxValue)>>0}function hue(red$1,green$1,blue$1,image){let minValue=min(red$1,green$1,blue$1),maxValue=max(red$1,green$1,blue$1);if(maxValue===minValue)return 0;let hue$1=0,delta=maxValue-minValue;return maxValue===red$1?hue$1=(green$1-blue$1)/delta+(green$1<blue$1?6:0):maxValue===green$1?hue$1=(blue$1-red$1)/delta+2:(assert(maxValue===blue$1),hue$1=(red$1-green$1)/delta+4),hue$1/6*image.maxValue>>0}function saturation(red$1,green$1,blue$1,image){let minValue=min(red$1,green$1,blue$1),maxValue=max(red$1,green$1,blue$1),delta=maxValue-minValue;return maxValue===0?0:delta/maxValue*image.maxValue}function lightness(red$1,green$1,blue$1){let minValue=min(red$1,green$1,blue$1);return(max(red$1,green$1,blue$1)+minValue)/2}const GreyAlgorithm={LUMA_709:`luma709`,LUMA_601:`luma601`,MAX:`max`,MIN:`min`,AVERAGE:`average`,MINMAX:`minmax`,RED:`red`,GREEN:`green`,BLUE:`blue`,BLACK:`black`,CYAN:`cyan`,MAGENTA:`magenta`,YELLOW:`yellow`,HUE:`hue`,SATURATION:`saturation`,LIGHTNESS:`lightness`};{let algos=new Set(Object.values(GreyAlgorithm));for(let algo of Object.keys(greyAlgorithms_exports))assert(algos.has(algo),`Grey algorithm ${algo} is missing in the GreyAlgorithm enum`)}function grey(image,options$1={}){let{keepAlpha=!1,mergeAlpha=!0}=options$1,{algorithm=`luma709`}=options$1;checkProcessable(image,{colorModel:[`RGB`,`RGBA`]}),keepAlpha&&=image.alpha,mergeAlpha&&=image.alpha,keepAlpha&&(mergeAlpha=!1);let newImage=getOutputImage(image,options$1,{newParameters:{colorModel:keepAlpha?`GREYA`:`GREY`}}),method;method=typeof algorithm==`function`?algorithm:greyAlgorithms_exports[algorithm];let clamp=getClamp(newImage);for(let i$3=0;i$3<image.size;i$3++){let red$1=image.getValueByIndex(i$3,0),green$1=image.getValueByIndex(i$3,1),blue$1=image.getValueByIndex(i$3,2),newValue;if(mergeAlpha){let alpha=image.getValueByIndex(i$3,3);newValue=clamp(method(red$1,green$1,blue$1,image)*alpha/image.maxValue)}else if(newValue=clamp(method(red$1,green$1,blue$1,image)),keepAlpha){let alpha=image.getValueByIndex(i$3,3);newImage.setValueByIndex(i$3,1,alpha)}newImage.setValueByIndex(i$3,0,newValue)}return newImage}function copyTo(source,target,options$1={}){let{origin={column:0,row:0}}=options$1,{column,row}=origin;if(source.colorModel!==target.colorModel)throw RangeError(`source and target must have the same color model`);checkPointIsInteger(origin,`Origin`);let result;result=target instanceof Image$1?getOutputImage(target,options$1,{clone:!0}):maskToOutputMask(target,options$1,{clone:!0});for(let currentRow=Math.max(row,0);currentRow<Math.min(source.height+row,target.height);currentRow++)for(let currentColumn=Math.max(column,0);currentColumn<Math.min(source.width+column,target.width);currentColumn++){let sourcePixel=source.getPixel(currentColumn-column,currentRow-row);setBlendedPixel(result,currentColumn,currentRow,sourcePixel)}return result}function crop(image,options$1={}){let{origin={row:0,column:0},width=image.width-origin.column,height=image.height-origin.row}=options$1,{column,row}=origin;if(checkProcessable(image,{bitDepth:[8,16]}),checkPointIsInteger(origin,`Origin`),!Number.isInteger(width)||!Number.isInteger(height))throw RangeError(`Width and height (width:${width}; height:${height}) must be integers`);if(row>image.height-1||column>image.width-1)throw RangeError(`Origin (row:${row}, column:${column}) out of range (${image.width-1}; ${image.height-1})`);if(width<=0||height<=0)throw RangeError(`Width and height (width:${width}; height:${height}) must be positive numbers`);if(row<0||column<0)throw RangeError(`Row and column (row:${row}, column:${column}) must be positive numbers`);if(width>image.width-column||height>image.height-row)throw RangeError(`Size is out of range (row:${row}, column:${column}, width:${width}, height:${height})`);let newImage=Image$1.createFrom(image,{width,height});for(let currentRow=0;currentRow<height;currentRow++)for(let currentColumn=0;currentColumn<width;currentColumn++)newImage.setPixel(currentColumn,currentRow,image.getPixel(column+currentColumn,row+currentRow));return newImage}function cropAlpha(image,options$1={}){checkProcessable(image,{alpha:!0});let{threshold:threshold$1=image.maxValue}=options$1,left=findLeft(image,threshold$1,image.components);if(left===-1)throw RangeError(`could not find new dimensions. Threshold may be too high: ${threshold$1}`);let top=findTop(image,threshold$1,image.components,left),bottom=findBottom(image,threshold$1,image.components,left),right=findRight(image,threshold$1,image.components,left,top,bottom);return image.crop({origin:{column:left,row:top},width:right-left+1,height:bottom-top+1})}function findLeft(image,threshold$1,channel$1){for(let row=0;row<image.width;row++)for(let column=0;column<image.height;column++)if(image.getValue(row,column,channel$1)>=threshold$1)return row;return-1}function findTop(image,threshold$1,channel$1,left){for(let row=0;row<image.height;row++)for(let column=left;column<image.width;column++)if(image.getValue(column,row,channel$1)>=threshold$1)return row;return-1}function findBottom(image,threshold$1,channel$1,left){for(let row=image.height-1;row>=0;row--)for(let column=left;column<image.width;column++)if(image.getValue(column,row,channel$1)>=threshold$1)return row;return-1}function findRight(image,threshold$1,channel$1,left,top,bottom){for(let row=image.width-1;row>=left;row--)for(let column=top;column<=bottom;column++)if(image.getValue(row,column,channel$1)>=threshold$1)return row;return-1}function getInterpolationFunction(interpolationType){return M(interpolationType).with(`nearest`,()=>interpolateNearest).with(`bilinear`,()=>interpolateBilinear).with(`bicubic`,()=>interpolateBicubic).exhaustive()}function interpolateNearest(image,column,row,channel$1,interpolateBorder){return column=Math.round(column),row=Math.round(row),interpolateBorder(column,row,channel$1,image)}function interpolateBilinear(image,column,row,channel$1,interpolateBorder){let px0=Math.floor(column),py0=Math.floor(row),px1=px0+1,py1=py0+1;if(px1<image.width&&py1<image.height&&px0>=0&&py0>=0){let vx0y0=image.getValue(px0,py0,channel$1),vx1y0=image.getValue(px1,py0,channel$1),vx0y1=image.getValue(px0,py1,channel$1),vx1y1=image.getValue(px1,py1,channel$1),r1=(px1-column)*vx0y0+(column-px0)*vx1y0,r2=(px1-column)*vx0y1+(column-px0)*vx1y1;return round((py1-row)*r1+(row-py0)*r2)}else{let vx0y0=interpolateBorder(px0,py0,channel$1,image),vx1y0=interpolateBorder(px1,py0,channel$1,image),vx0y1=interpolateBorder(px0,py1,channel$1,image),vx1y1=interpolateBorder(px1,py1,channel$1,image),r1=(px1-column)*vx0y0+(column-px0)*vx1y0,r2=(px1-column)*vx0y1+(column-px0)*vx1y1;return round((py1-row)*r1+(row-py0)*r2)}}function interpolateBicubic(image,column,row,channel$1,interpolateBorder,clamp){let px1=Math.floor(column),py1=Math.floor(row);if(px1===column&&py1===row)return interpolateBorder(px1,py1,channel$1,image);let xNorm=column-px1,yNorm=row-py1,vx0y0=interpolateBorder(px1-1,py1-1,channel$1,image),vx1y0=interpolateBorder(px1,py1-1,channel$1,image),vx2y0=interpolateBorder(px1+1,py1-1,channel$1,image),vx3y0=interpolateBorder(px1+2,py1-1,channel$1,image),v0=cubic(vx0y0,vx1y0,vx2y0,vx3y0,xNorm),vx0y1=interpolateBorder(px1-1,py1,channel$1,image),vx1y1=interpolateBorder(px1,py1,channel$1,image),vx2y1=interpolateBorder(px1+1,py1,channel$1,image),vx3y1=interpolateBorder(px1+2,py1,channel$1,image),v1=cubic(vx0y1,vx1y1,vx2y1,vx3y1,xNorm),vx0y2=interpolateBorder(px1-1,py1+1,channel$1,image),vx1y2=interpolateBorder(px1,py1+1,channel$1,image),vx2y2=interpolateBorder(px1+1,py1+1,channel$1,image),vx3y2=interpolateBorder(px1+2,py1+1,channel$1,image),v2=cubic(vx0y2,vx1y2,vx2y2,vx3y2,xNorm),vx0y3=interpolateBorder(px1-1,py1+2,channel$1,image),vx1y3=interpolateBorder(px1,py1+2,channel$1,image),vx2y3=interpolateBorder(px1+1,py1+2,channel$1,image),vx3y3=interpolateBorder(px1+2,py1+2,channel$1,image),v3=cubic(vx0y3,vx1y3,vx2y3,vx3y3,xNorm);return round(clamp(cubic(v0,v1,v2,v3,yNorm)))}function cubic(a$3,b$3,c$2,d$2,x$2){return b$3+.5*x$2*(c$2-a$3+x$2*(2*a$3-5*b$3+4*c$2-d$2+x$2*(3*(b$3-c$2)+d$2-a$3)))}function transform(image,transformMatrix,options$1={}){let{borderType=`constant`,borderValue=0,interpolationType=`bilinear`,fullImage}=options$1,{width=image.width,height=image.height}=options$1;if(!isValidMatrix(transformMatrix))throw TypeError(`transformation matrix must be 2x3 or 3x3. Received ${transformMatrix.length}x${transformMatrix[1].length}`);if(transformMatrix.length===2&&transformMatrix.push([0,0,1]),fullImage){transformMatrix=transformMatrix.map(row=>row.slice()),transformMatrix[0][2]=0,transformMatrix[1][2]=0;let corners=[image.getCoordinates(`top-left`),image.getCoordinates(`top-right`),image.getCoordinates(`bottom-right`),image.getCoordinates(`bottom-left`)];corners[1].column+=1,corners[2].column+=1,corners[2].row+=1,corners[3].row+=1;let transformedCorners=corners.map(corner=>[transformPoint(transformMatrix[0],transformMatrix[2],corner.column,corner.row),transformPoint(transformMatrix[1],transformMatrix[2],corner.column,corner.row)]),xCoordinates=transformedCorners.map(c$2=>c$2[0]),yCoordinates=transformedCorners.map(c$2=>c$2[1]),maxX=Math.max(...xCoordinates),maxY=Math.max(...yCoordinates),minX=Math.min(...xCoordinates),minY=Math.min(...yCoordinates),center=[(image.width-1)/2,(image.height-1)/2];width=maxX-minX,height=maxY-minY;let centerX=transformPoint(transformMatrix[0],transformMatrix[2],center[0],center[1]),centerY=transformPoint(transformMatrix[1],transformMatrix[2],center[0],center[1]),a$3=(width-1)/2-centerX,b$3=(height-1)/2-centerY;transformMatrix[0][2]=a$3,transformMatrix[1][2]=b$3,width=Math.round(width),height=Math.round(height)}options$1.inverse||(transformMatrix=inverse(new Matrix(transformMatrix)).to2DArray());let newImage=Image$1.createFrom(image,{width,height}),interpolateBorder=getBorderInterpolation(borderType,borderValue),clamp=getClamp(newImage),interpolate=getInterpolationFunction(interpolationType);for(let row=0;row<newImage.height;row++)for(let column=0;column<newImage.width;column++){let nx=transformPoint(transformMatrix[0],transformMatrix[2],column,row),ny=transformPoint(transformMatrix[1],transformMatrix[2],column,row);for(let channel$1=0;channel$1<newImage.channels;channel$1++){let newValue=interpolate(image,nx,ny,channel$1,interpolateBorder,clamp);newImage.setValue(column,row,channel$1,newValue)}}return newImage}function transformPoint(transform$1,perspective,column,row){return(transform$1[0]*column+transform$1[1]*row+transform$1[2])/(perspective[0]*column+perspective[1]*row+perspective[2])}function isValidMatrix(transformationMatrix){return transformationMatrix.length===3&&transformationMatrix[0].length===3&&transformationMatrix[1].length===3&&transformationMatrix[2].length===3||transformationMatrix.length===2&&transformationMatrix[0].length===3&&transformationMatrix[1].length===3}function resize(image,options$1){let{interpolationType=`bilinear`,borderType=`replicate`,borderValue=0}=options$1,{width,height,xFactor,yFactor}=checkOptions(image,options$1);return transform(image,[[xFactor,0,xFactor/2],[0,yFactor,yFactor/2]],{interpolationType,borderType,borderValue,height,width})}function checkOptions(image,options$1){let{width,height,xFactor,yFactor,preserveAspectRatio=!0}=options$1;if(width===void 0&&height===void 0&&xFactor===void 0&&yFactor===void 0)throw TypeError(`at least one of the width, height, xFactor or yFactor options must be passed`);let newWidth,newHeight,maybeWidth=getSize(width,xFactor,image.width,preserveAspectRatio),maybeHeight=getSize(height,yFactor,image.height,preserveAspectRatio);return maybeWidth===void 0?(assert(maybeHeight!==void 0),newWidth=Math.round(maybeHeight*(image.width/image.height))):newWidth=maybeWidth,maybeHeight===void 0?(assert(maybeWidth!==void 0),newHeight=Math.round(maybeWidth*(image.height/image.width))):newHeight=maybeHeight,{width:newWidth,height:newHeight,xFactor:xFactor??newWidth/image.width,yFactor:yFactor??newHeight/image.height}}function getSize(sizeOpt,factor,sizeImg,preserveAspectRatio){if(sizeOpt===void 0){if(factor!==void 0)return Math.round(sizeImg*factor);if(!preserveAspectRatio)return sizeImg}else if(factor!==void 0)throw TypeError(`factor and size cannot be passed together`);else return sizeOpt}function rotate(image,angle){let newWidth=angle%180==0?image.width:image.height,newHeight=angle%180==0?image.height:image.width,newImage=Image$1.createFrom(image,{width:newWidth,height:newHeight});if(angle===90||angle===-270)for(let column=0;column<image.width;column++)for(let row=0;row<image.height;row++)for(let channel$1=0;channel$1<image.channels;channel$1++)newImage.setValue(newImage.width-row-1,column,channel$1,image.getValue(column,row,channel$1));else if(angle===180||angle===-180)for(let column=0;column<image.width;column++)for(let row=0;row<image.height;row++)for(let channel$1=0;channel$1<image.channels;channel$1++)newImage.setValue(newImage.width-column-1,newImage.height-row-1,channel$1,image.getValue(column,row,channel$1));else if(angle===270||angle===-90)for(let column=0;column<image.width;column++)for(let row=0;row<image.height;row++)for(let channel$1=0;channel$1<image.channels;channel$1++)newImage.setValue(row,newImage.height-column-1,channel$1,image.getValue(column,row,channel$1));else throw RangeError(`invalid angle: ${angle}`);return newImage}function transformRotate(image,angle,options$1={}){let{center=`center`,scale=1,...otherOptions}=options$1,centerCoordinates;centerCoordinates=typeof center==`string`?image.getCoordinates(center):center;let transformMatrix=getRotationMatrix(angle,centerCoordinates,scale);return transform(image,transformMatrix,otherOptions)}function getRotationMatrix(angle,center,scale){let angleRadians=angle*Math.PI/180,cos=scale*Math.cos(angleRadians),sin=scale*Math.sin(angleRadians);return[[cos,sin,(1-cos)*center.column-sin*center.row],[-sin,cos,sin*center.column+(1-cos)*center.row],[0,0,1]]}function rotatePoint(point,rotationCenter,angle){let angleCos=Math.cos(angle),angleSin=Math.sin(angle),column=point.column*angleCos-point.row*angleSin+(1-angleCos)*rotationCenter.column+rotationCenter.row*angleSin,row=point.column*angleSin+point.row*angleCos+(1-angleCos)*rotationCenter.row-rotationCenter.column*angleSin;return{column,row}}function cropRectangle(image,points,options$1){if(points.length!==4)throw Error(`The points array must contain 4 points`);let angle=getSmallestAngle(points),center={row:(points[0].row+points[2].row)/2,column:(points[0].column+points[2].column)/2},rotatedPoints=points.map(p$3=>rotatePoint(p$3,center,angle)),[p1,p2,p3]=rotatedPoints,originalWidth=Math.max(Math.abs(p1.column-p2.column),Math.abs(p2.column-p3.column)),originalHeight=Math.max(Math.abs(p1.row-p2.row),Math.abs(p2.row-p3.row)),width=Math.min(Math.ceil(originalWidth),Math.ceil(originalWidth-1e-10)),height=Math.min(Math.ceil(originalHeight),Math.ceil(originalHeight-1e-10)),expandedTopLeft={row:Math.min(...rotatedPoints.map(p$3=>p$3.row))-(height-originalHeight)/2,column:Math.min(...rotatedPoints.map(p$3=>p$3.column))-(width-originalWidth)/2},translation=rotatePoint(expandedTopLeft,center,-angle),angleCos=Math.cos(-angle),angleSin=Math.sin(-angle),matrix=[[angleCos,-angleSin,translation.column],[angleSin,angleCos,translation.row]];return transform(image,matrix,{inverse:!0,width,height,...options$1})}function getSmallestAngle(points){let angleHorizontal=-getAngle(points[1],points[0]);angleHorizontal>Math.PI/2?angleHorizontal-=Math.PI:angleHorizontal<-Math.PI/2&&(angleHorizontal+=Math.PI);let angle=angleHorizontal;return Math.abs(angleHorizontal)>Math.PI/4&&(angle=angleHorizontal>0?-Math.PI/2+angleHorizontal:Math.PI/2+angleHorizontal),angle}function paintMaskOnImage(image,mask,options$1={}){let{origin={row:0,column:0},color=getDefaultColor(image),blend=!0}=options$1,{column,row}=origin;if(color.length!==image.channels)throw RangeError(`the given color is not compatible with the image`);checkPointIsInteger(origin,`Origin`);let result=getOutputImage(image,options$1,{clone:!0});if(blend){checkColorIsNumberArray(color);for(let currentRow=Math.max(row,0);currentRow<Math.min(mask.height+row,image.height);currentRow++)for(let currentColumn=Math.max(column,0);currentColumn<Math.min(mask.width+column,image.width);currentColumn++)mask.getBit(currentColumn-column,currentRow-row)&&setBlendedPixel(result,currentColumn,currentRow,color)}else for(let currentRow=Math.max(row,0);currentRow<Math.min(mask.height+row,image.height);currentRow++)for(let currentColumn=Math.max(column,0);currentColumn<Math.min(mask.width+column,image.width);currentColumn++)if(mask.getBit(currentColumn-column,currentRow-row))for(let channel$1=0;channel$1<image.channels;channel$1++){let currentValue=color[channel$1];typeof currentValue==`number`&&result.setValue(currentColumn,currentRow,channel$1,currentValue)}return result}function checkColorIsNumberArray(color){for(let channel$1 of color)if(typeof channel$1!=`number`)throw TypeError(`cannot have null channels in color if blend is true`)}function paintMaskOnMask(image,mask,options$1={}){let{origin={row:0,column:0},value=1}=options$1,{column,row}=origin;checkPointIsInteger(origin,`Origin`);let result=maskToOutputMask(image,options$1,{clone:!0});for(let currentRow=Math.max(row,0);currentRow<Math.min(mask.height+row,image.height);currentRow++)for(let currentColumn=Math.max(column,0);currentColumn<Math.min(mask.width+column,image.width);currentColumn++)mask.getBit(currentColumn-column,currentRow-row)&&result.setBit(currentColumn,currentRow,value);return result}function invert(image,options$1){if(image instanceof Image$1){let newImage=getOutputImage(image,options$1);image.alpha&&copyAlpha(image,newImage);let{maxValue,size}=newImage;for(let i$3=0;i$3<size;i$3++)for(let component=0;component<image.components;component++)newImage.setValueByIndex(i$3,component,maxValue-image.getValueByIndex(i$3,component));return newImage}else{let newImage=maskToOutputMask(image,options$1);for(let i$3=0;i$3<newImage.size;i$3++)newImage.setBitByIndex(i$3,!image.getBitByIndex(i$3));return newImage}}function level(image,options$1={}){let minMax=image.minMax(),{inputMin=minMax.min,inputMax=minMax.max,outputMin=0,outputMax=image.maxValue,gamma=1}=options$1,{channels=Array(image.components).fill(0).map((value,index$1)=>index$1)}=options$1;validateChannels(channels,image),checkProcessable(image,{bitDepth:[8,16]});let newImage=getOutputImage(image,options$1,{clone:!0}),clamp=getClamp(image);inputMin=getValueArray(inputMin,image.channels),inputMax=getValueArray(inputMax,image.channels),outputMin=getValueArray(outputMin,image.channels),outputMax=getValueArray(outputMax,image.channels),gamma=getValueArray(gamma,image.channels);for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++)for(let channel$1 of channels){let currentValue=image.getValue(column,row,channel$1),clamped=Math.max(Math.min(currentValue,inputMax[channel$1]),inputMin[channel$1]),ratio=clamp((clamped-inputMin[channel$1])/(inputMax[channel$1]-inputMin[channel$1]));Number.isNaN(ratio)&&(ratio=0);let result=clamp(ratio**(1/gamma[channel$1])*(outputMax[channel$1]-outputMin[channel$1])+outputMin[channel$1]);newImage.setValue(column,row,channel$1,result)}return newImage}function getValueArray(value,imageChannels){if(Array.isArray(value)){if(value.length===imageChannels)return value;throw RangeError(`array length is not compatible with channel option`)}else return Array(imageChannels).fill(value)}function or(mask,otherMask,options$1){let newMask=maskToOutputMask(mask,options$1);if(mask.width!==otherMask.width||mask.height!==otherMask.height)throw RangeError(`both masks must have the same size`);for(let i$3=0;i$3<newMask.size;i$3++)mask.getBitByIndex(i$3)||otherMask.getBitByIndex(i$3)?newMask.setBitByIndex(i$3,1):newMask.setBitByIndex(i$3,0);return newMask}function flipX(image){checkProcessable(image,{bitDepth:[8,16]});for(let row=0;row<image.height;row++)for(let column=0;column<Math.floor(image.width/2);column++){let currentCol=column,oppositeCol=image.width-column-1;for(let channel$1=0;channel$1<image.channels;channel$1++){let tmp=image.getValue(currentCol,row,channel$1);image.setValue(currentCol,row,channel$1,image.getValue(oppositeCol,row,channel$1)),image.setValue(oppositeCol,row,channel$1,tmp)}}return image}function flipY(image){checkProcessable(image,{bitDepth:[8,16]});for(let row=0;row<Math.floor(image.height/2);row++)for(let column=0;column<image.width;column++){let currentRow=row,oppositeRow=image.height-row-1;for(let channel$1=0;channel$1<image.channels;channel$1++){let tmp=image.getValue(column,currentRow,channel$1);image.setValue(column,currentRow,channel$1,image.getValue(column,oppositeRow,channel$1)),image.setValue(column,oppositeRow,channel$1,tmp)}}return image}function flip(image,options$1={}){let{axis=`horizontal`}=options$1,newImage=getOutputImage(image,options$1,{clone:!0});return axis===`horizontal`?flipX(newImage):flipY(axis===`vertical`?newImage:flipX(newImage))}function medianFilter(image,options$1){let{cellSize=3,borderType=`reflect101`,borderValue}=options$1;if(checkProcessable(image,{bitDepth:[8,16]}),cellSize<1)throw RangeError(`Invalid property "cellSize". Must be greater than 0. Received ${cellSize}.`);if(cellSize%2==0)throw RangeError(`Invalid property "cellSize". Must be an odd number. Received ${cellSize}.`);let interpolateBorder=getBorderInterpolation(borderType,borderValue),newImage=Image$1.createFrom(image),size=cellSize**2,cellValues=new Uint16Array(size),halfCellSize=(cellSize-1)/2;for(let channel$1=0;channel$1<image.channels;channel$1++)for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++){let n$3=0;for(let cellRow=-halfCellSize;cellRow<=halfCellSize;cellRow++)for(let cellColumn=-halfCellSize;cellColumn<=halfCellSize;cellColumn++)cellValues[n$3++]=interpolateBorder(column+cellColumn,row+cellRow,channel$1,image);newImage.setValue(column,row,channel$1,xMedian(cellValues))}return newImage}function pixelate(image,options$1){let{cellSize,algorithm=`center`}=options$1;if(!Number.isInteger(cellSize))throw TypeError(`cellSize must be an integer`);if(cellSize<2)throw RangeError(`cellSize must be greater than 1`);let newImage=getOutputImage(image,options$1),getCellValue=getCellValueFunction(algorithm);for(let channel$1=0;channel$1<image.channels;channel$1++)for(let column=0;column<image.width;column+=cellSize)for(let row=0;row<image.height;row+=cellSize){let currentCellWidth=Math.min(cellSize,image.width-column),currentCellHeight=Math.min(cellSize,image.height-row),value=getCellValue(image,channel$1,{width:currentCellWidth,height:currentCellHeight,origin:{column,row}});for(let newColumn=column;newColumn<column+currentCellWidth;newColumn++)for(let newRow=row;newRow<row+currentCellHeight;newRow++)newImage.setValue(newColumn,newRow,channel$1,value)}return newImage}function getCellCenter(image,channel$1,options$1){let center={column:Math.floor((options$1.origin.column+options$1.origin.column+options$1.width-1)/2),row:Math.floor((options$1.origin.row+options$1.origin.row+options$1.height-1)/2)};return image.getValue(center.column,center.row,channel$1)}function getCellMean(image,channel$1,options$1){let sum=0;for(let column=options$1.origin.column;column<options$1.origin.column+options$1.width;column++)for(let row=options$1.origin.row;row<options$1.origin.row+options$1.height;row++)sum+=image.getValue(column,row,channel$1);return Math.round(sum/(options$1.width*options$1.height))}function getCellMedian(image,channel$1,options$1){let array=[];for(let column=options$1.origin.column;column<options$1.origin.column+options$1.width;column++)for(let row=options$1.origin.row;row<options$1.origin.row+options$1.height;row++)array.push(image.getValue(column,row,channel$1));return xMedian(array)}function getCellValueFunction(algorithm){switch(algorithm){case`mean`:return getCellMean;case`median`:return getCellMedian;case`center`:return getCellCenter;default:assertUnreachable(algorithm);break}}function getBorderPoints(mask,options$1={}){let{innerBorders=!1,allowCorners=!1}=options$1;innerBorders||(mask=mask.solidFill());let borders=[];for(let column=0;column<mask.width;column++)mask.getBit(column,0)&&borders.push({column,row:0}),mask.getBit(column,mask.height-1)&&borders.push({column,row:mask.height-1});for(let row=0;row<mask.height;row++)mask.getBit(0,row)&&borders.push({column:0,row}),mask.getBit(mask.width-1,row)&&borders.push({column:mask.width-1,row});for(let row=1;row<mask.height-1;row++)for(let column=1;column<mask.width-1;column++)mask.getBit(column,row)&&((mask.getBit(column-1,row)===0||mask.getBit(column,row-1)===0||mask.getBit(column+1,row)===0||mask.getBit(column,row+1)===0)&&borders.push({column,row}),allowCorners&&(mask.getBit(column-1,row-1)===0||mask.getBit(column-1,row+1)===0||mask.getBit(column+1,row-1)===0||mask.getBit(column+1,row+1)===0)&&borders.push({column,row}));return borders}function getLineLength(p1,p2){return Math.hypot(p1.column-p2.column,p1.row-p2.row)}function getPolygonPerimeter(points){let perimeter=0;for(let i$3=0;i$3<points.length;i$3++)perimeter+=getLineLength(points[(i$3+1)%points.length],points[i$3]);return perimeter}function getPolygonArea(points){let area=0;for(let current=0;current<points.length;current++){let next=(current+1)%points.length;area+=points[current].column*points[next].row,area-=points[current].row*points[next].column}return Math.abs(area/2)}function getExtendedBorderPoints(mask){let borderPoints=mask.getBorderPoints({allowCorners:!0,innerBorders:!1}),result=[];for(let point of borderPoints)result.push(point,{column:point.column+1,row:point.row},{column:point.column+1,row:point.row+1},{column:point.column,row:point.row+1});return result}function monotoneChainConvexHull(points,options$1={}){let{sorted=!1}=options$1;sorted||(points=points.slice(),points.sort(byXThenY));let n$3=points.length,result=Array(n$3*2),k$2=0;for(let i$3=0;i$3<n$3;i$3++){let point=points[i$3];for(;k$2>=2&&cw(result[k$2-2],result[k$2-1],point)<=0;)k$2--;result[k$2++]=point}let t$3=k$2+1;for(let i$3=n$3-2;i$3>=0;i$3--){let point=points[i$3];for(;k$2>=t$3&&cw(result[k$2-2],result[k$2-1],point)<=0;)k$2--;result[k$2++]=point}return result.slice(0,k$2-1)}function cw(p1,p2,p3){return(p2.row-p1.row)*(p3.column-p1.column)-(p2.column-p1.column)*(p3.row-p1.row)}function byXThenY(point1,point2){return point1.column===point2.column?point1.row-point2.row:point1.column-point2.column}function getConvexHull(mask){let borderPoints=getExtendedBorderPoints(mask);if(borderPoints.length===0)return{points:[],surface:0,perimeter:0};let points=monotoneChainConvexHull(borderPoints),perimeter=getPolygonPerimeter(points),surface=getPolygonArea(points);return{points,perimeter,surface}}function getFeret(mask){let hull=mask.getConvexHull(),hullPoints=hull.points;if(hull.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},aspectRatio:1};let minWidth=1/0,minWidthAngle=0,minLinePoints=[],minLines;for(let i$3=0;i$3<hullPoints.length;i$3++){let angle=getAngle(hullPoints[i$3],hullPoints[(i$3+1)%hullPoints.length]),rotatedPoints=rotate$1(-angle,hullPoints),currentWidth=0,currentMinLinePoints=[];for(let j$2=0;j$2<hullPoints.length;j$2++){let absWidth=Math.abs(rotatedPoints[i$3].row-rotatedPoints[j$2].row);absWidth>currentWidth&&(currentWidth=absWidth,currentMinLinePoints=[rotatedPoints[i$3],rotatedPoints[j$2]])}if(currentWidth<minWidth){minWidth=currentWidth,minWidthAngle=angle,minLinePoints=currentMinLinePoints;let{minIndex:currentMin$1,maxIndex:currentMax$1}=findPointIndexesOfExtremeColumns(rotatedPoints);minLines=getMinLines(minWidthAngle,currentMin$1,currentMax$1,rotatedPoints,minLinePoints)}}let minDiameter={points:rotate$1(minWidthAngle,minLinePoints),length:minWidth,angle:toDegrees(minWidthAngle),calliperLines:minLines},maxLinePoints=[],maxSquaredWidth=0,maxLineIndex=[];for(let i$3=0;i$3<hullPoints.length-1;i$3++)for(let j$2=i$3+1;j$2<hullPoints.length;j$2++){let currentSquaredWidth=(hullPoints[i$3].column-hullPoints[j$2].column)**2+(hullPoints[i$3].row-hullPoints[j$2].row)**2;currentSquaredWidth>maxSquaredWidth&&(maxSquaredWidth=currentSquaredWidth,maxLinePoints=[hullPoints[i$3],hullPoints[j$2]],maxLineIndex=[i$3,j$2])}let maxAngle=getAngle(maxLinePoints[0],maxLinePoints[1]),rotatedMaxPoints=rotate$1(-maxAngle,hullPoints),{minIndex:currentMin,maxIndex:currentMax}=findPointsIndexesOfExtremeRows(rotatedMaxPoints),maxLines=getMaxLines(maxAngle,currentMin,currentMax,rotatedMaxPoints,maxLineIndex),maxDiameter={length:Math.sqrt(maxSquaredWidth),angle:toDegrees(getAngle(maxLinePoints[0],maxLinePoints[1])),points:maxLinePoints,calliperLines:maxLines};return{minDiameter,maxDiameter,aspectRatio:minDiameter.length/maxDiameter.length}}function findPointIndexesOfExtremeColumns(points){let maxIndex=0,minIndex=0;for(let i$3=0;i$3<points.length;i$3++)points[i$3].column>points[maxIndex].column&&(maxIndex=i$3),points[i$3].column<points[minIndex].column&&(minIndex=i$3);return{minIndex,maxIndex}}function findPointsIndexesOfExtremeRows(points){let maxIndex=0,minIndex=0;for(let i$3=0;i$3<points.length;i$3++)points[i$3].row>points[maxIndex].row&&(maxIndex=i$3),points[i$3].row<points[minIndex].row&&(minIndex=i$3);return{minIndex,maxIndex}}function getMinLines(angle,min$2,max$2,rotatedPoints,feretPoints){let minLine1=[{column:rotatedPoints[min$2].column,row:feretPoints[0].row},{column:rotatedPoints[max$2].column,row:feretPoints[0].row}],minLine2=[{column:rotatedPoints[min$2].column,row:feretPoints[1].row},{column:rotatedPoints[max$2].column,row:feretPoints[1].row}];return[rotate$1(angle,minLine1),rotate$1(angle,minLine2)]}function getMaxLines(angle,min$2,max$2,rotatedPoints,index$1){let maxLine1=[{column:rotatedPoints[index$1[0]].column,row:rotatedPoints[min$2].row},{column:rotatedPoints[index$1[0]].column,row:rotatedPoints[max$2].row}],maxLine2=[{column:rotatedPoints[index$1[1]].column,row:rotatedPoints[min$2].row},{column:rotatedPoints[index$1[1]].column,row:rotatedPoints[max$2].row}];return[rotate$1(angle,maxLine1),rotate$1(angle,maxLine2)]}var leftFirst=(mbrPoint1,mbrPoint2)=>mbrPoint1.column<=mbrPoint2.column?-1:1,topFirst=(mbrPoint1,mbrPoint2)=>mbrPoint1.row>=mbrPoint2.row?-1:1;function getMbrAngle(mbr){let sorted=mbr.slice();sorted.sort(leftFirst);let left=sorted.slice(0,2),right=sorted.slice(2,4);left.sort(topFirst),right.sort(topFirst);let topLeft=left[0],topRight=right[0];return-toDegrees(getAngle(topLeft,topRight))}function getMbrFromPoints(points){if(points.length===0)return{points:[],angle:0,width:0,height:0,surface:0,perimeter:0,aspectRatio:0};if(points.length===1)return{points:[points[0],points[0],points[0],points[0]],perimeter:0,surface:0,angle:0,width:0,height:0,aspectRatio:1};let rotatedVertices=[],minSurface=1/0,minSurfaceAngle=0,mbr=[];for(let i$3=0;i$3<points.length;i$3++){let angle=getAngle(points[i$3],points[(i$3+1)%points.length]);rotatedVertices=rotate$1(-angle,points);let aX=rotatedVertices[i$3].column,aY=rotatedVertices[i$3].row,bX=rotatedVertices[(i$3+1)%rotatedVertices.length].column,bY=rotatedVertices[(i$3+1)%rotatedVertices.length].row,tUndefined=!0,tMin=0,tMax=0,maxWidth=0;for(let point of rotatedVertices){let cX=point.column,cY=point.row,t$3=(cX-aX)/(bX-aX);tUndefined?(tUndefined=!1,tMin=t$3,tMax=t$3):(t$3<tMin&&(tMin=t$3),t$3>tMax&&(tMax=t$3));let width=(-(bX-aX)*cY+bX*aY-bY*aX)/(bX-aX);Math.abs(width)>Math.abs(maxWidth)&&(maxWidth=width)}let minPoint={column:aX+tMin*(bX-aX),row:aY},maxPoint={column:aX+tMax*(bX-aX),row:aY},currentSurface=Math.abs(maxWidth*(tMin-tMax)*(bX-aX));currentSurface<minSurface&&(minSurfaceAngle=angle,minSurface=currentSurface,mbr=[maxPoint,minPoint,{column:minPoint.column,row:minPoint.row-maxWidth},{column:maxPoint.column,row:maxPoint.row-maxWidth}])}let mbrRotated=rotate$1(minSurfaceAngle,mbr),sides=[Math.hypot(mbr[0].column-mbr[1].column,mbr[0].row-mbr[1].row),Math.hypot(mbr[0].column-mbr[3].column,mbr[0].row-mbr[3].row)],maxSide=Math.max(...sides),minSide=Math.min(...sides),mbrAngle=getMbrAngle(mbrRotated),ratio=minSide/maxSide;return{points:mbrRotated,surface:minSurface,angle:mbrAngle,width:maxSide,height:minSide,perimeter:2*maxSide+2*minSide,aspectRatio:ratio}}function getMbr(mask){let vertices=monotoneChainConvexHull(getExtendedBorderPoints(mask));return getMbrFromPoints(vertices)}function checkKernel(kernel){if(kernel.length%2==0||kernel[0].length%2==0)throw TypeError(`the number of rows and columns of the kernel must be odd`)}function erode(image,options$1={}){let defaultKernel=!1;options$1.kernel===void 0&&(defaultKernel=!0);let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let onlyOnes=!0;if(!defaultKernel){outer:for(let row of kernel)for(let bit of row)if(bit!==1){onlyOnes=!1;break outer}}let result=image;for(let i$3=0;i$3<iterations;i$3++)if(result instanceof Mask)if(onlyOnes){let newImage=result.clone();result=erodeMaskOnlyOnes(result,newImage,kernel[0].length,kernel.length)}else{let newImage=Mask.createFrom(image);result=erodeMask(result,newImage,kernel)}else if(onlyOnes){let newImage=Image$1.createFrom(image);result=erodeGreyOnlyOnes(result,newImage,kernel[0].length,kernel.length)}else{let newImage=Image$1.createFrom(image);result=erodeGrey(result,newImage,kernel)}return result}function erodeGrey(img,newImage,kernel){let kernelWidth=kernel[0].length,kernelHeight=kernel.length,radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2;for(let row=0;row<img.height;row++)for(let column=0;column<img.width;column++){let min$2=img.maxValue;for(let kernelRow=0;kernelRow<kernelHeight;kernelRow++)for(let kernelColumn=0;kernelColumn<kernelWidth;kernelColumn++){if(kernel[kernelRow][kernelColumn]!==1)continue;let currentColumn=kernelColumn-radiusX+column,currentRow=kernelRow-radiusY+row;if(currentColumn<0||currentRow<0||currentColumn>=img.width||currentRow>=img.height)continue;let value=img.getValue(currentColumn,currentRow,0);value<min$2&&(min$2=value)}newImage.setValue(column,row,0,min$2)}return newImage}function erodeGreyOnlyOnes(image,newImage,kernelWidth,kernelHeight){let radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2,minList=[];for(let column=0;column<image.width;column++)minList.push(0);for(let row=0;row<image.height;row++){for(let column=0;column<image.width;column++){let min$2=image.maxValue;for(let h$3=Math.max(0,row-radiusY);h$3<Math.min(image.height,row+radiusY+1);h$3++){let value=image.getValue(column,h$3,0);value<min$2&&(min$2=value)}minList[column]=min$2}for(let column=0;column<image.width;column++){let min$2=image.maxValue;for(let i$3=Math.max(0,column-radiusX);i$3<Math.min(image.width,column+radiusX+1);i$3++)minList[i$3]<min$2&&(min$2=minList[i$3]);newImage.setValue(column,row,0,min$2)}}return newImage}function erodeMask(mask,newMask,kernel){let kernelWidth=kernel[0].length,kernelHeight=kernel.length,radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2;for(let row=0;row<mask.height;row++)for(let column=0;column<mask.width;column++){let min$2=1;for(let kernelRow=0;kernelRow<kernelHeight;kernelRow++)for(let kernelColumn=0;kernelColumn<kernelWidth;kernelColumn++){if(kernel[kernelRow][kernelColumn]!==1)continue;let currentColumn=kernelColumn-radiusX+column,currentRow=kernelRow-radiusY+row;if(!(currentRow<0||currentColumn<0||currentColumn>=mask.width||currentRow>=mask.height)&&mask.getBit(currentColumn,currentRow)===0){min$2=0;break}}min$2===1&&newMask.setBit(column,row,1)}return newMask}function erodeMaskOnlyOnes(mask,newMask,kernelWidth,kernelHeight){let radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2,minList=[];for(let column=0;column<mask.width;column++)minList.push(0);for(let row=0;row<mask.height;row++){for(let column=0;column<mask.width;column++){minList[column]=1;for(let h$3=Math.max(0,row-radiusY);h$3<Math.min(mask.height,row+radiusY+1);h$3++)if(mask.getBit(column,h$3)===0){minList[column]=0;break}}for(let column=0;column<mask.width;column++)if(newMask.getBit(column,row)!==0){for(let i$3=Math.max(0,column-radiusX);i$3<Math.min(mask.width,column+radiusX+1);i$3++)if(minList[i$3]===0){newMask.setBit(column,row,0);break}}}return newMask}function dilate(image,options$1={}){let defaultKernel=!1;options$1.kernel===void 0&&(defaultKernel=!0);let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let onlyOnes=!0;if(!defaultKernel){outer:for(let row of kernel)for(let value of row)if(value!==1){onlyOnes=!1;break outer}}let result=image;for(let i$3=0;i$3<iterations;i$3++)if(result instanceof Mask)if(onlyOnes){let newMask=result.clone();result=dilatMaskOnlyOnes(result,newMask,kernel[0].length,kernel.length)}else{let newMask=Mask.createFrom(result);result=dilateMask(result,newMask,kernel)}else if(onlyOnes){let newImage=Image$1.createFrom(result);result=dilateGreyOnlyOnes(result,newImage,kernel[0].length,kernel.length)}else{let newImage=Image$1.createFrom(result);result=dilateGrey(result,newImage,kernel)}return result}function dilateGrey(image,newImage,kernel){let kernelWidth=kernel[0].length,kernelHeight=kernel.length,radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2;for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++){let max$2=0;for(let kernelRow=0;kernelRow<kernelHeight;kernelRow++)for(let kernelColumn=0;kernelColumn<kernelWidth;kernelColumn++){if(kernel[kernelRow][kernelColumn]!==1)continue;let currentColumn=kernelColumn-radiusX+column,currentRow=kernelRow-radiusY+row;if(currentColumn<0||currentRow<0||currentColumn>=image.width||currentRow>=image.height)continue;let value=image.getValue(currentColumn,currentRow,0);value>max$2&&(max$2=value)}newImage.setValue(column,row,0,max$2)}return newImage}function dilateGreyOnlyOnes(image,newImage,kernelWidth,kernelHeight){let radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2,maxList=[];for(let column=0;column<image.width;column++)maxList.push(0);for(let row=0;row<image.height;row++){for(let column=0;column<image.width;column++){let max$2=0;for(let h$3=Math.max(0,row-radiusY);h$3<Math.min(image.height,row+radiusY+1);h$3++){let value=image.getValue(column,h$3,0);value>max$2&&(max$2=value)}maxList[column]=max$2}for(let column=0;column<image.width;column++){let max$2=0;for(let i$3=Math.max(0,column-radiusX);i$3<Math.min(image.width,column+radiusX+1);i$3++)maxList[i$3]>max$2&&(max$2=maxList[i$3]);newImage.setValue(column,row,0,max$2)}}return newImage}function dilateMask(mask,newMask,kernel){let kernelWidth=kernel[0].length,kernelHeight=kernel.length,radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2;for(let row=0;row<mask.height;row++)for(let column=0;column<mask.width;column++){let max$2=0;for(let kernelRow=0;kernelRow<kernelHeight;kernelRow++)for(let kernelColumn=0;kernelColumn<kernelWidth;kernelColumn++){if(kernel[kernelRow][kernelColumn]!==1)continue;let currentColumn=kernelColumn-radiusX+column,currentRow=kernelRow-radiusY+row;if(!(currentRow<0||currentColumn<0||currentColumn>=mask.width||currentRow>=mask.height)&&mask.getBit(currentColumn,currentRow)===1){max$2=1;break}}max$2===1&&newMask.setBit(column,row,1)}return newMask}function dilatMaskOnlyOnes(mask,newMask,kernelWidth,kernelHeight){let radiusX=(kernelWidth-1)/2,radiusY=(kernelHeight-1)/2,maxList=[];for(let column=0;column<mask.width;column++)maxList.push(1);for(let row=0;row<mask.height;row++){for(let column=0;column<mask.width;column++){maxList[column]=0;for(let h$3=Math.max(0,row-radiusY);h$3<Math.min(mask.height,row+radiusY+1);h$3++)if(mask.getBit(column,h$3)===1){maxList[column]=1;break}}for(let column=0;column<mask.width;column++)if(newMask.getBit(column,row)!==1){for(let i$3=Math.max(0,column-radiusX);i$3<Math.min(mask.width,column+radiusX+1);i$3++)if(maxList[i$3]===1){newMask.setBit(column,row,1);break}}}return newMask}function open(image,options$1={}){let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let newImage=image;for(let i$3=0;i$3<iterations;i$3++)newImage=newImage.erode({kernel}),newImage=newImage.dilate({kernel});return newImage}function close(image,options$1={}){let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let newImage=image;for(let i$3=0;i$3<iterations;i$3++)newImage=newImage.dilate({kernel}).erode({kernel});return newImage}function topHat(image,options$1={}){let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let newImage=image;for(let i$3=0;i$3<iterations;i$3++){let openImage=newImage.open({kernel});newImage=subtract(openImage,newImage,{absolute:!0})}return newImage}function bottomHat(image,options$1={}){let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let newImage=image;for(let i$3=0;i$3<iterations;i$3++){let openImage=newImage.close({kernel});newImage=subtract(openImage,newImage,{absolute:!0})}return newImage}function morphologicalGradient(image,options$1={}){let{kernel=[[1,1,1],[1,1,1],[1,1,1]],iterations=1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(kernel);let newImage=image;for(let i$3=0;i$3<iterations;i$3++){let dilatedImage=newImage.dilate({kernel}),erodedImage=newImage.erode({kernel});newImage=subtract(dilatedImage,erodedImage,{absolute:!0})}return newImage}function*borderIterator(image){for(let col=0;col<image.width;col++)yield col;for(let row=2;row<image.height;row++)yield row*image.width-1;for(let col=0;col<image.width;col++)yield image.width*image.height-col-1;for(let row=image.height-2;row>=1;row--)yield row*image.width}var MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(mask,options$1={}){let{startPixels=[0],startPixelValue=0,newPixelValue=1,allowCorners=!1}=options$1,newMask=maskToOutputMask(mask,options$1,{clone:!0}),alreadyConsidered=Mask.createFrom(mask),from=0,to=0;for(let pixelIndex of startPixels)newMask.getBitByIndex(pixelIndex)===startPixelValue&&(toProcess[to++%MAX_ARRAY]=pixelIndex,alreadyConsidered.setBitByIndex(pixelIndex,1),newMask.setBitByIndex(pixelIndex,newPixelValue));for(;from<to;){assert(to-from<=MAX_ARRAY);let currentPixel=toProcess[from++%MAX_ARRAY];newMask.setBitByIndex(currentPixel,newPixelValue);let topBorder=currentPixel<mask.width,leftBorder=currentPixel%mask.width===0,rightBorder=currentPixel%mask.width===mask.width-1,bottomBorder=currentPixel>mask.size-mask.width;if(!bottomBorder){let bottom=currentPixel+mask.width;addToProcess(bottom)}if(!leftBorder){let left=currentPixel-1;addToProcess(left)}if(!topBorder){let top=currentPixel-mask.width;addToProcess(top)}if(!rightBorder){let right=currentPixel+1;addToProcess(right)}if(allowCorners){if(!topBorder){if(!leftBorder){let topLeft=currentPixel-mask.width-1;addToProcess(topLeft)}if(!rightBorder){let topRight=currentPixel-mask.width+1;addToProcess(topRight)}}if(!bottomBorder){if(!leftBorder){let bottomLeft=currentPixel+mask.width-1;addToProcess(bottomLeft)}if(!rightBorder){let bottomRight=currentPixel+mask.width+1;addToProcess(bottomRight)}}}}function addToProcess(pixel){alreadyConsidered.getBitByIndex(pixel)||newMask.getBitByIndex(pixel)===startPixelValue&&(toProcess[to++%MAX_ARRAY]=pixel,alreadyConsidered.setBitByIndex(pixel,1))}return newMask}function clearBorder(mask,options$1={}){let{allowCorners=!1,out,color=`white`}=options$1;return multipleFloodFill(mask,{startPixels:borderIterator(mask),startPixelValue:color===`white`?1:0,newPixelValue:color===`white`?0:1,allowCorners,out})}var kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(image,options$1={}){let{hysteresis=!0,lowThreshold=.04,highThreshold=.1,gaussianBlurOptions={sigma:1}}=options$1,minValue=lowThreshold*image.maxValue,maxValue=highThreshold*image.maxValue;checkProcessable(image,{colorModel:`GREY`});let width=image.width,height=image.height,blurred=image.gaussianBlur(gaussianBlurOptions),gradientX=blurred.rawDirectConvolution(kernelY),gradientY=blurred.rawDirectConvolution(kernelX),gradient=new Float64Array(image.size);for(let i$3=0;i$3<image.size;i$3++)gradient[i$3]=Math.hypot(gradientX[i$3],gradientY[i$3]);let nonMaxSuppression=new Float64Array(image.size),edges=new Float64Array(image.size),finalImage=imageToOutputMask(image,options$1);for(let column=1;column<width-1;column++)for(let row=1;row<height-1;row++){let currentGradientX=gradientX[getIndex(column,row,image,0)],currentGradientY=gradientY[getIndex(column,row,image,0)],direction=getDirection(currentGradientX,currentGradientY),currentGradient=gradient[getIndex(column,row,image,0)];(direction===0&&currentGradient>=gradient[getIndex(column,row-1,image,0)]&&currentGradient>=gradient[getIndex(column,row+1,image,0)]||direction===1&&currentGradient>=gradient[getIndex(column-1,row-1,image,0)]&&currentGradient>=gradient[getIndex(column+1,row+1,image,0)]||direction===2&&currentGradient>=gradient[getIndex(column-1,row,image,0)]&&currentGradient>=gradient[getIndex(column+1,row,image,0)]||direction===3&&currentGradient>=gradient[getIndex(column-1,row+1,image,0)]&&currentGradient>=gradient[getIndex(column+1,row-1,image,0)])&&(nonMaxSuppression[getIndex(column,row,image,0)]=currentGradient)}for(let i$3=0;i$3<width*height;++i$3){let currentNms=nonMaxSuppression[i$3],currentEdge=0;currentNms>maxValue&&(currentEdge++,finalImage.setBitByIndex(i$3,1)),currentNms>minValue&&currentEdge++,edges[i$3]=currentEdge}if(hysteresis){let currentPixels=[];for(let column=1;column<width-1;++column)for(let row=1;row<height-1;++row)if(edges[getIndex(column,row,image,0)]===1){outer:for(let hystColumn=column-1;hystColumn<column+2;++hystColumn)for(let hystRow=row-1;hystRow<row+2;++hystRow)if(edges[getIndex(hystColumn,hystRow,image,0)]===2){currentPixels.push([column,row]),finalImage.setValue(column,row,0,1);break outer}}for(;currentPixels.length>0;){let newPixels=[];for(let currentPixel of currentPixels)for(let j$2=-1;j$2<2;++j$2)for(let k$2=-1;k$2<2;++k$2){if(j$2===0&&k$2===0)continue;let row=currentPixel[0]+j$2,column=currentPixel[1]+k$2;edges[getIndex(column,row,image,0)]===1&&finalImage.getValue(column,row,0)===0&&(newPixels.push([row,column]),finalImage.setValue(column,row,0,1))}currentPixels=newPixels}}return finalImage}function getDirection(x$2,y$2){return(Math.round(Math.atan2(y$2,x$2)*(4/Math.PI))+4)%4}function floodFill(mask,options$1={}){let{origin={row:0,column:0},allowCorners=!1,out}=options$1,startPixel=getIndex(origin.column,origin.row,mask);return multipleFloodFill(mask,{startPixels:[startPixel],allowCorners,out})}function solidFill(mask,options$1={}){let{allowCorners=!1}=options$1,newImage=maskToOutputMask(mask,options$1,{clone:!0}),cleared=mask.invert().clearBorder({allowCorners});return newImage.or(cleared,{out:newImage})}function boolToNumber(value){let result;return result=typeof value==`boolean`?value?1:0:value,result}var Mask=class Mask{width;height;size;bitDepth;colorModel;components;channels;alpha;maxValue;origin;data;constructor(width,height,options$1={}){let{data,origin={row:0,column:0}}=options$1;if(width<1||!Number.isInteger(width))throw RangeError(`width must be an integer and at least 1. Received ${width}`);if(height<1||!Number.isInteger(height))throw RangeError(`height must be an integer and at least 1. Received ${height}`);this.width=width,this.height=height,this.size=width*height,this.bitDepth=1,this.colorModel=`BINARY`,this.origin=origin;let colorModelDef=colorModels[this.colorModel];if(this.components=colorModelDef.components,this.alpha=colorModelDef.alpha,this.channels=colorModelDef.channels,this.maxValue=1,data===void 0)this.data=new Uint8Array(this.size);else{let expectedLength=this.size*this.channels;if(data.length!==expectedLength)throw RangeError(`incorrect data size: ${data.length}. Expected ${expectedLength}`);this.data=data}}static createFrom(other,options$1={}){let{width=other.width,height=other.height,origin=other.origin}=options$1;return new Mask(width,height,{origin,...options$1})}getPixel(column,row){let result=[],index$1=row*this.width+column;return result.push(this.data[index$1]),result}setPixel(column,row,value){let index$1=row*this.width+column;this.data[index$1]=value[0]}setVisiblePixel(column,row,value){column>=0&&column<this.width&&row>=0&&row<this.height&&this.setPixel(column,row,value)}getPixelByIndex(index$1){return[this.data[index$1]]}setPixelByIndex(index$1,value){this.data[index$1]=value[0]}static fromPoints(width,height,points){let mask=new Mask(width,height);for(let point of points)mask.setBit(point.column,point.row,1);return mask}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(column,row){let index$1=row*this.width+column;return this.data[index$1]}setBit(column,row,value){let index$1=row*this.width+column;this.data[index$1]=value}getBitByIndex(index$1){return this.data[index$1*this.channels]}setBitByIndex(index$1,value){this.data[index$1*this.channels]=boolToNumber(value)}getNbNonZeroPixels(){let count=0;for(let datum of this.data)datum&&count++;return count}getValue(column,row,channel$1){return checkChannel(channel$1),this.getBit(column,row)}setValue(column,row,channel$1,value){checkChannel(channel$1),this.setBit(column,row,value)}getValueByIndex(index$1,channel$1){return checkChannel(channel$1),this.getBitByIndex(index$1)}setValueByIndex(index$1,channel$1,value){checkChannel(channel$1),this.setBitByIndex(index$1,value)}getValueByPoint(point){return this.getValue(point.column,point.row,0)}setValueByPoint(point,value){this.setValue(point.column,point.row,0,value)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for(`nodejs.util.inspect.custom`)](){let dataString;return dataString=this.height>20||this.width>20?`[...]`:printData$1(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${dataString}
}`}fill(value){let result=boolToNumber(value);return this.data.fill(result),this}convertColor(colorModel){return convertColor(this,colorModel)}invert(options$1){return invert(this,options$1)}subtract(other,options$1){return subtract(this,other,options$1)}and(other,options$1){return and(this,other,options$1)}or(other,options$1){return or(this,other,options$1)}getBorderPoints(options$1){return getBorderPoints(this,options$1)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(options$1){return erode(this,options$1)}dilate(options$1){return dilate(this,options$1)}open(options$1){return open(this,options$1)}close(options$1){return close(this,options$1)}topHat(options$1){return topHat(this,options$1)}bottomHat(options$1){return bottomHat(this,options$1)}morphologicalGradient(options$1){return morphologicalGradient(this,options$1)}clearBorder(options$1){return clearBorder(this,options$1)}floodFill(options$1){return floodFill(this,options$1)}solidFill(options$1){return solidFill(this,options$1)}drawPoints(points,options$1={}){return drawPoints(this,points,options$1)}drawLine(from,to,options$1={}){return drawLineOnMask(this,from,to,options$1)}drawPolyline(points,options$1={}){return drawPolylineOnMask(this,points,options$1)}drawPolygon(points,options$1={}){return drawPolygonOnMask(this,points,options$1)}drawRectangle(options$1={}){return drawRectangle(this,options$1)}copyTo(target,options$1={}){return copyTo(this,target,options$1)}paintMask(mask,options$1){return paintMaskOnMask(this,mask,options$1)}};function printData$1(mask){let result=[];for(let row=0;row<mask.height;row++){let line$3=[];for(let column=0;column<mask.width;column++)line$3.push(String(mask.getBit(column,row)));result.push(`[${line$3.join(` `)}]`)}return result.join(`
        `)}function checkChannel(channel$1){if(channel$1!==0)throw RangeError(`channel value must be 0 on type Mask. Received ${channel$1}`)}function subtract(image,otherImage,options$1={}){let{absolute=!1}=options$1;image instanceof Image$1&&checkProcessable(image,{bitDepth:[1,8,16],components:[1,3],alpha:!1}),validateForComparison(image,otherImage);let newImage=image.clone();if(newImage instanceof Image$1)for(let index$1=0;index$1<image.size;index$1++)for(let channel$1=0;channel$1<image.channels;channel$1++){let value=image.getValueByIndex(index$1,channel$1)-otherImage.getValueByIndex(index$1,channel$1);absolute?value<0?newImage.setValueByIndex(index$1,channel$1,-value):newImage.setValueByIndex(index$1,channel$1,value):value<0?newImage.setValueByIndex(index$1,channel$1,0):newImage.setValueByIndex(index$1,channel$1,value)}else if(image instanceof Mask&&otherImage instanceof Mask)for(let index$1=0;index$1<image.size;index$1++){let value=image.getBitByIndex(index$1)-otherImage.getBitByIndex(index$1);absolute?newImage.setBitByIndex(index$1,value?1:0):newImage.setBitByIndex(index$1,value>0?1:0)}return newImage}function add(image,otherImage){image instanceof Image$1&&checkProcessable(image,{bitDepth:[8,16],components:[1,3],alpha:!1}),validateForComparison(image,otherImage);let newImage=image.clone(),clamp=getClamp(image);for(let index$1=0;index$1<image.size;index$1++)for(let channel$1=0;channel$1<image.channels;channel$1++){let value=image.getValueByIndex(index$1,channel$1)+otherImage.getValueByIndex(index$1,channel$1);newImage.setValueByIndex(index$1,channel$1,clamp(value))}return newImage}function multiply(image,value,options$1={}){let{channels=Array(image.channels).fill(0).map((value$1,index$1)=>index$1)}=options$1;validateChannels(channels,image);let newImage=getOutputImage(image,options$1,{clone:!0});if(channels.length===0)return newImage;for(let channel$1 of channels)for(let row=0;row<newImage.height;row++)for(let column=0;column<newImage.width;column++){let newIntensity=newImage.getValue(column,row,channel$1)*value;newImage.setClampedValue(column,row,channel$1,newIntensity)}return newImage}function mean(image,options$1){let pixelSum=Array(image.channels).fill(0),nbValues=options$1?options$1.points.length:image.size;if(nbValues===0)throw RangeError(`Array of coordinates is empty.`);if(options$1)for(let point of options$1.points)for(let channel$1=0;channel$1<image.channels;channel$1++){if(point.column<0||point.column>=image.width||point.row<0||point.row>=image.height)throw RangeError(`Invalid coordinate: {column: ${point.column}, row: ${point.row}}.`);pixelSum[channel$1]+=image.getValueByPoint(point,channel$1)}else for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++)for(let channel$1=0;channel$1<image.channels;channel$1++)pixelSum[channel$1]+=image.getValue(column,row,channel$1);return pixelSum.map(channelSum=>channelSum/nbValues)}function histogram(image,options$1={}){let{channel:channel$1}=options$1,{slots=2**image.bitDepth}=options$1;if(!(slots!==0&&!(slots&slots-1)))throw RangeError(`slots must be a power of 2, for example: 64, 256, 1024`);if(typeof channel$1!=`number`){if(image.channels!==1)throw TypeError(`channel option is mandatory for multi-channel images`);channel$1=0}validateChannel(channel$1,image);let hist=new Uint32Array(slots),bitShift=0,bitSlots=Math.log2(slots);bitShift=image.bitDepth-bitSlots;for(let i$3=0;i$3<image.size;i$3++)hist[image.getValueByIndex(i$3,channel$1)>>bitShift]++;return hist}var import_median_quickselect_min$1=__toESM(require_median_quickselect_min());function median(image,options$1){let pixel=Array(image.channels).fill(0);if(options$1){if(options$1.points.length===0)throw RangeError(`Array of coordinates is empty.`);for(let i$3=0;i$3<image.channels;i$3++){let channel$1=[];for(let point of options$1.points){if(point.column<0||point.column>=image.width||point.row<0||point.row>=image.height)throw RangeError(`Invalid coordinate: {column: ${point.column}, row: ${point.row}}.`);channel$1.push(image.getValueByPoint(point,i$3))}pixel[i$3]=(0,import_median_quickselect_min$1.default)(channel$1)}}else for(let i$3=0;i$3<image.channels;i$3++){let channel$1=image.getChannel(i$3);pixel[i$3]=(0,import_median_quickselect_min$1.default)(channel$1)}return pixel}function variance(image,options$1){let mean$2=image.mean(options$1),sum=Array(image.channels).fill(0);if(options$1)for(let point of options$1.points)for(let channel$1=0;channel$1<image.channels;channel$1++)sum[channel$1]+=(image.getValue(point.column,point.row,channel$1)-mean$2[channel$1])**2;else for(let i$3=0;i$3<image.size;i$3++)for(let channel$1=0;channel$1<image.channels;channel$1++)sum[channel$1]+=(image.getValueByIndex(i$3,channel$1)-mean$2[channel$1])**2;let nbValues=options$1?options$1.points.length*image.channels:image.size*image.channels;return sum.map(channel$1=>channel$1/nbValues)}var MultivariateLinearRegression=class MultivariateLinearRegression{constructor(x$2,y$2,options$1={}){let{intercept=!0,statistics=!0}=options$1;if(this.statistics=statistics,x$2===!0)this.weights=y$2.weights,this.inputs=y$2.inputs,this.outputs=y$2.outputs,this.intercept=y$2.intercept;else{x$2=new Matrix(x$2),y$2=new Matrix(y$2),intercept&&x$2.addColumn(Array(x$2.rows).fill(1));let xt=x$2.transpose(),xx=xt.mmul(x$2),xy=xt.mmul(y$2),invxx=new SVD(xx).inverse(),beta=xy.transpose().mmul(invxx).transpose();if(this.weights=beta.to2DArray(),this.inputs=x$2.columns,this.outputs=y$2.columns,intercept&&this.inputs--,this.intercept=intercept,statistics){let fittedValues=x$2.mmul(beta),variance$1=y$2.clone().addM(fittedValues.neg()).to2DArray().map(ri=>ri[0]**2).reduce((a$3,b$3)=>a$3+b$3)/(y$2.rows-x$2.columns);this.stdError=Math.sqrt(variance$1),this.stdErrorMatrix=pseudoInverse(xx).mul(variance$1),this.stdErrors=this.stdErrorMatrix.diagonal().map(d$2=>Math.sqrt(d$2)),this.tStats=this.weights.map((d$2,i$3)=>this.stdErrors[i$3]===0?0:d$2[0]/this.stdErrors[i$3])}}}predict(x$2){if(Array.isArray(x$2)){if(typeof x$2[0]==`number`)return this._predict(x$2);if(Array.isArray(x$2[0])){let y$2=Array(x$2.length);for(let i$3=0;i$3<x$2.length;i$3++)y$2[i$3]=this._predict(x$2[i$3]);return y$2}}else if(Matrix.isMatrix(x$2)){let y$2=new Matrix(x$2.rows,this.outputs);for(let i$3=0;i$3<x$2.rows;i$3++)y$2.setRow(i$3,this._predict(x$2.getRow(i$3)));return y$2}throw TypeError(`x must be a matrix or array of numbers`)}_predict(x$2){let result=Array(this.outputs);if(this.intercept)for(let i$3=0;i$3<this.outputs;i$3++)result[i$3]=this.weights[this.inputs][i$3];else result.fill(0);for(let i$3=0;i$3<this.inputs;i$3++)for(let j$2=0;j$2<this.outputs;j$2++)result[j$2]+=this.weights[i$3][j$2]*x$2[i$3];return result}score(){throw Error(`score method is not implemented yet`)}toJSON(){return{name:`multivariateLinearRegression`,weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((d$2,i$3)=>({label:i$3===this.weights.length-1?`Intercept`:`X Variable ${i$3+1}`,coefficients:d$2,standardError:this.stdErrors[i$3],tStat:this.tStats[i$3]}))}:void 0}}static load(model){if(model.name!==`multivariateLinearRegression`)throw Error(`not a MLR model`);return new MultivariateLinearRegression(!0,model)}},r$1={grad:.9,turn:360,rad:360/(2*Math.PI)},t$1=function(r$3){return typeof r$3==`string`?r$3.length>0:typeof r$3==`number`},n$1=function(r$3,t$3,n$3){return t$3===void 0&&(t$3=0),n$3===void 0&&(n$3=10**t$3),Math.round(n$3*r$3)/n$3+0},e$1=function(r$3,t$3,n$3){return t$3===void 0&&(t$3=0),n$3===void 0&&(n$3=1),r$3>n$3?n$3:r$3>t$3?r$3:t$3},u$1=function(r$3){return(r$3=isFinite(r$3)?r$3%360:0)>0?r$3:r$3+360},a$1=function(r$3){return{r:e$1(r$3.r,0,255),g:e$1(r$3.g,0,255),b:e$1(r$3.b,0,255),a:e$1(r$3.a)}},o$1=function(r$3){return{r:n$1(r$3.r),g:n$1(r$3.g),b:n$1(r$3.b),a:n$1(r$3.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s=function(r$3){var t$3=r$3.toString(16);return t$3.length<2?`0`+t$3:t$3},h$1=function(r$3){var t$3=r$3.r,n$3=r$3.g,e$3=r$3.b,u$2=r$3.a,a$3=Math.max(t$3,n$3,e$3),o$3=a$3-Math.min(t$3,n$3,e$3),i$3=o$3?a$3===t$3?(n$3-e$3)/o$3:a$3===n$3?2+(e$3-t$3)/o$3:4+(t$3-n$3)/o$3:0;return{h:60*(i$3<0?i$3+6:i$3),s:a$3?o$3/a$3*100:0,v:a$3/255*100,a:u$2}},b$1=function(r$3){var t$3=r$3.h,n$3=r$3.s,e$3=r$3.v,u$2=r$3.a;t$3=t$3/360*6,n$3/=100,e$3/=100;var a$3=Math.floor(t$3),o$3=e$3*(1-n$3),i$3=e$3*(1-(t$3-a$3)*n$3),s$2=e$3*(1-(1-t$3+a$3)*n$3),h$3=a$3%6;return{r:255*[e$3,i$3,o$3,o$3,s$2,e$3][h$3],g:255*[s$2,e$3,e$3,i$3,o$3,o$3][h$3],b:255*[o$3,o$3,s$2,e$3,e$3,i$3][h$3],a:u$2}},g=function(r$3){return{h:u$1(r$3.h),s:e$1(r$3.s,0,100),l:e$1(r$3.l,0,100),a:e$1(r$3.a)}},d=function(r$3){return{h:n$1(r$3.h),s:n$1(r$3.s),l:n$1(r$3.l),a:n$1(r$3.a,3)}},f=function(r$3){return b$1((n$3=(t$3=r$3).s,{h:t$3.h,s:(n$3*=((e$3=t$3.l)<50?e$3:100-e$3)/100)>0?2*n$3/(e$3+n$3)*100:0,v:e$3+n$3,a:t$3.a}));var t$3,n$3,e$3},c=function(r$3){return{h:(t$3=h$1(r$3)).h,s:(u$2=(200-(n$3=t$3.s))*(e$3=t$3.v)/100)>0&&u$2<200?n$3*e$3/100/(u$2<=100?u$2:200-u$2)*100:0,l:u$2/2,a:t$3.a};var t$3,n$3,e$3,u$2},l$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r$3){var t$3=i$1.exec(r$3);return t$3?(r$3=t$3[1]).length<=4?{r:parseInt(r$3[0]+r$3[0],16),g:parseInt(r$3[1]+r$3[1],16),b:parseInt(r$3[2]+r$3[2],16),a:r$3.length===4?n$1(parseInt(r$3[3]+r$3[3],16)/255,2):1}:r$3.length===6||r$3.length===8?{r:parseInt(r$3.substr(0,2),16),g:parseInt(r$3.substr(2,2),16),b:parseInt(r$3.substr(4,2),16),a:r$3.length===8?n$1(parseInt(r$3.substr(6,2),16)/255,2):1}:null:null},`hex`],[function(r$3){var t$3=v.exec(r$3)||m.exec(r$3);return t$3?t$3[2]!==t$3[4]||t$3[4]!==t$3[6]?null:a$1({r:Number(t$3[1])/(t$3[2]?100/255:1),g:Number(t$3[3])/(t$3[4]?100/255:1),b:Number(t$3[5])/(t$3[6]?100/255:1),a:t$3[7]===void 0?1:Number(t$3[7])/(t$3[8]?100:1)}):null},`rgb`],[function(t$3){var n$3=l$1.exec(t$3)||p$1.exec(t$3);if(!n$3)return null;var e$3,u$2,a$3=g({h:(e$3=n$3[1],u$2=n$3[2],u$2===void 0&&(u$2=`deg`),Number(e$3)*(r$1[u$2]||1)),s:Number(n$3[3]),l:Number(n$3[4]),a:n$3[5]===void 0?1:Number(n$3[5])/(n$3[6]?100:1)});return f(a$3)},`hsl`]],object:[[function(r$3){var n$3=r$3.r,e$3=r$3.g,u$2=r$3.b,o$3=r$3.a,i$3=o$3===void 0?1:o$3;return t$1(n$3)&&t$1(e$3)&&t$1(u$2)?a$1({r:Number(n$3),g:Number(e$3),b:Number(u$2),a:Number(i$3)}):null},`rgb`],[function(r$3){var n$3=r$3.h,e$3=r$3.s,u$2=r$3.l,a$3=r$3.a,o$3=a$3===void 0?1:a$3;if(!t$1(n$3)||!t$1(e$3)||!t$1(u$2))return null;var i$3=g({h:Number(n$3),s:Number(e$3),l:Number(u$2),a:Number(o$3)});return f(i$3)},`hsl`],[function(r$3){var n$3=r$3.h,a$3=r$3.s,o$3=r$3.v,i$3=r$3.a,s$2=i$3===void 0?1:i$3;if(!t$1(n$3)||!t$1(a$3)||!t$1(o$3))return null;var h$3=function(r$4){return{h:u$1(r$4.h),s:e$1(r$4.s,0,100),v:e$1(r$4.v,0,100),a:e$1(r$4.a)}}({h:Number(n$3),s:Number(a$3),v:Number(o$3),a:Number(s$2)});return b$1(h$3)},`hsv`]]},N=function(r$3,t$3){for(var n$3=0;n$3<t$3.length;n$3++){var e$3=t$3[n$3][0](r$3);if(e$3)return[e$3,t$3[n$3][1]]}return[null,void 0]},x=function(r$3){return typeof r$3==`string`?N(r$3.trim(),y.string):typeof r$3==`object`&&r$3?N(r$3,y.object):[null,void 0]},I=function(r$3){return x(r$3)[1]},M$2=function(r$3,t$3){var n$3=c(r$3);return{h:n$3.h,s:e$1(n$3.s+100*t$3,0,100),l:n$3.l,a:n$3.a}},H=function(r$3){return(299*r$3.r+587*r$3.g+114*r$3.b)/1e3/255},$=function(r$3,t$3){var n$3=c(r$3);return{h:n$3.h,s:n$3.s,l:e$1(n$3.l+100*t$3,0,100),a:n$3.a}},j=function(){function r$3(r$4){this.parsed=x(r$4)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r$3.prototype.isValid=function(){return this.parsed!==null},r$3.prototype.brightness=function(){return n$1(H(this.rgba),2)},r$3.prototype.isDark=function(){return H(this.rgba)<.5},r$3.prototype.isLight=function(){return H(this.rgba)>=.5},r$3.prototype.toHex=function(){return r$4=o$1(this.rgba),t$3=r$4.r,e$3=r$4.g,u$2=r$4.b,i$3=(a$3=r$4.a)<1?s(n$1(255*a$3)):``,`#`+s(t$3)+s(e$3)+s(u$2)+i$3;var r$4,t$3,e$3,u$2,a$3,i$3},r$3.prototype.toRgb=function(){return o$1(this.rgba)},r$3.prototype.toRgbString=function(){return r$4=o$1(this.rgba),t$3=r$4.r,n$3=r$4.g,e$3=r$4.b,(u$2=r$4.a)<1?`rgba(`+t$3+`, `+n$3+`, `+e$3+`, `+u$2+`)`:`rgb(`+t$3+`, `+n$3+`, `+e$3+`)`;var r$4,t$3,n$3,e$3,u$2},r$3.prototype.toHsl=function(){return d(c(this.rgba))},r$3.prototype.toHslString=function(){return r$4=d(c(this.rgba)),t$3=r$4.h,n$3=r$4.s,e$3=r$4.l,(u$2=r$4.a)<1?`hsla(`+t$3+`, `+n$3+`%, `+e$3+`%, `+u$2+`)`:`hsl(`+t$3+`, `+n$3+`%, `+e$3+`%)`;var r$4,t$3,n$3,e$3,u$2},r$3.prototype.toHsv=function(){return r$4=h$1(this.rgba),{h:n$1(r$4.h),s:n$1(r$4.s),v:n$1(r$4.v),a:n$1(r$4.a,3)};var r$4},r$3.prototype.invert=function(){return w({r:255-(r$4=this.rgba).r,g:255-r$4.g,b:255-r$4.b,a:r$4.a});var r$4},r$3.prototype.saturate=function(r$4){return r$4===void 0&&(r$4=.1),w(M$2(this.rgba,r$4))},r$3.prototype.desaturate=function(r$4){return r$4===void 0&&(r$4=.1),w(M$2(this.rgba,-r$4))},r$3.prototype.grayscale=function(){return w(M$2(this.rgba,-1))},r$3.prototype.lighten=function(r$4){return r$4===void 0&&(r$4=.1),w($(this.rgba,r$4))},r$3.prototype.darken=function(r$4){return r$4===void 0&&(r$4=.1),w($(this.rgba,-r$4))},r$3.prototype.rotate=function(r$4){return r$4===void 0&&(r$4=15),this.hue(this.hue()+r$4)},r$3.prototype.alpha=function(r$4){return typeof r$4==`number`?w({r:(t$3=this.rgba).r,g:t$3.g,b:t$3.b,a:r$4}):n$1(this.rgba.a,3);var t$3},r$3.prototype.hue=function(r$4){var t$3=c(this.rgba);return typeof r$4==`number`?w({h:r$4,s:t$3.s,l:t$3.l,a:t$3.a}):n$1(t$3.h)},r$3.prototype.isEqual=function(r$4){return this.toHex()===w(r$4).toHex()},r$3}(),w=function(r$3){return r$3 instanceof j?r$3:new j(r$3)},S=[],k=function(r$3){r$3.forEach(function(r$4){S.indexOf(r$4)<0&&(r$4(j,y),S.push(r$4))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})},a=function(a$3){return typeof a$3==`string`?a$3.length>0:typeof a$3==`number`},t=function(a$3,t$3,o$3){return t$3===void 0&&(t$3=0),o$3===void 0&&(o$3=10**t$3),Math.round(o$3*a$3)/o$3+0},o=function(a$3,t$3,o$3){return t$3===void 0&&(t$3=0),o$3===void 0&&(o$3=1),a$3>o$3?o$3:a$3>t$3?a$3:t$3},r=function(a$3){var t$3=a$3/255;return t$3<.04045?t$3/12.92:((t$3+.055)/1.055)**2.4},h=function(a$3){return 255*(a$3>.0031308?1.055*a$3**(1/2.4)-.055:12.92*a$3)},n=96.422,p=100,M$1=82.521,u=function(a$3){var t$3,r$3,n$3={x:.9555766*(t$3=a$3).x+-.0230393*t$3.y+.0631636*t$3.z,y:-.0282895*t$3.x+1.0099416*t$3.y+.0210077*t$3.z,z:.0122982*t$3.x+-.020483*t$3.y+1.3299098*t$3.z};return r$3={r:h(.032404542*n$3.x-.015371385*n$3.y-.004985314*n$3.z),g:h(-.00969266*n$3.x+.018760108*n$3.y+41556e-8*n$3.z),b:h(556434e-9*n$3.x-.002040259*n$3.y+.010572252*n$3.z),a:a$3.a},{r:o(r$3.r,0,255),g:o(r$3.g,0,255),b:o(r$3.b,0,255),a:o(r$3.a)}},e=function(a$3){var t$3=r(a$3.r),h$3=r(a$3.g),u$2=r(a$3.b);return function(a$4){return{x:o(a$4.x,0,n),y:o(a$4.y,0,p),z:o(a$4.z,0,M$1),a:o(a$4.a)}}(function(a$4){return{x:1.0478112*a$4.x+.0228866*a$4.y+-.050127*a$4.z,y:.0295424*a$4.x+.9904844*a$4.y+-.0170491*a$4.z,z:-.0092345*a$4.x+.0150436*a$4.y+.7521316*a$4.z,a:a$4.a}}({x:100*(.4124564*t$3+.3575761*h$3+.1804375*u$2),y:100*(.2126729*t$3+.7151522*h$3+.072175*u$2),z:100*(.0193339*t$3+.119192*h$3+.9503041*u$2),a:a$3.a}))},w$1=216/24389,b=24389/27,i=function(t$3){var r$3=t$3.l,h$3=t$3.a,n$3=t$3.b,p$3=t$3.alpha,M$3=p$3===void 0?1:p$3;if(!a(r$3)||!a(h$3)||!a(n$3))return null;var u$2=function(a$3){return{l:o(a$3.l,0,400),a:a$3.a,b:a$3.b,alpha:o(a$3.alpha)}}({l:Number(r$3),a:Number(h$3),b:Number(n$3),alpha:Number(M$3)});return l(u$2)},l=function(a$3){var t$3=(a$3.l+16)/116,o$3=a$3.a/500+t$3,r$3=t$3-a$3.b/200;return u({x:(o$3**3>w$1?o$3**3:(116*o$3-16)/b)*n,y:(a$3.l>8?((a$3.l+16)/116)**3:a$3.l/b)*p,z:(r$3**3>w$1?r$3**3:(116*r$3-16)/b)*M$1,a:a$3.alpha})};function lab_default(a$3,r$3){a$3.prototype.toLab=function(){return o$3=e(this.rgba),h$3=o$3.y/p,u$2=o$3.z/M$1,r$4=(r$4=o$3.x/n)>w$1?Math.cbrt(r$4):(b*r$4+16)/116,a$4={l:116*(h$3=h$3>w$1?Math.cbrt(h$3):(b*h$3+16)/116)-16,a:500*(r$4-h$3),b:200*(h$3-(u$2=u$2>w$1?Math.cbrt(u$2):(b*u$2+16)/116)),alpha:o$3.a},{l:t(a$4.l,2),a:t(a$4.a,2),b:t(a$4.b,2),alpha:t(a$4.alpha,3)};var a$4,o$3,r$4,h$3,u$2},a$3.prototype.delta=function(r$4){r$4===void 0&&(r$4=`#FFF`);var h$3=r$4 instanceof a$3?r$4:new a$3(r$4),n$3=function(a$4,t$3){var o$3=a$4.l,r$5=a$4.a,h$4=a$4.b,n$4=t$3.l,p$3=t$3.a,M$3=t$3.b,u$2=180/Math.PI,e$3=Math.PI/180,w$3=(r$5**2+h$4**2)**.5,b$3=(p$3**2+M$3**2)**.5,i$3=(o$3+n$4)/2,l$2=((w$3+b$3)/2)**7,c$2=.5*(1-(l$2/(l$2+25**7))**.5),f$1=r$5*(1+c$2),y$2=p$3*(1+c$2),v$2=(f$1**2+h$4**2)**.5,x$2=(y$2**2+M$3**2)**.5,z=(v$2+x$2)/2,s$2=f$1===0&&h$4===0?0:Math.atan2(h$4,f$1)*u$2,d$2=y$2===0&&M$3===0?0:Math.atan2(M$3,y$2)*u$2;s$2<0&&(s$2+=360),d$2<0&&(d$2+=360);var g$1=d$2-s$2,m$1=Math.abs(d$2-s$2);m$1>180&&d$2<=s$2?g$1+=360:m$1>180&&d$2>s$2&&(g$1-=360);var N$2=s$2+d$2;m$1<=180?N$2/=2:N$2=(s$2+d$2<360?N$2+360:N$2-360)/2;var F$1=1-.17*Math.cos(e$3*(N$2-30))+.24*Math.cos(2*e$3*N$2)+.32*Math.cos(e$3*(3*N$2+6))-.2*Math.cos(e$3*(4*N$2-63)),L$1=n$4-o$3,I$2=x$2-v$2,P$1=2*Math.sin(e$3*g$1/2)*(v$2*x$2)**.5,j$2=1+.015*(i$3-50)**2/(20+(i$3-50)**2)**.5,k$2=1+.045*z,q=1+.015*z*F$1,A$1=30*Math.exp(-1*((N$2-275)/25)**2),B$1=-2*(l$2/(l$2+25**7))**.5*Math.sin(2*e$3*A$1);return((L$1/1/j$2)**2+(I$2/1/k$2)**2+(P$1/1/q)**2+B$1*I$2*P$1/(1*k$2*1*q))**.5}(this.toLab(),h$3.toLab())/100;return o(t(n$3,3))},r$3.object.push([i,`lab`])}k([lab_default]);function formatReferenceForMlr(referenceColors,maxValue){let referenceData={r:[],g:[],b:[]};for(let color of referenceColors)referenceData.r.push([color.r/maxValue]),referenceData.g.push([color.g/maxValue]),referenceData.b.push([color.b/maxValue]);return referenceData}function formatInputForMlr(inputColors,maxValue){let inputData=[];for(let color of inputColors)inputData.push(getRegressionVariables(color.r,color.g,color.b,maxValue));return inputData}function correctColor(image,measuredColors,referenceColors){if(checkProcessable(image,{colorModel:[`RGB`,`RGBA`]}),measuredColors.length!==referenceColors.length)throw RangeError(`number of measured colors and reference colors must be the same`);let inputData=formatInputForMlr(measuredColors,image.maxValue),referenceData=formatReferenceForMlr(referenceColors,image.maxValue),mlrRed=new MultivariateLinearRegression(inputData,referenceData.r),mlrGreen=new MultivariateLinearRegression(inputData,referenceData.g),mlrBlue=new MultivariateLinearRegression(inputData,referenceData.b),result=Image$1.createFrom(image);for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++){let pixel=image.getPixel(column,row),variables=getRegressionVariables(pixel[0],pixel[1],pixel[2],image.maxValue),clamp=getClamp(image),newPixel=[0,0,0],red$1=mlrRed.predict(variables)[0]*image.maxValue,green$1=mlrGreen.predict(variables)[0]*image.maxValue,blue$1=mlrBlue.predict(variables)[0]*image.maxValue;newPixel[0]=clamp(red$1),newPixel[1]=clamp(green$1),newPixel[2]=clamp(blue$1),image.alpha&&(newPixel[3]=image.getValue(column,row,3)),result.setPixel(column,row,newPixel)}return result}function getRegressionVariables(r$3,g$1,b$3,maxValue){return r$3/=maxValue,g$1/=maxValue,b$3/=maxValue,[r$3,g$1,b$3,r$3**2,g$1**2,b$3**2,r$3**3,g$1**3,b$3**3,r$3*g$1,r$3*b$3,b$3*g$1]}function getMinMax(image){let min$2=Array(image.channels).fill(image.maxValue),max$2=Array(image.channels).fill(0);for(let row=0;row<image.height;row++)for(let column=0;column<image.width;column++)for(let channel$1=0;channel$1<image.channels;channel$1++){let currentValue=image.getValue(column,row,channel$1);currentValue<min$2[channel$1]&&(min$2[channel$1]=currentValue),currentValue>max$2[channel$1]&&(max$2[channel$1]=currentValue)}return{min:min$2,max:max$2}}var Image$1=class Image$1{width;height;size;bitDepth;colorModel;components;channels;alpha;maxValue;origin;meta;data;constructor(width,height,options$1={}){let{bitDepth=8,data,colorModel=`RGB`,origin={row:0,column:0},meta}=options$1;if(width<1||!Number.isInteger(width))throw RangeError(`width must be an integer and at least 1. Received ${width}`);if(height<1||!Number.isInteger(height))throw RangeError(`height must be an integer and at least 1. Received ${height}`);this.width=width,this.height=height,this.size=width*height,this.bitDepth=bitDepth,this.colorModel=colorModel,this.origin=origin,this.meta=meta;let colorModelDef=colorModels[colorModel];if(this.components=colorModelDef.components,this.alpha=colorModelDef.alpha,this.channels=colorModelDef.channels,this.maxValue=2**bitDepth-1,data===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.bitDepth,this.maxValue);else{if(bitDepth===8&&data instanceof Uint16Array)throw RangeError(`bitDepth is ${bitDepth} but data is Uint16Array`);if(bitDepth===16&&data instanceof Uint8Array)throw RangeError(`bitDepth is ${bitDepth} but data is Uint8Array`);let expectedLength=this.size*this.channels;if(data.length!==expectedLength)throw RangeError(`incorrect data size: ${data.length}. Expected ${expectedLength}`);this.data=data}}static createFrom(other,options$1={}){let{width=other.width,height=other.height}=options$1,bitDepth;return bitDepth=other instanceof Image$1?other.bitDepth:8,new Image$1(width,height,{bitDepth,colorModel:other.colorModel,origin:other.origin,...options$1})}getPixel(column,row){let result=[],start=(row*this.width+column)*this.channels;for(let i$3=0;i$3<this.channels;i$3++)result.push(this.data[start+i$3]);return result}getColumn(column){let columnValues=[];for(let i$3=0;i$3<this.channels;i$3++){let channelValues=[];for(let j$2=0;j$2<this.height;j$2++)channelValues.push(this.getValue(column,j$2,i$3));columnValues.push(channelValues)}return columnValues}getRow(row){let rowValues=[];for(let i$3=0;i$3<this.channels;i$3++){let channelValues=[];for(let j$2=0;j$2<this.width;j$2++)channelValues.push(this.getValue(j$2,row,i$3));rowValues.push(channelValues)}return rowValues}setPixel(column,row,value){let start=(row*this.width+column)*this.channels;for(let i$3=0;i$3<this.channels;i$3++)this.data[start+i$3]=value[i$3]}setVisiblePixel(column,row,value){column>=0&&column<this.width&&row>=0&&row<this.height&&this.setPixel(column,row,value)}getPixelByIndex(index$1){let result=[],start=index$1*this.channels;for(let i$3=0;i$3<this.channels;i$3++)result.push(this.data[start+i$3]);return result}setPixelByIndex(index$1,value){let start=index$1*this.channels;for(let i$3=0;i$3<this.channels;i$3++)this.data[start+i$3]=value[i$3]}getValue(column,row,channel$1){return this.data[(row*this.width+column)*this.channels+channel$1]}setValue(column,row,channel$1,value){this.data[(row*this.width+column)*this.channels+channel$1]=value}setClampedValue(column,row,channel$1,value){value<0?value=0:value>this.maxValue&&(value=this.maxValue),this.data[(row*this.width+column)*this.channels+channel$1]=value}getValueByIndex(index$1,channel$1){return this.data[index$1*this.channels+channel$1]}setValueByIndex(index$1,channel$1,value){this.data[index$1*this.channels+channel$1]=value}setClampedValueByIndex(index$1,channel$1,value){value<0?value=0:value>this.maxValue&&(value=this.maxValue),this.data[index$1*this.channels+channel$1]=value}getValueByPoint(point,channel$1){return this.getValue(point.column,point.row,channel$1)}setValueByPoint(point,channel$1,value){this.setValue(point.column,point.row,channel$1,value)}minMax(){return getMinMax(this)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,bitDepth:this.bitDepth}}[Symbol.for(`nodejs.util.inspect.custom`)](){let dataString;return dataString=this.height>20||this.width>20?`[...]`:printData(this),`Image {
  width: ${this.width}
  height: ${this.height}
  bitDepth: ${this.bitDepth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${dataString}
}`}fill(value){if(typeof value==`number`)return validateValue(value,this),this.data.fill(value),this;if(value.length!==this.channels)throw RangeError(`the size of value must match the number of channels (${this.channels}). Received ${value.length}`);for(let val of value)validateValue(val,this);for(let i$3=0;i$3<this.data.length;i$3+=this.channels)for(let j$2=0;j$2<=this.channels;j$2++)this.data[i$3+j$2]=value[j$2];return this}fillChannel(channel$1,value){validateChannel(channel$1,this),validateValue(value,this);for(let i$3=channel$1;i$3<this.data.length;i$3+=this.channels)this.data[i$3]=value;return this}getChannel(channel$1){validateChannel(channel$1,this);let result=Array(this.size);for(let i$3=0;i$3<this.size;i$3++)result[i$3]=this.data[channel$1+i$3*this.channels];return result}fillAlpha(value){if(validateValue(value,this),!this.alpha)throw TypeError(`fillAlpha can only be called if the image has an alpha channel`);let alphaIndex=this.channels-1;return this.fillChannel(alphaIndex,value)}clone(){return Image$1.createFrom(this,{data:this.data.slice()})}changeEach(cb){for(let i$3=0;i$3<this.data.length;i$3++)this.data[i$3]=cb(this.data[i$3])}getCoordinates(coordinates,round$1=!1){return M(coordinates).with(`center`,()=>{let centerX=(this.width-1)/2,centerY=(this.height-1)/2;return round$1?{column:Math.round(centerX),row:Math.round(centerY)}:{column:centerX,row:centerY}}).with(`top-left`,()=>({column:0,row:0})).with(`top-right`,()=>({column:this.width-1,row:0})).with(`bottom-left`,()=>({column:0,row:this.height-1})).with(`bottom-right`,()=>({column:this.width-1,row:this.height-1})).exhaustive()}subtract(other,options$1={}){return subtract(this,other,options$1)}add(other){return add(this,other)}multiply(value,options$1={}){return multiply(this,value,options$1)}divide(value,options$1={}){return divide(this,value,options$1)}histogram(options$1){return histogram(this,options$1)}mean(options$1){return mean(this,options$1)}median(options$1){return median(this,options$1)}variance(options$1){return variance(this,options$1)}drawPoints(points,options$1={}){return drawPoints(this,points,options$1)}drawLine(from,to,options$1={}){return drawLineOnImage(this,from,to,options$1)}drawRectangle(options$1={}){return drawRectangle(this,options$1)}drawPolyline(points,options$1={}){return drawPolylineOnImage(this,points,options$1)}drawPolygon(points,options$1={}){return drawPolygonOnImage(this,points,options$1)}drawCircle(center,radius,options$1={}){return drawCircleOnImage(this,center,radius,options$1)}drawMarker(point,options$1={}){return drawMarker(this,point,options$1)}drawMarkers(points,options$1={}){return drawMarkers(this,points,options$1)}split(){return split(this)}convertColor(colorModel,options$1){return convertColor(this,colorModel,options$1)}convertBitDepth(newDepth,options$1){return convertBitDepth(this,newDepth,options$1)}grey(options$1){return grey(this,options$1)}copyTo(target,options$1={}){return copyTo(this,target,options$1)}threshold(options$1={}){return threshold(this,options$1)}crop(options$1){return crop(this,options$1)}cropRectangle(points,options$1){return cropRectangle(this,points,options$1)}cropAlpha(options$1={}){return cropAlpha(this,options$1)}extract(mask,options$1){return extract(this,mask,options$1)}paintMask(mask,options$1){return paintMaskOnImage(this,mask,options$1)}blur(options$1){return blur(this,options$1)}pixelate(options$1){return pixelate(this,options$1)}directConvolution(kernel,options$1){return directConvolution(this,kernel,options$1)}rawDirectConvolution(kernel,options$1){return rawDirectConvolution(this,kernel,options$1)}separableConvolution(kernelX$1,kernelY$1,options$1){return separableConvolution(this,kernelX$1,kernelY$1,options$1)}gaussianBlur(options$1){return gaussianBlur(this,options$1)}flip(options$1){return flip(this,options$1)}invert(options$1){return invert(this,options$1)}hypotenuse(other,options$1){return hypotenuse(this,other,options$1)}gradientFilter(options$1){return gradientFilter(this,options$1)}derivativeFilter(options$1){return derivativeFilter(this,options$1)}level(options$1){return level(this,options$1)}increaseContrast(options$1={}){return increaseContrast(this,options$1)}correctColor(measuredColors,referenceColors){return correctColor(this,measuredColors,referenceColors)}medianFilter(options$1){return medianFilter(this,options$1)}resize(options$1){return resize(this,options$1)}rotate(angle){return rotate(this,angle)}transform(transformMatrix,options$1){return transform(this,transformMatrix,options$1)}transformRotate(angle,options$1){return transformRotate(this,angle,options$1)}erode(options$1){return erode(this,options$1)}dilate(options$1){return dilate(this,options$1)}open(options$1){return open(this,options$1)}close(options$1){return close(this,options$1)}topHat(options$1){return topHat(this,options$1)}bottomHat(options$1){return bottomHat(this,options$1)}morphologicalGradient(options$1){return morphologicalGradient(this,options$1)}cannyEdgeDetector(options$1){return cannyEdgeDetector(this,options$1)}};function createPixelArray(size,channels,alpha,bitDepth,maxValue){let length=channels*size,arr=M(bitDepth).with(8,()=>new Uint8Array(length)).with(16,()=>new Uint16Array(length)).otherwise(()=>{throw RangeError(`invalid bitDepth: ${bitDepth}`)});if(alpha)for(let i$3=channels-1;i$3<length;i$3+=channels)arr[i$3]=maxValue;return arr}function printData(img){let result=[],padding=img.bitDepth===8?3:5;for(let row=0;row<img.height;row++){let currentRow=[];for(let column=0;column<img.width;column++)for(let channel$1=0;channel$1<img.channels;channel$1++)currentRow.push(String(img.getValue(column,row,channel$1)).padStart(padding,` `));result.push(`[${currentRow.join(` `)}]`)}return`{
    [\n     ${result.join(`
     `)}\n    ]
  }`}function copyData(source,target){if(target.width!==source.width||target.height!==source.height||target.colorModel!==source.colorModel)throw RangeError(`images width, height or color model is different`);target.data=source.data.slice()}function getOutputImage(thisImage,options$1={},internalOptions={}){let{out}=options$1,{newParameters,clone}=internalOptions;if(out===void 0)return clone?thisImage.clone():Image$1.createFrom(thisImage,newParameters);{if(!(out instanceof Image$1))throw TypeError(`out must be an Image`);let requirements={width:thisImage.width,height:thisImage.height,bitDepth:thisImage.bitDepth,colorModel:thisImage.colorModel,...newParameters};return checkRequirements(requirements,out),clone&&thisImage!==out&&copyData(thisImage,out),out}}function maskToOutputImage(mask,options$1={}){let{out}=options$1;if(out===void 0)return Image$1.createFrom(mask,{colorModel:`GREY`});{if(!(out instanceof Image$1))throw TypeError(`out must be an Image`);let requirements={width:mask.width,height:mask.height,bitDepth:8,colorModel:`GREY`};return checkRequirements(requirements,out),out}}function imageToOutputMask(image,options$1={}){let{out}=options$1;if(out===void 0)return Mask.createFrom(image);{if(!(out instanceof Mask))throw TypeError(`out must be a Mask`);let requirements={width:image.width,height:image.height,bitDepth:1,colorModel:`BINARY`};return checkRequirements(requirements,out),out}}function checkRequirements(requirements,out){for(let property in requirements){let prop=property;if(out[prop]!==requirements[prop])throw RangeError(`cannot use out image. Its ${property} property must be ${requirements[prop]}. Received ${out[prop]}`)}}function maskToOutputMask(mask,options$1={},internalOptions={}){let{out}=options$1,{newParameters,clone}=internalOptions;if(out===void 0)return clone?mask.clone():Mask.createFrom(mask,newParameters);{if(!(out instanceof Mask))throw TypeError(`out must be a Mask`);let requirements={width:mask.width,height:mask.height,bitDepth:1,colorModel:`BINARY`};return checkRequirements(requirements,out),clone&&mask!==out&&copyData(mask,out),out}}var encoder=new TextEncoder,defaultByteLength=1024*8,hostBigEndian=(()=>{let array=new Uint8Array(4),view=new Uint32Array(array.buffer);return!((view[0]=1)&array[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},require_encoder=__commonJSMin(((exports,module)=>{function JPEGEncoder(quality){Math.round;var ffloor=Math.floor,YTable=Array(64),UVTable=Array(64),fdtbl_Y=Array(64),fdtbl_UV=Array(64),YDC_HT,UVDC_HT,YAC_HT,UVAC_HT,bitcode=Array(65535),category=Array(65535),outputfDCTQuant=Array(64),DU=Array(64),byteout=[],bytenew=0,bytepos=7,YDU=Array(64),UDU=Array(64),VDU=Array(64),clt=Array(256),RGB_YUV_TABLE=Array(2048),currentQuality,ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],std_dc_luminance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],std_ac_luminance_values=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],std_dc_chrominance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],std_ac_chrominance_values=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function initQuantTables(sf){for(var YQT=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i$3=0;i$3<64;i$3++){var t$3=ffloor((YQT[i$3]*sf+50)/100);t$3<1?t$3=1:t$3>255&&(t$3=255),YTable[ZigZag[i$3]]=t$3}for(var UVQT=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],j$2=0;j$2<64;j$2++){var u$2=ffloor((UVQT[j$2]*sf+50)/100);u$2<1?u$2=1:u$2>255&&(u$2=255),UVTable[ZigZag[j$2]]=u$2}for(var aasf=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],k$2=0,row=0;row<8;row++)for(var col=0;col<8;col++)fdtbl_Y[k$2]=1/(YTable[ZigZag[k$2]]*aasf[row]*aasf[col]*8),fdtbl_UV[k$2]=1/(UVTable[ZigZag[k$2]]*aasf[row]*aasf[col]*8),k$2++}function computeHuffmanTbl(nrcodes,std_table){for(var codevalue=0,pos_in_table=0,HT=[],k$2=1;k$2<=16;k$2++){for(var j$2=1;j$2<=nrcodes[k$2];j$2++)HT[std_table[pos_in_table]]=[],HT[std_table[pos_in_table]][0]=codevalue,HT[std_table[pos_in_table]][1]=k$2,pos_in_table++,codevalue++;codevalue*=2}return HT}function initHuffmanTbl(){YDC_HT=computeHuffmanTbl(std_dc_luminance_nrcodes,std_dc_luminance_values),UVDC_HT=computeHuffmanTbl(std_dc_chrominance_nrcodes,std_dc_chrominance_values),YAC_HT=computeHuffmanTbl(std_ac_luminance_nrcodes,std_ac_luminance_values),UVAC_HT=computeHuffmanTbl(std_ac_chrominance_nrcodes,std_ac_chrominance_values)}function initCategoryNumber(){for(var nrlower=1,nrupper=2,cat=1;cat<=15;cat++){for(var nr=nrlower;nr<nrupper;nr++)category[32767+nr]=cat,bitcode[32767+nr]=[],bitcode[32767+nr][1]=cat,bitcode[32767+nr][0]=nr;for(var nrneg=-(nrupper-1);nrneg<=-nrlower;nrneg++)category[32767+nrneg]=cat,bitcode[32767+nrneg]=[],bitcode[32767+nrneg][1]=cat,bitcode[32767+nrneg][0]=nrupper-1+nrneg;nrlower<<=1,nrupper<<=1}}function initRGBYUVTable(){for(var i$3=0;i$3<256;i$3++)RGB_YUV_TABLE[i$3]=19595*i$3,RGB_YUV_TABLE[i$3+256>>0]=38470*i$3,RGB_YUV_TABLE[i$3+512>>0]=7471*i$3+32768,RGB_YUV_TABLE[i$3+768>>0]=-11059*i$3,RGB_YUV_TABLE[i$3+1024>>0]=-21709*i$3,RGB_YUV_TABLE[i$3+1280>>0]=32768*i$3+8421375,RGB_YUV_TABLE[i$3+1536>>0]=-27439*i$3,RGB_YUV_TABLE[i$3+1792>>0]=-5329*i$3}function writeBits(bs){for(var value=bs[0],posval=bs[1]-1;posval>=0;)value&1<<posval&&(bytenew|=1<<bytepos),posval--,bytepos--,bytepos<0&&(bytenew==255?(writeByte(255),writeByte(0)):writeByte(bytenew),bytepos=7,bytenew=0)}function writeByte(value){byteout.push(value)}function writeWord(value){writeByte(value>>8&255),writeByte(value&255)}function fDCTQuant(data,fdtbl){var d0,d1,d2,d3,d4,d5,d6,d7,dataOff=0,i$3,I8=8,I64=64;for(i$3=0;i$3<I8;++i$3){d0=data[dataOff],d1=data[dataOff+1],d2=data[dataOff+2],d3=data[dataOff+3],d4=data[dataOff+4],d5=data[dataOff+5],d6=data[dataOff+6],d7=data[dataOff+7];var tmp0=d0+d7,tmp7=d0-d7,tmp1=d1+d6,tmp6=d1-d6,tmp2=d2+d5,tmp5=d2-d5,tmp3=d3+d4,tmp4=d3-d4,tmp10=tmp0+tmp3,tmp13=tmp0-tmp3,tmp11=tmp1+tmp2,tmp12=tmp1-tmp2;data[dataOff]=tmp10+tmp11,data[dataOff+4]=tmp10-tmp11;var z1=(tmp12+tmp13)*.707106781;data[dataOff+2]=tmp13+z1,data[dataOff+6]=tmp13-z1,tmp10=tmp4+tmp5,tmp11=tmp5+tmp6,tmp12=tmp6+tmp7;var z5=(tmp10-tmp12)*.382683433,z2=.5411961*tmp10+z5,z4=1.306562965*tmp12+z5,z3=tmp11*.707106781,z11=tmp7+z3,z13=tmp7-z3;data[dataOff+5]=z13+z2,data[dataOff+3]=z13-z2,data[dataOff+1]=z11+z4,data[dataOff+7]=z11-z4,dataOff+=8}for(dataOff=0,i$3=0;i$3<I8;++i$3){d0=data[dataOff],d1=data[dataOff+8],d2=data[dataOff+16],d3=data[dataOff+24],d4=data[dataOff+32],d5=data[dataOff+40],d6=data[dataOff+48],d7=data[dataOff+56];var tmp0p2=d0+d7,tmp7p2=d0-d7,tmp1p2=d1+d6,tmp6p2=d1-d6,tmp2p2=d2+d5,tmp5p2=d2-d5,tmp3p2=d3+d4,tmp4p2=d3-d4,tmp10p2=tmp0p2+tmp3p2,tmp13p2=tmp0p2-tmp3p2,tmp11p2=tmp1p2+tmp2p2,tmp12p2=tmp1p2-tmp2p2;data[dataOff]=tmp10p2+tmp11p2,data[dataOff+32]=tmp10p2-tmp11p2;var z1p2=(tmp12p2+tmp13p2)*.707106781;data[dataOff+16]=tmp13p2+z1p2,data[dataOff+48]=tmp13p2-z1p2,tmp10p2=tmp4p2+tmp5p2,tmp11p2=tmp5p2+tmp6p2,tmp12p2=tmp6p2+tmp7p2;var z5p2=(tmp10p2-tmp12p2)*.382683433,z2p2=.5411961*tmp10p2+z5p2,z4p2=1.306562965*tmp12p2+z5p2,z3p2=tmp11p2*.707106781,z11p2=tmp7p2+z3p2,z13p2=tmp7p2-z3p2;data[dataOff+40]=z13p2+z2p2,data[dataOff+24]=z13p2-z2p2,data[dataOff+8]=z11p2+z4p2,data[dataOff+56]=z11p2-z4p2,dataOff++}var fDCTQuant$1;for(i$3=0;i$3<I64;++i$3)fDCTQuant$1=data[i$3]*fdtbl[i$3],outputfDCTQuant[i$3]=fDCTQuant$1>0?fDCTQuant$1+.5|0:fDCTQuant$1-.5|0;return outputfDCTQuant}function writeAPP0(){writeWord(65504),writeWord(16),writeByte(74),writeByte(70),writeByte(73),writeByte(70),writeByte(0),writeByte(1),writeByte(1),writeByte(0),writeWord(1),writeWord(1),writeByte(0),writeByte(0)}function writeAPP1(exifBuffer){if(exifBuffer){writeWord(65505),exifBuffer[0]===69&&exifBuffer[1]===120&&exifBuffer[2]===105&&exifBuffer[3]===102?writeWord(exifBuffer.length+2):(writeWord(exifBuffer.length+5+2),writeByte(69),writeByte(120),writeByte(105),writeByte(102),writeByte(0));for(var i$3=0;i$3<exifBuffer.length;i$3++)writeByte(exifBuffer[i$3])}}function writeSOF0(width,height){writeWord(65472),writeWord(17),writeByte(8),writeWord(height),writeWord(width),writeByte(3),writeByte(1),writeByte(17),writeByte(0),writeByte(2),writeByte(17),writeByte(1),writeByte(3),writeByte(17),writeByte(1)}function writeDQT(){writeWord(65499),writeWord(132),writeByte(0);for(var i$3=0;i$3<64;i$3++)writeByte(YTable[i$3]);writeByte(1);for(var j$2=0;j$2<64;j$2++)writeByte(UVTable[j$2])}function writeDHT(){writeWord(65476),writeWord(418),writeByte(0);for(var i$3=0;i$3<16;i$3++)writeByte(std_dc_luminance_nrcodes[i$3+1]);for(var j$2=0;j$2<=11;j$2++)writeByte(std_dc_luminance_values[j$2]);writeByte(16);for(var k$2=0;k$2<16;k$2++)writeByte(std_ac_luminance_nrcodes[k$2+1]);for(var l$2=0;l$2<=161;l$2++)writeByte(std_ac_luminance_values[l$2]);writeByte(1);for(var m$1=0;m$1<16;m$1++)writeByte(std_dc_chrominance_nrcodes[m$1+1]);for(var n$3=0;n$3<=11;n$3++)writeByte(std_dc_chrominance_values[n$3]);writeByte(17);for(var o$3=0;o$3<16;o$3++)writeByte(std_ac_chrominance_nrcodes[o$3+1]);for(var p$3=0;p$3<=161;p$3++)writeByte(std_ac_chrominance_values[p$3])}function writeCOM(comments){comments===void 0||comments.constructor!==Array||comments.forEach(e$3=>{if(typeof e$3==`string`){writeWord(65534);var l$2=e$3.length;writeWord(l$2+2);var i$3;for(i$3=0;i$3<l$2;i$3++)writeByte(e$3.charCodeAt(i$3))}})}function writeSOS(){writeWord(65498),writeWord(12),writeByte(3),writeByte(1),writeByte(0),writeByte(2),writeByte(17),writeByte(3),writeByte(17),writeByte(0),writeByte(63),writeByte(0)}function processDU(CDU,fdtbl,DC,HTDC,HTAC){for(var EOB=HTAC[0],M16zeroes=HTAC[240],pos,I16=16,I63=63,I64=64,DU_DCT=fDCTQuant(CDU,fdtbl),j$2=0;j$2<I64;++j$2)DU[ZigZag[j$2]]=DU_DCT[j$2];var Diff=DU[0]-DC;DC=DU[0],Diff==0?writeBits(HTDC[0]):(pos=32767+Diff,writeBits(HTDC[category[pos]]),writeBits(bitcode[pos]));for(var end0pos=63;end0pos>0&&DU[end0pos]==0;end0pos--);if(end0pos==0)return writeBits(EOB),DC;for(var i$3=1,lng;i$3<=end0pos;){for(var startpos=i$3;DU[i$3]==0&&i$3<=end0pos;++i$3);var nrzeroes=i$3-startpos;if(nrzeroes>=I16){lng=nrzeroes>>4;for(var nrmarker=1;nrmarker<=lng;++nrmarker)writeBits(M16zeroes);nrzeroes&=15}pos=32767+DU[i$3],writeBits(HTAC[(nrzeroes<<4)+category[pos]]),writeBits(bitcode[pos]),i$3++}return end0pos!=I63&&writeBits(EOB),DC}function initCharLookupTable(){for(var sfcc=String.fromCharCode,i$3=0;i$3<256;i$3++)clt[i$3]=sfcc(i$3)}this.encode=function(image,quality$1){new Date().getTime(),quality$1&&setQuality(quality$1),byteout=[],bytenew=0,bytepos=7,writeWord(65496),writeAPP0(),writeCOM(image.comments),writeAPP1(image.exifBuffer),writeDQT(),writeSOF0(image.width,image.height),writeDHT(),writeSOS();var DCY=0,DCU=0,DCV=0;bytenew=0,bytepos=7,this.encode.displayName=`_encode_`;var imageData=image.data,width=image.width,height=image.height,quadWidth=width*4;width*3;for(var x$2,y$2=0,r$3,g$1,b$3,start,p$3,col,row,pos;y$2<height;){for(x$2=0;x$2<quadWidth;){for(start=quadWidth*y$2+x$2,p$3=start,col=-1,row=0,pos=0;pos<64;pos++)row=pos>>3,col=(pos&7)*4,p$3=start+row*quadWidth+col,y$2+row>=height&&(p$3-=quadWidth*(y$2+1+row-height)),x$2+col>=quadWidth&&(p$3-=x$2+col-quadWidth+4),r$3=imageData[p$3++],g$1=imageData[p$3++],b$3=imageData[p$3++],YDU[pos]=(RGB_YUV_TABLE[r$3]+RGB_YUV_TABLE[g$1+256>>0]+RGB_YUV_TABLE[b$3+512>>0]>>16)-128,UDU[pos]=(RGB_YUV_TABLE[r$3+768>>0]+RGB_YUV_TABLE[g$1+1024>>0]+RGB_YUV_TABLE[b$3+1280>>0]>>16)-128,VDU[pos]=(RGB_YUV_TABLE[r$3+1280>>0]+RGB_YUV_TABLE[g$1+1536>>0]+RGB_YUV_TABLE[b$3+1792>>0]>>16)-128;DCY=processDU(YDU,fdtbl_Y,DCY,YDC_HT,YAC_HT),DCU=processDU(UDU,fdtbl_UV,DCU,UVDC_HT,UVAC_HT),DCV=processDU(VDU,fdtbl_UV,DCV,UVDC_HT,UVAC_HT),x$2+=32}y$2+=8}if(bytepos>=0){var fillbits=[];fillbits[1]=bytepos+1,fillbits[0]=(1<<bytepos+1)-1,writeBits(fillbits)}return writeWord(65497),module===void 0?new Uint8Array(byteout):Buffer.from(byteout)};function setQuality(quality$1){if(quality$1<=0&&(quality$1=1),quality$1>100&&(quality$1=100),currentQuality!=quality$1){var sf=0;sf=quality$1<50?Math.floor(5e3/quality$1):Math.floor(200-quality$1*2),initQuantTables(sf),currentQuality=quality$1}}function init(){var time_start=new Date().getTime();quality||=50,initCharLookupTable(),initHuffmanTbl(),initCategoryNumber(),initRGBYUVTable(),setQuality(quality),new Date().getTime()-time_start}init()}module===void 0?typeof window<`u`&&(window[`jpeg-js`]=window[`jpeg-js`]||{},window[`jpeg-js`].encode=encode$2):module.exports=encode$2;function encode$2(imgData,qu){return qu===void 0&&(qu=50),{data:new JPEGEncoder(qu).encode(imgData,qu),width:imgData.width,height:imgData.height}}})),require_decoder=__commonJSMin(((exports,module)=>{var JpegImage=(function(){var dctZigZag=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function constructor(){}function buildHuffmanTable(codeLengths,values){for(var k$2=0,code=[],i$3,j$2,length=16;length>0&&!codeLengths[length-1];)length--;code.push({children:[],index:0});var p$3=code[0],q;for(i$3=0;i$3<length;i$3++){for(j$2=0;j$2<codeLengths[i$3];j$2++){for(p$3=code.pop(),p$3.children[p$3.index]=values[k$2];p$3.index>0;){if(code.length===0)throw Error(`Could not recreate Huffman Table`);p$3=code.pop()}for(p$3.index++,code.push(p$3);code.length<=i$3;)code.push(q={children:[],index:0}),p$3.children[p$3.index]=q.children,p$3=q;k$2++}i$3+1<length&&(code.push(q={children:[],index:0}),p$3.children[p$3.index]=q.children,p$3=q)}return code[0].children}function decodeScan(data,offset,frame,components,resetInterval,spectralStart,spectralEnd,successivePrev,successive,opts){frame.precision,frame.samplesPerLine,frame.scanLines;var mcusPerLine=frame.mcusPerLine,progressive=frame.progressive;frame.maxH,frame.maxV;var startOffset=offset,bitsData=0,bitsCount=0;function readBit(){if(bitsCount>0)return bitsCount--,bitsData>>bitsCount&1;if(bitsData=data[offset++],bitsData==255){var nextByte=data[offset++];if(nextByte)throw Error(`unexpected marker: `+(bitsData<<8|nextByte).toString(16))}return bitsCount=7,bitsData>>>7}function decodeHuffman(tree){for(var node=tree,bit;(bit=readBit())!==null;){if(node=node[bit],typeof node==`number`)return node;if(typeof node!=`object`)throw Error(`invalid huffman sequence`)}return null}function receive(length){for(var n$4=0;length>0;){var bit=readBit();if(bit===null)return;n$4=n$4<<1|bit,length--}return n$4}function receiveAndExtend(length){var n$4=receive(length);return n$4>=1<<length-1?n$4:n$4+(-1<<length)+1}function decodeBaseline(component$1,zz){var t$3=decodeHuffman(component$1.huffmanTableDC),diff=t$3===0?0:receiveAndExtend(t$3);zz[0]=component$1.pred+=diff;for(var k$3=1;k$3<64;){var rs=decodeHuffman(component$1.huffmanTableAC),s$2=rs&15,r$3=rs>>4;if(s$2===0){if(r$3<15)break;k$3+=16;continue}k$3+=r$3;var z=dctZigZag[k$3];zz[z]=receiveAndExtend(s$2),k$3++}}function decodeDCFirst(component$1,zz){var t$3=decodeHuffman(component$1.huffmanTableDC),diff=t$3===0?0:receiveAndExtend(t$3)<<successive;zz[0]=component$1.pred+=diff}function decodeDCSuccessive(component$1,zz){zz[0]|=readBit()<<successive}var eobrun=0;function decodeACFirst(component$1,zz){if(eobrun>0){eobrun--;return}for(var k$3=spectralStart,e$3=spectralEnd;k$3<=e$3;){var rs=decodeHuffman(component$1.huffmanTableAC),s$2=rs&15,r$3=rs>>4;if(s$2===0){if(r$3<15){eobrun=receive(r$3)+(1<<r$3)-1;break}k$3+=16;continue}k$3+=r$3;var z=dctZigZag[k$3];zz[z]=receiveAndExtend(s$2)*(1<<successive),k$3++}}var successiveACState=0,successiveACNextValue;function decodeACSuccessive(component$1,zz){for(var k$3=spectralStart,e$3=spectralEnd,r$3=0;k$3<=e$3;){var z=dctZigZag[k$3],direction=zz[z]<0?-1:1;switch(successiveACState){case 0:var rs=decodeHuffman(component$1.huffmanTableAC),s$2=rs&15,r$3=rs>>4;if(s$2===0)r$3<15?(eobrun=receive(r$3)+(1<<r$3),successiveACState=4):(r$3=16,successiveACState=1);else{if(s$2!==1)throw Error(`invalid ACn encoding`);successiveACNextValue=receiveAndExtend(s$2),successiveACState=r$3?2:3}continue;case 1:case 2:zz[z]?zz[z]+=(readBit()<<successive)*direction:(r$3--,r$3===0&&(successiveACState=successiveACState==2?3:0));break;case 3:zz[z]?zz[z]+=(readBit()<<successive)*direction:(zz[z]=successiveACNextValue<<successive,successiveACState=0);break;case 4:zz[z]&&(zz[z]+=(readBit()<<successive)*direction);break}k$3++}successiveACState===4&&(eobrun--,eobrun===0&&(successiveACState=0))}function decodeMcu(component$1,decode$3,mcu$1,row,col){var mcuRow=mcu$1/mcusPerLine|0,mcuCol=mcu$1%mcusPerLine,blockRow=mcuRow*component$1.v+row,blockCol=mcuCol*component$1.h+col;component$1.blocks[blockRow]===void 0&&opts.tolerantDecoding||decode$3(component$1,component$1.blocks[blockRow][blockCol])}function decodeBlock(component$1,decode$3,mcu$1){var blockRow=mcu$1/component$1.blocksPerLine|0,blockCol=mcu$1%component$1.blocksPerLine;component$1.blocks[blockRow]===void 0&&opts.tolerantDecoding||decode$3(component$1,component$1.blocks[blockRow][blockCol])}var componentsLength=components.length,component,i$3,j$2,k$2,n$3,decodeFn=progressive?spectralStart===0?successivePrev===0?decodeDCFirst:decodeDCSuccessive:successivePrev===0?decodeACFirst:decodeACSuccessive:decodeBaseline,mcu=0,marker,mcuExpected=componentsLength==1?components[0].blocksPerLine*components[0].blocksPerColumn:mcusPerLine*frame.mcusPerColumn;resetInterval||=mcuExpected;for(var h$3,v$2;mcu<mcuExpected;){for(i$3=0;i$3<componentsLength;i$3++)components[i$3].pred=0;if(eobrun=0,componentsLength==1)for(component=components[0],n$3=0;n$3<resetInterval;n$3++)decodeBlock(component,decodeFn,mcu),mcu++;else for(n$3=0;n$3<resetInterval;n$3++){for(i$3=0;i$3<componentsLength;i$3++)for(component=components[i$3],h$3=component.h,v$2=component.v,j$2=0;j$2<v$2;j$2++)for(k$2=0;k$2<h$3;k$2++)decodeMcu(component,decodeFn,mcu,j$2,k$2);if(mcu++,mcu===mcuExpected)break}if(mcu===mcuExpected)do{if(data[offset]===255&&data[offset+1]!==0)break;offset+=1}while(offset<data.length-2);if(bitsCount=0,marker=data[offset]<<8|data[offset+1],marker<65280)throw Error(`marker was not found`);if(marker>=65488&&marker<=65495)offset+=2;else break}return offset-startOffset}function buildComponentData(frame,component){var lines=[],blocksPerLine=component.blocksPerLine,blocksPerColumn=component.blocksPerColumn,samplesPerLine=blocksPerLine<<3,R$1=new Int32Array(64),r$3=new Uint8Array(64);function quantizeAndInverse(zz,dataOut,dataIn){var qt=component.quantizationTable,v0,v1,v2,v3,v4,v5,v6,v7,t$3,p$3=dataIn,i$4;for(i$4=0;i$4<64;i$4++)p$3[i$4]=zz[i$4]*qt[i$4];for(i$4=0;i$4<8;++i$4){var row=8*i$4;if(p$3[1+row]==0&&p$3[2+row]==0&&p$3[3+row]==0&&p$3[4+row]==0&&p$3[5+row]==0&&p$3[6+row]==0&&p$3[7+row]==0){t$3=dctSqrt2*p$3[0+row]+512>>10,p$3[0+row]=t$3,p$3[1+row]=t$3,p$3[2+row]=t$3,p$3[3+row]=t$3,p$3[4+row]=t$3,p$3[5+row]=t$3,p$3[6+row]=t$3,p$3[7+row]=t$3;continue}v0=dctSqrt2*p$3[0+row]+128>>8,v1=dctSqrt2*p$3[4+row]+128>>8,v2=p$3[2+row],v3=p$3[6+row],v4=dctSqrt1d2*(p$3[1+row]-p$3[7+row])+128>>8,v7=dctSqrt1d2*(p$3[1+row]+p$3[7+row])+128>>8,v5=p$3[3+row]<<4,v6=p$3[5+row]<<4,t$3=v0-v1+1>>1,v0=v0+v1+1>>1,v1=t$3,t$3=v2*dctSin6+v3*dctCos6+128>>8,v2=v2*dctCos6-v3*dctSin6+128>>8,v3=t$3,t$3=v4-v6+1>>1,v4=v4+v6+1>>1,v6=t$3,t$3=v7+v5+1>>1,v5=v7-v5+1>>1,v7=t$3,t$3=v0-v3+1>>1,v0=v0+v3+1>>1,v3=t$3,t$3=v1-v2+1>>1,v1=v1+v2+1>>1,v2=t$3,t$3=v4*dctSin3+v7*dctCos3+2048>>12,v4=v4*dctCos3-v7*dctSin3+2048>>12,v7=t$3,t$3=v5*dctSin1+v6*dctCos1+2048>>12,v5=v5*dctCos1-v6*dctSin1+2048>>12,v6=t$3,p$3[0+row]=v0+v7,p$3[7+row]=v0-v7,p$3[1+row]=v1+v6,p$3[6+row]=v1-v6,p$3[2+row]=v2+v5,p$3[5+row]=v2-v5,p$3[3+row]=v3+v4,p$3[4+row]=v3-v4}for(i$4=0;i$4<8;++i$4){var col=i$4;if(p$3[8+col]==0&&p$3[16+col]==0&&p$3[24+col]==0&&p$3[32+col]==0&&p$3[40+col]==0&&p$3[48+col]==0&&p$3[56+col]==0){t$3=dctSqrt2*dataIn[i$4+0]+8192>>14,p$3[0+col]=t$3,p$3[8+col]=t$3,p$3[16+col]=t$3,p$3[24+col]=t$3,p$3[32+col]=t$3,p$3[40+col]=t$3,p$3[48+col]=t$3,p$3[56+col]=t$3;continue}v0=dctSqrt2*p$3[0+col]+2048>>12,v1=dctSqrt2*p$3[32+col]+2048>>12,v2=p$3[16+col],v3=p$3[48+col],v4=dctSqrt1d2*(p$3[8+col]-p$3[56+col])+2048>>12,v7=dctSqrt1d2*(p$3[8+col]+p$3[56+col])+2048>>12,v5=p$3[24+col],v6=p$3[40+col],t$3=v0-v1+1>>1,v0=v0+v1+1>>1,v1=t$3,t$3=v2*dctSin6+v3*dctCos6+2048>>12,v2=v2*dctCos6-v3*dctSin6+2048>>12,v3=t$3,t$3=v4-v6+1>>1,v4=v4+v6+1>>1,v6=t$3,t$3=v7+v5+1>>1,v5=v7-v5+1>>1,v7=t$3,t$3=v0-v3+1>>1,v0=v0+v3+1>>1,v3=t$3,t$3=v1-v2+1>>1,v1=v1+v2+1>>1,v2=t$3,t$3=v4*dctSin3+v7*dctCos3+2048>>12,v4=v4*dctCos3-v7*dctSin3+2048>>12,v7=t$3,t$3=v5*dctSin1+v6*dctCos1+2048>>12,v5=v5*dctCos1-v6*dctSin1+2048>>12,v6=t$3,p$3[0+col]=v0+v7,p$3[56+col]=v0-v7,p$3[8+col]=v1+v6,p$3[48+col]=v1-v6,p$3[16+col]=v2+v5,p$3[40+col]=v2-v5,p$3[24+col]=v3+v4,p$3[32+col]=v3-v4}for(i$4=0;i$4<64;++i$4){var sample$1=128+(p$3[i$4]+8>>4);dataOut[i$4]=sample$1<0?0:sample$1>255?255:sample$1}}requestMemoryAllocation(samplesPerLine*blocksPerColumn*8);for(var i$3,j$2,blockRow=0;blockRow<blocksPerColumn;blockRow++){var scanLine=blockRow<<3;for(i$3=0;i$3<8;i$3++)lines.push(new Uint8Array(samplesPerLine));for(var blockCol=0;blockCol<blocksPerLine;blockCol++){quantizeAndInverse(component.blocks[blockRow][blockCol],r$3,R$1);var offset=0,sample=blockCol<<3;for(j$2=0;j$2<8;j$2++){var line$3=lines[scanLine+j$2];for(i$3=0;i$3<8;i$3++)line$3[sample+i$3]=r$3[offset++]}}}return lines}function clampTo8bit(a$3){return a$3<0?0:a$3>255?255:a$3}constructor.prototype={load:function(path){var xhr=new XMLHttpRequest;xhr.open(`GET`,path,!0),xhr.responseType=`arraybuffer`,xhr.onload=(function(){var data=new Uint8Array(xhr.response||xhr.mozResponseArrayBuffer);this.parse(data),this.onload&&this.onload()}).bind(this),xhr.send(null)},parse:function(data){var maxResolutionInPixels=this.opts.maxResolutionInMP*1e3*1e3,offset=0;data.length;function readUint16(){var value=data[offset]<<8|data[offset+1];return offset+=2,value}function readDataBlock(){var length=readUint16(),array=data.subarray(offset,offset+length-2);return offset+=array.length,array}function prepareComponents(frame$1){var maxH=1,maxV=1,component$1,componentId$1;for(componentId$1 in frame$1.components)frame$1.components.hasOwnProperty(componentId$1)&&(component$1=frame$1.components[componentId$1],maxH<component$1.h&&(maxH=component$1.h),maxV<component$1.v&&(maxV=component$1.v));var mcusPerLine=Math.ceil(frame$1.samplesPerLine/8/maxH),mcusPerColumn=Math.ceil(frame$1.scanLines/8/maxV);for(componentId$1 in frame$1.components)if(frame$1.components.hasOwnProperty(componentId$1)){component$1=frame$1.components[componentId$1];var blocksPerLine=Math.ceil(Math.ceil(frame$1.samplesPerLine/8)*component$1.h/maxH),blocksPerColumn=Math.ceil(Math.ceil(frame$1.scanLines/8)*component$1.v/maxV),blocksPerLineForMcu=mcusPerLine*component$1.h,blocksPerColumnForMcu=mcusPerColumn*component$1.v,blocksToAllocate=blocksPerColumnForMcu*blocksPerLineForMcu,blocks=[];requestMemoryAllocation(blocksToAllocate*256);for(var i$4=0;i$4<blocksPerColumnForMcu;i$4++){for(var row=[],j$3=0;j$3<blocksPerLineForMcu;j$3++)row.push(new Int32Array(64));blocks.push(row)}component$1.blocksPerLine=blocksPerLine,component$1.blocksPerColumn=blocksPerColumn,component$1.blocks=blocks}frame$1.maxH=maxH,frame$1.maxV=maxV,frame$1.mcusPerLine=mcusPerLine,frame$1.mcusPerColumn=mcusPerColumn}var jfif=null,adobe=null,frame,resetInterval,quantizationTables=[],frames=[],huffmanTablesAC=[],huffmanTablesDC=[],fileMarker=readUint16(),malformedDataOffset=-1;if(this.comments=[],fileMarker!=65496)throw Error(`SOI not found`);for(fileMarker=readUint16();fileMarker!=65497;){var i$3,j$2;switch(fileMarker){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var appData=readDataBlock();if(fileMarker===65534){var comment=String.fromCharCode.apply(null,appData);this.comments.push(comment)}fileMarker===65504&&appData[0]===74&&appData[1]===70&&appData[2]===73&&appData[3]===70&&appData[4]===0&&(jfif={version:{major:appData[5],minor:appData[6]},densityUnits:appData[7],xDensity:appData[8]<<8|appData[9],yDensity:appData[10]<<8|appData[11],thumbWidth:appData[12],thumbHeight:appData[13],thumbData:appData.subarray(14,14+3*appData[12]*appData[13])}),fileMarker===65505&&appData[0]===69&&appData[1]===120&&appData[2]===105&&appData[3]===102&&appData[4]===0&&(this.exifBuffer=appData.subarray(5,appData.length)),fileMarker===65518&&appData[0]===65&&appData[1]===100&&appData[2]===111&&appData[3]===98&&appData[4]===101&&appData[5]===0&&(adobe={version:appData[6],flags0:appData[7]<<8|appData[8],flags1:appData[9]<<8|appData[10],transformCode:appData[11]});break;case 65499:for(var quantizationTablesEnd=readUint16()+offset-2;offset<quantizationTablesEnd;){var quantizationTableSpec=data[offset++];requestMemoryAllocation(256);var tableData=new Int32Array(64);if(quantizationTableSpec>>4)if(quantizationTableSpec>>4==1)for(j$2=0;j$2<64;j$2++){var z=dctZigZag[j$2];tableData[z]=readUint16()}else throw Error(`DQT: invalid table spec`);else for(j$2=0;j$2<64;j$2++){var z=dctZigZag[j$2];tableData[z]=data[offset++]}quantizationTables[quantizationTableSpec&15]=tableData}break;case 65472:case 65473:case 65474:readUint16(),frame={},frame.extended=fileMarker===65473,frame.progressive=fileMarker===65474,frame.precision=data[offset++],frame.scanLines=readUint16(),frame.samplesPerLine=readUint16(),frame.components={},frame.componentsOrder=[];var pixelsInFrame=frame.scanLines*frame.samplesPerLine;if(pixelsInFrame>maxResolutionInPixels){var exceededAmount=Math.ceil((pixelsInFrame-maxResolutionInPixels)/1e6);throw Error(`maxResolutionInMP limit exceeded by ${exceededAmount}MP`)}var componentsCount=data[offset++],componentId;for(i$3=0;i$3<componentsCount;i$3++){componentId=data[offset];var h$3=data[offset+1]>>4,v$2=data[offset+1]&15,qId=data[offset+2];if(h$3<=0||v$2<=0)throw Error(`Invalid sampling factor, expected values above 0`);frame.componentsOrder.push(componentId),frame.components[componentId]={h:h$3,v:v$2,quantizationIdx:qId},offset+=3}prepareComponents(frame),frames.push(frame);break;case 65476:var huffmanLength=readUint16();for(i$3=2;i$3<huffmanLength;){var huffmanTableSpec=data[offset++],codeLengths=new Uint8Array(16),codeLengthSum=0;for(j$2=0;j$2<16;j$2++,offset++)codeLengthSum+=codeLengths[j$2]=data[offset];requestMemoryAllocation(16+codeLengthSum);var huffmanValues=new Uint8Array(codeLengthSum);for(j$2=0;j$2<codeLengthSum;j$2++,offset++)huffmanValues[j$2]=data[offset];i$3+=17+codeLengthSum,(huffmanTableSpec>>4?huffmanTablesAC:huffmanTablesDC)[huffmanTableSpec&15]=buildHuffmanTable(codeLengths,huffmanValues)}break;case 65501:readUint16(),resetInterval=readUint16();break;case 65500:readUint16(),readUint16();break;case 65498:readUint16();var selectorsCount=data[offset++],components=[],component;for(i$3=0;i$3<selectorsCount;i$3++){component=frame.components[data[offset++]];var tableSpec=data[offset++];component.huffmanTableDC=huffmanTablesDC[tableSpec>>4],component.huffmanTableAC=huffmanTablesAC[tableSpec&15],components.push(component)}var spectralStart=data[offset++],spectralEnd=data[offset++],successiveApproximation=data[offset++],processed=decodeScan(data,offset,frame,components,resetInterval,spectralStart,spectralEnd,successiveApproximation>>4,successiveApproximation&15,this.opts);offset+=processed;break;case 65535:data[offset]!==255&&offset--;break;default:if(data[offset-3]==255&&data[offset-2]>=192&&data[offset-2]<=254){offset-=3;break}else if(fileMarker===224||fileMarker==225){if(malformedDataOffset!==-1)throw Error(`first unknown JPEG marker at offset ${malformedDataOffset.toString(16)}, second unknown JPEG marker ${fileMarker.toString(16)} at offset ${(offset-1).toString(16)}`);malformedDataOffset=offset-1;let nextOffset=readUint16();if(data[offset+nextOffset-2]===255){offset+=nextOffset-2;break}}throw Error(`unknown JPEG marker `+fileMarker.toString(16))}fileMarker=readUint16()}if(frames.length!=1)throw Error(`only single frame JPEGs supported`);for(var i$3=0;i$3<frames.length;i$3++){var cp=frames[i$3].components;for(var j$2 in cp)cp[j$2].quantizationTable=quantizationTables[cp[j$2].quantizationIdx],delete cp[j$2].quantizationIdx}this.width=frame.samplesPerLine,this.height=frame.scanLines,this.jfif=jfif,this.adobe=adobe,this.components=[];for(var i$3=0;i$3<frame.componentsOrder.length;i$3++){var component=frame.components[frame.componentsOrder[i$3]];this.components.push({lines:buildComponentData(frame,component),scaleX:component.h/frame.maxH,scaleY:component.v/frame.maxV})}},getData:function(width,height){var scaleX=this.width/width,scaleY=this.height/height,component1,component2,component3,component4,component1Line,component2Line,component3Line,component4Line,x$2,y$2,offset=0,Y,Cb,Cr,K$1,C,M$3,Ye,R$1,G,B$1,colorTransform,dataLength=width*height*this.components.length;requestMemoryAllocation(dataLength);var data=new Uint8Array(dataLength);switch(this.components.length){case 1:for(component1=this.components[0],y$2=0;y$2<height;y$2++)for(component1Line=component1.lines[0|y$2*component1.scaleY*scaleY],x$2=0;x$2<width;x$2++)Y=component1Line[0|x$2*component1.scaleX*scaleX],data[offset++]=Y;break;case 2:for(component1=this.components[0],component2=this.components[1],y$2=0;y$2<height;y$2++)for(component1Line=component1.lines[0|y$2*component1.scaleY*scaleY],component2Line=component2.lines[0|y$2*component2.scaleY*scaleY],x$2=0;x$2<width;x$2++)Y=component1Line[0|x$2*component1.scaleX*scaleX],data[offset++]=Y,Y=component2Line[0|x$2*component2.scaleX*scaleX],data[offset++]=Y;break;case 3:for(colorTransform=!0,this.adobe&&this.adobe.transformCode?colorTransform=!0:this.opts.colorTransform!==void 0&&(colorTransform=!!this.opts.colorTransform),component1=this.components[0],component2=this.components[1],component3=this.components[2],y$2=0;y$2<height;y$2++)for(component1Line=component1.lines[0|y$2*component1.scaleY*scaleY],component2Line=component2.lines[0|y$2*component2.scaleY*scaleY],component3Line=component3.lines[0|y$2*component3.scaleY*scaleY],x$2=0;x$2<width;x$2++)colorTransform?(Y=component1Line[0|x$2*component1.scaleX*scaleX],Cb=component2Line[0|x$2*component2.scaleX*scaleX],Cr=component3Line[0|x$2*component3.scaleX*scaleX],R$1=clampTo8bit(Y+1.402*(Cr-128)),G=clampTo8bit(Y-.3441363*(Cb-128)-.71413636*(Cr-128)),B$1=clampTo8bit(Y+1.772*(Cb-128))):(R$1=component1Line[0|x$2*component1.scaleX*scaleX],G=component2Line[0|x$2*component2.scaleX*scaleX],B$1=component3Line[0|x$2*component3.scaleX*scaleX]),data[offset++]=R$1,data[offset++]=G,data[offset++]=B$1;break;case 4:if(!this.adobe)throw Error(`Unsupported color mode (4 components)`);for(colorTransform=!1,this.adobe&&this.adobe.transformCode?colorTransform=!0:this.opts.colorTransform!==void 0&&(colorTransform=!!this.opts.colorTransform),component1=this.components[0],component2=this.components[1],component3=this.components[2],component4=this.components[3],y$2=0;y$2<height;y$2++)for(component1Line=component1.lines[0|y$2*component1.scaleY*scaleY],component2Line=component2.lines[0|y$2*component2.scaleY*scaleY],component3Line=component3.lines[0|y$2*component3.scaleY*scaleY],component4Line=component4.lines[0|y$2*component4.scaleY*scaleY],x$2=0;x$2<width;x$2++)colorTransform?(Y=component1Line[0|x$2*component1.scaleX*scaleX],Cb=component2Line[0|x$2*component2.scaleX*scaleX],Cr=component3Line[0|x$2*component3.scaleX*scaleX],K$1=component4Line[0|x$2*component4.scaleX*scaleX],C=255-clampTo8bit(Y+1.402*(Cr-128)),M$3=255-clampTo8bit(Y-.3441363*(Cb-128)-.71413636*(Cr-128)),Ye=255-clampTo8bit(Y+1.772*(Cb-128))):(C=component1Line[0|x$2*component1.scaleX*scaleX],M$3=component2Line[0|x$2*component2.scaleX*scaleX],Ye=component3Line[0|x$2*component3.scaleX*scaleX],K$1=component4Line[0|x$2*component4.scaleX*scaleX]),data[offset++]=255-C,data[offset++]=255-M$3,data[offset++]=255-Ye,data[offset++]=255-K$1;break;default:throw Error(`Unsupported color mode`)}return data},copyToImageData:function(imageData,formatAsRGBA){var width=imageData.width,height=imageData.height,imageDataArray=imageData.data,data=this.getData(width,height),i$3=0,j$2=0,x$2,y$2,Y,K$1,C,M$3,R$1,G,B$1;switch(this.components.length){case 1:for(y$2=0;y$2<height;y$2++)for(x$2=0;x$2<width;x$2++)Y=data[i$3++],imageDataArray[j$2++]=Y,imageDataArray[j$2++]=Y,imageDataArray[j$2++]=Y,formatAsRGBA&&(imageDataArray[j$2++]=255);break;case 3:for(y$2=0;y$2<height;y$2++)for(x$2=0;x$2<width;x$2++)R$1=data[i$3++],G=data[i$3++],B$1=data[i$3++],imageDataArray[j$2++]=R$1,imageDataArray[j$2++]=G,imageDataArray[j$2++]=B$1,formatAsRGBA&&(imageDataArray[j$2++]=255);break;case 4:for(y$2=0;y$2<height;y$2++)for(x$2=0;x$2<width;x$2++)C=data[i$3++],M$3=data[i$3++],Y=data[i$3++],K$1=data[i$3++],R$1=255-clampTo8bit(C*(1-K$1/255)+K$1),G=255-clampTo8bit(M$3*(1-K$1/255)+K$1),B$1=255-clampTo8bit(Y*(1-K$1/255)+K$1),imageDataArray[j$2++]=R$1,imageDataArray[j$2++]=G,imageDataArray[j$2++]=B$1,formatAsRGBA&&(imageDataArray[j$2++]=255);break;default:throw Error(`Unsupported color mode`)}}};var totalBytesAllocated=0,maxMemoryUsageBytes=0;function requestMemoryAllocation(increaseAmount=0){var totalMemoryImpactBytes=totalBytesAllocated+increaseAmount;if(totalMemoryImpactBytes>maxMemoryUsageBytes){var exceededAmount=Math.ceil((totalMemoryImpactBytes-maxMemoryUsageBytes)/1024/1024);throw Error(`maxMemoryUsageInMB limit exceeded by at least ${exceededAmount}MB`)}totalBytesAllocated=totalMemoryImpactBytes}return constructor.resetMaxMemoryUsage=function(maxMemoryUsageBytes_){totalBytesAllocated=0,maxMemoryUsageBytes=maxMemoryUsageBytes_},constructor.getBytesAllocated=function(){return totalBytesAllocated},constructor.requestMemoryAllocation=requestMemoryAllocation,constructor})();module===void 0?typeof window<`u`&&(window[`jpeg-js`]=window[`jpeg-js`]||{},window[`jpeg-js`].decode=decode$2):module.exports=decode$2;function decode$2(jpegData,userOpts={}){var opts={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...userOpts},arr=new Uint8Array(jpegData),decoder=new JpegImage;decoder.opts=opts,JpegImage.resetMaxMemoryUsage(opts.maxMemoryUsageInMB*1024*1024),decoder.parse(arr);var channels=opts.formatAsRGBA?4:3,bytesNeeded=decoder.width*decoder.height*channels;try{JpegImage.requestMemoryAllocation(bytesNeeded);var image={width:decoder.width,height:decoder.height,exifBuffer:decoder.exifBuffer,data:opts.useTArray?new Uint8Array(bytesNeeded):Buffer.alloc(bytesNeeded)};decoder.comments.length>0&&(image.comments=decoder.comments)}catch(err$1){throw err$1 instanceof RangeError?Error(`Could not allocate enough memory for the image. Required: `+bytesNeeded):err$1 instanceof ReferenceError&&err$1.message===`Buffer is not defined`?Error(`Buffer is not globally defined in this environment. Consider setting useTArray to true`):err$1}return decoder.copyToImageData(image,opts.formatAsRGBA),image}})),require_jpeg_js=__commonJSMin(((exports,module)=>{var encode$1=require_encoder(),decode$1=require_decoder();module.exports={encode:encode$1,decode:decode$1}})),import_jpeg_js$1=__toESM(require_jpeg_js()),Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(buf){let len=buf.length;for(;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}var d_code=dist=>dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)],put_short=(s$2,w$3)=>{s$2.pending_buf[s$2.pending++]=w$3&255,s$2.pending_buf[s$2.pending++]=w$3>>>8&255},send_bits=(s$2,value,length)=>{s$2.bi_valid>Buf_size-length?(s$2.bi_buf|=value<<s$2.bi_valid&65535,put_short(s$2,s$2.bi_buf),s$2.bi_buf=value>>Buf_size-s$2.bi_valid,s$2.bi_valid+=length-Buf_size):(s$2.bi_buf|=value<<s$2.bi_valid&65535,s$2.bi_valid+=length)},send_code=(s$2,c$2,tree)=>{send_bits(s$2,tree[c$2*2],tree[c$2*2+1])},bi_reverse=(code,len)=>{let res=0;do res|=code&1,code>>>=1,res<<=1;while(--len>0);return res>>>1},bi_flush=s$2=>{s$2.bi_valid===16?(put_short(s$2,s$2.bi_buf),s$2.bi_buf=0,s$2.bi_valid=0):s$2.bi_valid>=8&&(s$2.pending_buf[s$2.pending++]=s$2.bi_buf&255,s$2.bi_buf>>=8,s$2.bi_valid-=8)},gen_bitlen=(s$2,desc)=>{let tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,h$3,n$3,m$1,bits,xbits,f$1,overflow=0;for(bits=0;bits<=MAX_BITS$1;bits++)s$2.bl_count[bits]=0;for(tree[s$2.heap[s$2.heap_max]*2+1]=0,h$3=s$2.heap_max+1;h$3<HEAP_SIZE$1;h$3++)n$3=s$2.heap[h$3],bits=tree[tree[n$3*2+1]*2+1]+1,bits>max_length&&(bits=max_length,overflow++),tree[n$3*2+1]=bits,!(n$3>max_code)&&(s$2.bl_count[bits]++,xbits=0,n$3>=base&&(xbits=extra[n$3-base]),f$1=tree[n$3*2],s$2.opt_len+=f$1*(bits+xbits),has_stree&&(s$2.static_len+=f$1*(stree[n$3*2+1]+xbits)));if(overflow!==0){do{for(bits=max_length-1;s$2.bl_count[bits]===0;)bits--;s$2.bl_count[bits]--,s$2.bl_count[bits+1]+=2,s$2.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--)for(n$3=s$2.bl_count[bits];n$3!==0;)m$1=s$2.heap[--h$3],!(m$1>max_code)&&(tree[m$1*2+1]!==bits&&(s$2.opt_len+=(bits-tree[m$1*2+1])*tree[m$1*2],tree[m$1*2+1]=bits),n$3--)}},gen_codes=(tree,max_code,bl_count)=>{let next_code=Array(MAX_BITS$1+1),code=0,bits,n$3;for(bits=1;bits<=MAX_BITS$1;bits++)code=code+bl_count[bits-1]<<1,next_code[bits]=code;for(n$3=0;n$3<=max_code;n$3++){let len=tree[n$3*2+1];len!==0&&(tree[n$3*2]=bi_reverse(next_code[len]++,len))}},tr_static_init=()=>{let n$3,bits,length,code,dist,bl_count=Array(MAX_BITS$1+1);for(length=0,code=0;code<LENGTH_CODES$1-1;code++)for(base_length[code]=length,n$3=0;n$3<1<<extra_lbits[code];n$3++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n$3=0;n$3<1<<extra_dbits[code];n$3++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES$1;code++)for(base_dist[code]=dist<<7,n$3=0;n$3<1<<extra_dbits[code]-7;n$3++)_dist_code[256+ dist++]=code;for(bits=0;bits<=MAX_BITS$1;bits++)bl_count[bits]=0;for(n$3=0;n$3<=143;)static_ltree[n$3*2+1]=8,n$3++,bl_count[8]++;for(;n$3<=255;)static_ltree[n$3*2+1]=9,n$3++,bl_count[9]++;for(;n$3<=279;)static_ltree[n$3*2+1]=7,n$3++,bl_count[7]++;for(;n$3<=287;)static_ltree[n$3*2+1]=8,n$3++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES$1+1,bl_count),n$3=0;n$3<D_CODES$1;n$3++)static_dtree[n$3*2+1]=5,static_dtree[n$3*2]=bi_reverse(n$3,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc([],extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=s$2=>{let n$3;for(n$3=0;n$3<L_CODES$1;n$3++)s$2.dyn_ltree[n$3*2]=0;for(n$3=0;n$3<D_CODES$1;n$3++)s$2.dyn_dtree[n$3*2]=0;for(n$3=0;n$3<BL_CODES$1;n$3++)s$2.bl_tree[n$3*2]=0;s$2.dyn_ltree[END_BLOCK*2]=1,s$2.opt_len=s$2.static_len=0,s$2.sym_next=s$2.matches=0},bi_windup=s$2=>{s$2.bi_valid>8?put_short(s$2,s$2.bi_buf):s$2.bi_valid>0&&(s$2.pending_buf[s$2.pending++]=s$2.bi_buf),s$2.bi_buf=0,s$2.bi_valid=0},smaller=(tree,n$3,m$1,depth)=>{let _n2=n$3*2,_m2=m$1*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n$3]<=depth[m$1]},pqdownheap=(s$2,tree,k$2)=>{let v$2=s$2.heap[k$2],j$2=k$2<<1;for(;j$2<=s$2.heap_len&&(j$2<s$2.heap_len&&smaller(tree,s$2.heap[j$2+1],s$2.heap[j$2],s$2.depth)&&j$2++,!smaller(tree,v$2,s$2.heap[j$2],s$2.depth));)s$2.heap[k$2]=s$2.heap[j$2],k$2=j$2,j$2<<=1;s$2.heap[k$2]=v$2},compress_block=(s$2,ltree,dtree)=>{let dist,lc,sx=0,code,extra;if(s$2.sym_next!==0)do dist=s$2.pending_buf[s$2.sym_buf+ sx++]&255,dist+=(s$2.pending_buf[s$2.sym_buf+ sx++]&255)<<8,lc=s$2.pending_buf[s$2.sym_buf+ sx++],dist===0?send_code(s$2,lc,ltree):(code=_length_code[lc],send_code(s$2,code+LITERALS$1+1,ltree),extra=extra_lbits[code],extra!==0&&(lc-=base_length[code],send_bits(s$2,lc,extra)),dist--,code=d_code(dist),send_code(s$2,code,dtree),extra=extra_dbits[code],extra!==0&&(dist-=base_dist[code],send_bits(s$2,dist,extra)));while(sx<s$2.sym_next);send_code(s$2,END_BLOCK,ltree)},build_tree=(s$2,desc)=>{let tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,n$3,m$1,max_code=-1,node;for(s$2.heap_len=0,s$2.heap_max=HEAP_SIZE$1,n$3=0;n$3<elems;n$3++)tree[n$3*2]===0?tree[n$3*2+1]=0:(s$2.heap[++s$2.heap_len]=max_code=n$3,s$2.depth[n$3]=0);for(;s$2.heap_len<2;)node=s$2.heap[++s$2.heap_len]=max_code<2?++max_code:0,tree[node*2]=1,s$2.depth[node]=0,s$2.opt_len--,has_stree&&(s$2.static_len-=stree[node*2+1]);for(desc.max_code=max_code,n$3=s$2.heap_len>>1;n$3>=1;n$3--)pqdownheap(s$2,tree,n$3);node=elems;do n$3=s$2.heap[1],s$2.heap[1]=s$2.heap[s$2.heap_len--],pqdownheap(s$2,tree,1),m$1=s$2.heap[1],s$2.heap[--s$2.heap_max]=n$3,s$2.heap[--s$2.heap_max]=m$1,tree[node*2]=tree[n$3*2]+tree[m$1*2],s$2.depth[node]=(s$2.depth[n$3]>=s$2.depth[m$1]?s$2.depth[n$3]:s$2.depth[m$1])+1,tree[n$3*2+1]=tree[m$1*2+1]=node,s$2.heap[1]=node++,pqdownheap(s$2,tree,1);while(s$2.heap_len>=2);s$2.heap[--s$2.heap_max]=s$2.heap[1],gen_bitlen(s$2,desc),gen_codes(tree,max_code,s$2.bl_count)},scan_tree=(s$2,tree,max_code)=>{let n$3,prevlen=-1,curlen,nextlen=tree[1],count=0,max_count=7,min_count=4;for(nextlen===0&&(max_count=138,min_count=3),tree[(max_code+1)*2+1]=65535,n$3=0;n$3<=max_code;n$3++)curlen=nextlen,nextlen=tree[(n$3+1)*2+1],!(++count<max_count&&curlen===nextlen)&&(count<min_count?s$2.bl_tree[curlen*2]+=count:curlen===0?count<=10?s$2.bl_tree[REPZ_3_10*2]++:s$2.bl_tree[REPZ_11_138*2]++:(curlen!==prevlen&&s$2.bl_tree[curlen*2]++,s$2.bl_tree[REP_3_6*2]++),count=0,prevlen=curlen,nextlen===0?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))},send_tree=(s$2,tree,max_code)=>{let n$3,prevlen=-1,curlen,nextlen=tree[1],count=0,max_count=7,min_count=4;for(nextlen===0&&(max_count=138,min_count=3),n$3=0;n$3<=max_code;n$3++)if(curlen=nextlen,nextlen=tree[(n$3+1)*2+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do send_code(s$2,curlen,s$2.bl_tree);while(--count!==0);else curlen===0?count<=10?(send_code(s$2,REPZ_3_10,s$2.bl_tree),send_bits(s$2,count-3,3)):(send_code(s$2,REPZ_11_138,s$2.bl_tree),send_bits(s$2,count-11,7)):(curlen!==prevlen&&(send_code(s$2,curlen,s$2.bl_tree),count--),send_code(s$2,REP_3_6,s$2.bl_tree),send_bits(s$2,count-3,2));count=0,prevlen=curlen,nextlen===0?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}},build_bl_tree=s$2=>{let max_blindex;for(scan_tree(s$2,s$2.dyn_ltree,s$2.l_desc.max_code),scan_tree(s$2,s$2.dyn_dtree,s$2.d_desc.max_code),build_tree(s$2,s$2.bl_desc),max_blindex=BL_CODES$1-1;max_blindex>=3&&s$2.bl_tree[bl_order[max_blindex]*2+1]===0;max_blindex--);return s$2.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex},send_all_trees=(s$2,lcodes,dcodes,blcodes)=>{let rank$1;for(send_bits(s$2,lcodes-257,5),send_bits(s$2,dcodes-1,5),send_bits(s$2,blcodes-4,4),rank$1=0;rank$1<blcodes;rank$1++)send_bits(s$2,s$2.bl_tree[bl_order[rank$1]*2+1],3);send_tree(s$2,s$2.dyn_ltree,lcodes-1),send_tree(s$2,s$2.dyn_dtree,dcodes-1)},detect_data_type=s$2=>{let block_mask=4093624447,n$3;for(n$3=0;n$3<=31;n$3++,block_mask>>>=1)if(block_mask&1&&s$2.dyn_ltree[n$3*2]!==0)return Z_BINARY;if(s$2.dyn_ltree[18]!==0||s$2.dyn_ltree[20]!==0||s$2.dyn_ltree[26]!==0)return Z_TEXT;for(n$3=32;n$3<LITERALS$1;n$3++)if(s$2.dyn_ltree[n$3*2]!==0)return Z_TEXT;return Z_BINARY},static_init_done=!1,_tr_init$1=s$2=>{static_init_done||=(tr_static_init(),!0),s$2.l_desc=new TreeDesc(s$2.dyn_ltree,static_l_desc),s$2.d_desc=new TreeDesc(s$2.dyn_dtree,static_d_desc),s$2.bl_desc=new TreeDesc(s$2.bl_tree,static_bl_desc),s$2.bi_buf=0,s$2.bi_valid=0,init_block(s$2)},_tr_stored_block$1=(s$2,buf,stored_len,last)=>{send_bits(s$2,(STORED_BLOCK<<1)+(last?1:0),3),bi_windup(s$2),put_short(s$2,stored_len),put_short(s$2,~stored_len),stored_len&&s$2.pending_buf.set(s$2.window.subarray(buf,buf+stored_len),s$2.pending),s$2.pending+=stored_len},trees={_tr_init:_tr_init$1,_tr_stored_block:_tr_stored_block$1,_tr_flush_block:(s$2,buf,stored_len,last)=>{let opt_lenb,static_lenb,max_blindex=0;s$2.level>0?(s$2.strm.data_type===Z_UNKNOWN$1&&(s$2.strm.data_type=detect_data_type(s$2)),build_tree(s$2,s$2.l_desc),build_tree(s$2,s$2.d_desc),max_blindex=build_bl_tree(s$2),opt_lenb=s$2.opt_len+3+7>>>3,static_lenb=s$2.static_len+3+7>>>3,static_lenb<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&buf!==-1?_tr_stored_block$1(s$2,buf,stored_len,last):s$2.strategy===Z_FIXED$1||static_lenb===opt_lenb?(send_bits(s$2,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s$2,static_ltree,static_dtree)):(send_bits(s$2,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s$2,s$2.l_desc.max_code+1,s$2.d_desc.max_code+1,max_blindex+1),compress_block(s$2,s$2.dyn_ltree,s$2.dyn_dtree)),init_block(s$2),last&&bi_windup(s$2)},_tr_tally:(s$2,dist,lc)=>(s$2.pending_buf[s$2.sym_buf+ s$2.sym_next++]=dist,s$2.pending_buf[s$2.sym_buf+ s$2.sym_next++]=dist>>8,s$2.pending_buf[s$2.sym_buf+ s$2.sym_next++]=lc,dist===0?s$2.dyn_ltree[lc*2]++:(s$2.matches++,dist--,s$2.dyn_ltree[(_length_code[lc]+LITERALS$1+1)*2]++,s$2.dyn_dtree[d_code(dist)*2]++),s$2.sym_next===s$2.sym_end),_tr_align:s$2=>{send_bits(s$2,STATIC_TREES<<1,3),send_code(s$2,END_BLOCK,static_ltree),bi_flush(s$2)}},adler32_1=(adler,buf,len,pos)=>{let s1=adler&65535|0,s2=adler>>>16&65535|0,n$3=0;for(;len!==0;){n$3=len>2e3?2e3:len,len-=n$3;do s1=s1+buf[pos++]|0,s2=s2+s1|0;while(--n$3);s1%=65521,s2%=65521}return s1|s2<<16|0},crcTable$1=new Uint32Array((()=>{let c$2,table=[];for(var n$3=0;n$3<256;n$3++){c$2=n$3;for(var k$2=0;k$2<8;k$2++)c$2=c$2&1?3988292384^c$2>>>1:c$2>>>1;table[n$3]=c$2}return table})()),crc32_1=(crc,buf,len,pos)=>{let t$3=crcTable$1,end=pos+len;crc^=-1;for(let i$3=pos;i$3<end;i$3++)crc=crc>>>8^t$3[(crc^buf[i$3])&255];return crc^-1},messages={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(strm,errorCode)=>(strm.msg=messages[errorCode],errorCode),rank=f$1=>f$1*2-(f$1>4?9:0),zero=buf=>{let len=buf.length;for(;--len>=0;)buf[len]=0},slide_hash=s$2=>{let n$3,m$1,p$3,wsize=s$2.w_size;n$3=s$2.hash_size,p$3=n$3;do m$1=s$2.head[--p$3],s$2.head[p$3]=m$1>=wsize?m$1-wsize:0;while(--n$3);n$3=wsize,p$3=n$3;do m$1=s$2.prev[--p$3],s$2.prev[p$3]=m$1>=wsize?m$1-wsize:0;while(--n$3)},HASH=(s$2,prev,data)=>(prev<<s$2.hash_shift^data)&s$2.hash_mask,flush_pending=strm=>{let s$2=strm.state,len=s$2.pending;len>strm.avail_out&&(len=strm.avail_out),len!==0&&(strm.output.set(s$2.pending_buf.subarray(s$2.pending_out,s$2.pending_out+len),strm.next_out),strm.next_out+=len,s$2.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s$2.pending-=len,s$2.pending===0&&(s$2.pending_out=0))},flush_block_only=(s$2,last)=>{_tr_flush_block(s$2,s$2.block_start>=0?s$2.block_start:-1,s$2.strstart-s$2.block_start,last),s$2.block_start=s$2.strstart,flush_pending(s$2.strm)},put_byte=(s$2,b$3)=>{s$2.pending_buf[s$2.pending++]=b$3},putShortMSB=(s$2,b$3)=>{s$2.pending_buf[s$2.pending++]=b$3>>>8&255,s$2.pending_buf[s$2.pending++]=b$3&255},read_buf=(strm,buf,start,size)=>{let len=strm.avail_in;return len>size&&(len=size),len===0?0:(strm.avail_in-=len,buf.set(strm.input.subarray(strm.next_in,strm.next_in+len),start),strm.state.wrap===1?strm.adler=adler32_1(strm.adler,buf,len,start):strm.state.wrap===2&&(strm.adler=crc32_1(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)},longest_match=(s$2,cur_match)=>{let chain_length=s$2.max_chain_length,scan=s$2.strstart,match,len,best_len=s$2.prev_length,nice_match=s$2.nice_match,limit=s$2.strstart>s$2.w_size-MIN_LOOKAHEAD?s$2.strstart-(s$2.w_size-MIN_LOOKAHEAD):0,_win=s$2.window,wmask=s$2.w_mask,prev=s$2.prev,strend=s$2.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s$2.prev_length>=s$2.good_match&&(chain_length>>=2),nice_match>s$2.lookahead&&(nice_match=s$2.lookahead);do{if(match=cur_match,_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1])continue;scan+=2,match++;do;while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s$2.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);return best_len<=s$2.lookahead?best_len:s$2.lookahead},fill_window=s$2=>{let _w_size=s$2.w_size,n$3,more,str;do{if(more=s$2.window_size-s$2.lookahead-s$2.strstart,s$2.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)&&(s$2.window.set(s$2.window.subarray(_w_size,_w_size+_w_size-more),0),s$2.match_start-=_w_size,s$2.strstart-=_w_size,s$2.block_start-=_w_size,s$2.insert>s$2.strstart&&(s$2.insert=s$2.strstart),slide_hash(s$2),more+=_w_size),s$2.strm.avail_in===0)break;if(n$3=read_buf(s$2.strm,s$2.window,s$2.strstart+s$2.lookahead,more),s$2.lookahead+=n$3,s$2.lookahead+s$2.insert>=MIN_MATCH)for(str=s$2.strstart-s$2.insert,s$2.ins_h=s$2.window[str],s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[str+1]);s$2.insert&&(s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[str+MIN_MATCH-1]),s$2.prev[str&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=str,str++,s$2.insert--,!(s$2.lookahead+s$2.insert<MIN_MATCH)););}while(s$2.lookahead<MIN_LOOKAHEAD&&s$2.strm.avail_in!==0)},deflate_stored=(s$2,flush)=>{let min_block=s$2.pending_buf_size-5>s$2.w_size?s$2.w_size:s$2.pending_buf_size-5,len,left,have,last=0,used=s$2.strm.avail_in;do{if(len=65535,have=s$2.bi_valid+42>>3,s$2.strm.avail_out<have||(have=s$2.strm.avail_out-have,left=s$2.strstart-s$2.block_start,len>left+s$2.strm.avail_in&&(len=left+s$2.strm.avail_in),len>have&&(len=have),len<min_block&&(len===0&&flush!==Z_FINISH$3||flush===Z_NO_FLUSH$2||len!==left+s$2.strm.avail_in)))break;last=flush===Z_FINISH$3&&len===left+s$2.strm.avail_in?1:0,_tr_stored_block(s$2,0,0,last),s$2.pending_buf[s$2.pending-4]=len,s$2.pending_buf[s$2.pending-3]=len>>8,s$2.pending_buf[s$2.pending-2]=~len,s$2.pending_buf[s$2.pending-1]=~len>>8,flush_pending(s$2.strm),left&&(left>len&&(left=len),s$2.strm.output.set(s$2.window.subarray(s$2.block_start,s$2.block_start+left),s$2.strm.next_out),s$2.strm.next_out+=left,s$2.strm.avail_out-=left,s$2.strm.total_out+=left,s$2.block_start+=left,len-=left),len&&(read_buf(s$2.strm,s$2.strm.output,s$2.strm.next_out,len),s$2.strm.next_out+=len,s$2.strm.avail_out-=len,s$2.strm.total_out+=len)}while(last===0);return used-=s$2.strm.avail_in,used&&(used>=s$2.w_size?(s$2.matches=2,s$2.window.set(s$2.strm.input.subarray(s$2.strm.next_in-s$2.w_size,s$2.strm.next_in),0),s$2.strstart=s$2.w_size,s$2.insert=s$2.strstart):(s$2.window_size-s$2.strstart<=used&&(s$2.strstart-=s$2.w_size,s$2.window.set(s$2.window.subarray(s$2.w_size,s$2.w_size+s$2.strstart),0),s$2.matches<2&&s$2.matches++,s$2.insert>s$2.strstart&&(s$2.insert=s$2.strstart)),s$2.window.set(s$2.strm.input.subarray(s$2.strm.next_in-used,s$2.strm.next_in),s$2.strstart),s$2.strstart+=used,s$2.insert+=used>s$2.w_size-s$2.insert?s$2.w_size-s$2.insert:used),s$2.block_start=s$2.strstart),s$2.high_water<s$2.strstart&&(s$2.high_water=s$2.strstart),last?BS_FINISH_DONE:flush!==Z_NO_FLUSH$2&&flush!==Z_FINISH$3&&s$2.strm.avail_in===0&&s$2.strstart===s$2.block_start?BS_BLOCK_DONE:(have=s$2.window_size-s$2.strstart,s$2.strm.avail_in>have&&s$2.block_start>=s$2.w_size&&(s$2.block_start-=s$2.w_size,s$2.strstart-=s$2.w_size,s$2.window.set(s$2.window.subarray(s$2.w_size,s$2.w_size+s$2.strstart),0),s$2.matches<2&&s$2.matches++,have+=s$2.w_size,s$2.insert>s$2.strstart&&(s$2.insert=s$2.strstart)),have>s$2.strm.avail_in&&(have=s$2.strm.avail_in),have&&(read_buf(s$2.strm,s$2.window,s$2.strstart,have),s$2.strstart+=have,s$2.insert+=have>s$2.w_size-s$2.insert?s$2.w_size-s$2.insert:have),s$2.high_water<s$2.strstart&&(s$2.high_water=s$2.strstart),have=s$2.bi_valid+42>>3,have=s$2.pending_buf_size-have>65535?65535:s$2.pending_buf_size-have,min_block=have>s$2.w_size?s$2.w_size:have,left=s$2.strstart-s$2.block_start,(left>=min_block||(left||flush===Z_FINISH$3)&&flush!==Z_NO_FLUSH$2&&s$2.strm.avail_in===0&&left<=have)&&(len=left>have?have:left,last=flush===Z_FINISH$3&&s$2.strm.avail_in===0&&len===left?1:0,_tr_stored_block(s$2,s$2.block_start,len,last),s$2.block_start+=len,flush_pending(s$2.strm)),last?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(s$2,flush)=>{let hash_head,bflush;for(;;){if(s$2.lookahead<MIN_LOOKAHEAD){if(fill_window(s$2),s$2.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s$2.lookahead===0)break}if(hash_head=0,s$2.lookahead>=MIN_MATCH&&(s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[s$2.strstart+MIN_MATCH-1]),hash_head=s$2.prev[s$2.strstart&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=s$2.strstart),hash_head!==0&&s$2.strstart-hash_head<=s$2.w_size-MIN_LOOKAHEAD&&(s$2.match_length=longest_match(s$2,hash_head)),s$2.match_length>=MIN_MATCH)if(bflush=_tr_tally(s$2,s$2.strstart-s$2.match_start,s$2.match_length-MIN_MATCH),s$2.lookahead-=s$2.match_length,s$2.match_length<=s$2.max_lazy_match&&s$2.lookahead>=MIN_MATCH){s$2.match_length--;do s$2.strstart++,s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[s$2.strstart+MIN_MATCH-1]),hash_head=s$2.prev[s$2.strstart&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=s$2.strstart;while(--s$2.match_length!==0);s$2.strstart++}else s$2.strstart+=s$2.match_length,s$2.match_length=0,s$2.ins_h=s$2.window[s$2.strstart],s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[s$2.strstart+1]);else bflush=_tr_tally(s$2,0,s$2.window[s$2.strstart]),s$2.lookahead--,s$2.strstart++;if(bflush&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0))return BS_NEED_MORE}return s$2.insert=s$2.strstart<MIN_MATCH-1?s$2.strstart:MIN_MATCH-1,flush===Z_FINISH$3?(flush_block_only(s$2,!0),s$2.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s$2.sym_next&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(s$2,flush)=>{let hash_head,bflush,max_insert;for(;;){if(s$2.lookahead<MIN_LOOKAHEAD){if(fill_window(s$2),s$2.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s$2.lookahead===0)break}if(hash_head=0,s$2.lookahead>=MIN_MATCH&&(s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[s$2.strstart+MIN_MATCH-1]),hash_head=s$2.prev[s$2.strstart&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=s$2.strstart),s$2.prev_length=s$2.match_length,s$2.prev_match=s$2.match_start,s$2.match_length=MIN_MATCH-1,hash_head!==0&&s$2.prev_length<s$2.max_lazy_match&&s$2.strstart-hash_head<=s$2.w_size-MIN_LOOKAHEAD&&(s$2.match_length=longest_match(s$2,hash_head),s$2.match_length<=5&&(s$2.strategy===Z_FILTERED||s$2.match_length===MIN_MATCH&&s$2.strstart-s$2.match_start>4096)&&(s$2.match_length=MIN_MATCH-1)),s$2.prev_length>=MIN_MATCH&&s$2.match_length<=s$2.prev_length){max_insert=s$2.strstart+s$2.lookahead-MIN_MATCH,bflush=_tr_tally(s$2,s$2.strstart-1-s$2.prev_match,s$2.prev_length-MIN_MATCH),s$2.lookahead-=s$2.prev_length-1,s$2.prev_length-=2;do++s$2.strstart<=max_insert&&(s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[s$2.strstart+MIN_MATCH-1]),hash_head=s$2.prev[s$2.strstart&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=s$2.strstart);while(--s$2.prev_length!==0);if(s$2.match_available=0,s$2.match_length=MIN_MATCH-1,s$2.strstart++,bflush&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0))return BS_NEED_MORE}else if(s$2.match_available){if(bflush=_tr_tally(s$2,0,s$2.window[s$2.strstart-1]),bflush&&flush_block_only(s$2,!1),s$2.strstart++,s$2.lookahead--,s$2.strm.avail_out===0)return BS_NEED_MORE}else s$2.match_available=1,s$2.strstart++,s$2.lookahead--}return s$2.match_available&&=(bflush=_tr_tally(s$2,0,s$2.window[s$2.strstart-1]),0),s$2.insert=s$2.strstart<MIN_MATCH-1?s$2.strstart:MIN_MATCH-1,flush===Z_FINISH$3?(flush_block_only(s$2,!0),s$2.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s$2.sym_next&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(s$2,flush)=>{let bflush,prev,scan,strend,_win=s$2.window;for(;;){if(s$2.lookahead<=MAX_MATCH){if(fill_window(s$2),s$2.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s$2.lookahead===0)break}if(s$2.match_length=0,s$2.lookahead>=MIN_MATCH&&s$2.strstart>0&&(scan=s$2.strstart-1,prev=_win[scan],prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s$2.strstart+MAX_MATCH;do;while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s$2.match_length=MAX_MATCH-(strend-scan),s$2.match_length>s$2.lookahead&&(s$2.match_length=s$2.lookahead)}if(s$2.match_length>=MIN_MATCH?(bflush=_tr_tally(s$2,1,s$2.match_length-MIN_MATCH),s$2.lookahead-=s$2.match_length,s$2.strstart+=s$2.match_length,s$2.match_length=0):(bflush=_tr_tally(s$2,0,s$2.window[s$2.strstart]),s$2.lookahead--,s$2.strstart++),bflush&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0))return BS_NEED_MORE}return s$2.insert=0,flush===Z_FINISH$3?(flush_block_only(s$2,!0),s$2.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s$2.sym_next&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(s$2,flush)=>{let bflush;for(;;){if(s$2.lookahead===0&&(fill_window(s$2),s$2.lookahead===0)){if(flush===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(s$2.match_length=0,bflush=_tr_tally(s$2,0,s$2.window[s$2.strstart]),s$2.lookahead--,s$2.strstart++,bflush&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0))return BS_NEED_MORE}return s$2.insert=0,flush===Z_FINISH$3?(flush_block_only(s$2,!0),s$2.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s$2.sym_next&&(flush_block_only(s$2,!1),s$2.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}var configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=s$2=>{s$2.window_size=2*s$2.w_size,zero(s$2.head),s$2.max_lazy_match=configuration_table[s$2.level].max_lazy,s$2.good_match=configuration_table[s$2.level].good_length,s$2.nice_match=configuration_table[s$2.level].nice_length,s$2.max_chain_length=configuration_table[s$2.level].max_chain,s$2.strstart=0,s$2.block_start=0,s$2.lookahead=0,s$2.insert=0,s$2.match_length=s$2.prev_length=MIN_MATCH-1,s$2.match_available=0,s$2.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var deflateStateCheck=strm=>{if(!strm)return 1;let s$2=strm.state;return!s$2||s$2.strm!==strm||s$2.status!==INIT_STATE&&s$2.status!==GZIP_STATE&&s$2.status!==EXTRA_STATE&&s$2.status!==NAME_STATE&&s$2.status!==COMMENT_STATE&&s$2.status!==HCRC_STATE&&s$2.status!==BUSY_STATE&&s$2.status!==FINISH_STATE?1:0},deflateResetKeep=strm=>{if(deflateStateCheck(strm))return err(strm,Z_STREAM_ERROR$2);strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN;let s$2=strm.state;return s$2.pending=0,s$2.pending_out=0,s$2.wrap<0&&(s$2.wrap=-s$2.wrap),s$2.status=s$2.wrap===2?GZIP_STATE:s$2.wrap?INIT_STATE:BUSY_STATE,strm.adler=s$2.wrap===2?0:1,s$2.last_flush=-2,_tr_init(s$2),Z_OK$3},deflateReset=strm=>{let ret=deflateResetKeep(strm);return ret===Z_OK$3&&lm_init(strm.state),ret},deflateSetHeader=(strm,head)=>deflateStateCheck(strm)||strm.state.wrap!==2?Z_STREAM_ERROR$2:(strm.state.gzhead=head,Z_OK$3),deflateInit2=(strm,level$1,method,windowBits,memLevel,strategy)=>{if(!strm)return Z_STREAM_ERROR$2;let wrap$2=1;if(level$1===Z_DEFAULT_COMPRESSION$1&&(level$1=6),windowBits<0?(wrap$2=0,windowBits=-windowBits):windowBits>15&&(wrap$2=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED$2||windowBits<8||windowBits>15||level$1<0||level$1>9||strategy<0||strategy>Z_FIXED||windowBits===8&&wrap$2!==1)return err(strm,Z_STREAM_ERROR$2);windowBits===8&&(windowBits=9);let s$2=new DeflateState;return strm.state=s$2,s$2.strm=strm,s$2.status=INIT_STATE,s$2.wrap=wrap$2,s$2.gzhead=null,s$2.w_bits=windowBits,s$2.w_size=1<<s$2.w_bits,s$2.w_mask=s$2.w_size-1,s$2.hash_bits=memLevel+7,s$2.hash_size=1<<s$2.hash_bits,s$2.hash_mask=s$2.hash_size-1,s$2.hash_shift=~~((s$2.hash_bits+MIN_MATCH-1)/MIN_MATCH),s$2.window=new Uint8Array(s$2.w_size*2),s$2.head=new Uint16Array(s$2.hash_size),s$2.prev=new Uint16Array(s$2.w_size),s$2.lit_bufsize=1<<memLevel+6,s$2.pending_buf_size=s$2.lit_bufsize*4,s$2.pending_buf=new Uint8Array(s$2.pending_buf_size),s$2.sym_buf=s$2.lit_bufsize,s$2.sym_end=(s$2.lit_bufsize-1)*3,s$2.level=level$1,s$2.strategy=strategy,s$2.method=method,deflateReset(strm)},deflate_1$2={deflateInit:(strm,level$1)=>deflateInit2(strm,level$1,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflateInit2,deflateReset,deflateResetKeep,deflateSetHeader,deflate:(strm,flush)=>{if(deflateStateCheck(strm)||flush>Z_BLOCK$1||flush<0)return strm?err(strm,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;let s$2=strm.state;if(!strm.output||strm.avail_in!==0&&!strm.input||s$2.status===FINISH_STATE&&flush!==Z_FINISH$3)return err(strm,strm.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);let old_flush=s$2.last_flush;if(s$2.last_flush=flush,s$2.pending!==0){if(flush_pending(strm),strm.avail_out===0)return s$2.last_flush=-1,Z_OK$3}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH$3)return err(strm,Z_BUF_ERROR$1);if(s$2.status===FINISH_STATE&&strm.avail_in!==0)return err(strm,Z_BUF_ERROR$1);if(s$2.status===INIT_STATE&&s$2.wrap===0&&(s$2.status=BUSY_STATE),s$2.status===INIT_STATE){let header=Z_DEFLATED$2+(s$2.w_bits-8<<4)<<8,level_flags=-1;if(level_flags=s$2.strategy>=Z_HUFFMAN_ONLY||s$2.level<2?0:s$2.level<6?1:s$2.level===6?2:3,header|=level_flags<<6,s$2.strstart!==0&&(header|=PRESET_DICT),header+=31-header%31,putShortMSB(s$2,header),s$2.strstart!==0&&(putShortMSB(s$2,strm.adler>>>16),putShortMSB(s$2,strm.adler&65535)),strm.adler=1,s$2.status=BUSY_STATE,flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3}if(s$2.status===GZIP_STATE){if(strm.adler=0,put_byte(s$2,31),put_byte(s$2,139),put_byte(s$2,8),s$2.gzhead)put_byte(s$2,(s$2.gzhead.text?1:0)+(s$2.gzhead.hcrc?2:0)+(s$2.gzhead.extra?4:0)+(s$2.gzhead.name?8:0)+(s$2.gzhead.comment?16:0)),put_byte(s$2,s$2.gzhead.time&255),put_byte(s$2,s$2.gzhead.time>>8&255),put_byte(s$2,s$2.gzhead.time>>16&255),put_byte(s$2,s$2.gzhead.time>>24&255),put_byte(s$2,s$2.level===9?2:s$2.strategy>=Z_HUFFMAN_ONLY||s$2.level<2?4:0),put_byte(s$2,s$2.gzhead.os&255),s$2.gzhead.extra&&s$2.gzhead.extra.length&&(put_byte(s$2,s$2.gzhead.extra.length&255),put_byte(s$2,s$2.gzhead.extra.length>>8&255)),s$2.gzhead.hcrc&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending,0)),s$2.gzindex=0,s$2.status=EXTRA_STATE;else if(put_byte(s$2,0),put_byte(s$2,0),put_byte(s$2,0),put_byte(s$2,0),put_byte(s$2,0),put_byte(s$2,s$2.level===9?2:s$2.strategy>=Z_HUFFMAN_ONLY||s$2.level<2?4:0),put_byte(s$2,OS_CODE),s$2.status=BUSY_STATE,flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3}if(s$2.status===EXTRA_STATE){if(s$2.gzhead.extra){let beg=s$2.pending,left=(s$2.gzhead.extra.length&65535)-s$2.gzindex;for(;s$2.pending+left>s$2.pending_buf_size;){let copy=s$2.pending_buf_size-s$2.pending;if(s$2.pending_buf.set(s$2.gzhead.extra.subarray(s$2.gzindex,s$2.gzindex+copy),s$2.pending),s$2.pending=s$2.pending_buf_size,s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg)),s$2.gzindex+=copy,flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3;beg=0,left-=copy}let gzhead_extra=new Uint8Array(s$2.gzhead.extra);s$2.pending_buf.set(gzhead_extra.subarray(s$2.gzindex,s$2.gzindex+left),s$2.pending),s$2.pending+=left,s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg)),s$2.gzindex=0}s$2.status=NAME_STATE}if(s$2.status===NAME_STATE){if(s$2.gzhead.name){let beg=s$2.pending,val;do{if(s$2.pending===s$2.pending_buf_size){if(s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg)),flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3;beg=0}val=s$2.gzindex<s$2.gzhead.name.length?s$2.gzhead.name.charCodeAt(s$2.gzindex++)&255:0,put_byte(s$2,val)}while(val!==0);s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg)),s$2.gzindex=0}s$2.status=COMMENT_STATE}if(s$2.status===COMMENT_STATE){if(s$2.gzhead.comment){let beg=s$2.pending,val;do{if(s$2.pending===s$2.pending_buf_size){if(s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg)),flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3;beg=0}val=s$2.gzindex<s$2.gzhead.comment.length?s$2.gzhead.comment.charCodeAt(s$2.gzindex++)&255:0,put_byte(s$2,val)}while(val!==0);s$2.gzhead.hcrc&&s$2.pending>beg&&(strm.adler=crc32_1(strm.adler,s$2.pending_buf,s$2.pending-beg,beg))}s$2.status=HCRC_STATE}if(s$2.status===HCRC_STATE){if(s$2.gzhead.hcrc){if(s$2.pending+2>s$2.pending_buf_size&&(flush_pending(strm),s$2.pending!==0))return s$2.last_flush=-1,Z_OK$3;put_byte(s$2,strm.adler&255),put_byte(s$2,strm.adler>>8&255),strm.adler=0}if(s$2.status=BUSY_STATE,flush_pending(strm),s$2.pending!==0)return s$2.last_flush=-1,Z_OK$3}if(strm.avail_in!==0||s$2.lookahead!==0||flush!==Z_NO_FLUSH$2&&s$2.status!==FINISH_STATE){let bstate=s$2.level===0?deflate_stored(s$2,flush):s$2.strategy===Z_HUFFMAN_ONLY?deflate_huff(s$2,flush):s$2.strategy===Z_RLE?deflate_rle(s$2,flush):configuration_table[s$2.level].func(s$2,flush);if((bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE)&&(s$2.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return strm.avail_out===0&&(s$2.last_flush=-1),Z_OK$3;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?_tr_align(s$2):flush!==Z_BLOCK$1&&(_tr_stored_block(s$2,0,0,!1),flush===Z_FULL_FLUSH$1&&(zero(s$2.head),s$2.lookahead===0&&(s$2.strstart=0,s$2.block_start=0,s$2.insert=0))),flush_pending(strm),strm.avail_out===0))return s$2.last_flush=-1,Z_OK$3}return flush===Z_FINISH$3?s$2.wrap<=0?Z_STREAM_END$3:(s$2.wrap===2?(put_byte(s$2,strm.adler&255),put_byte(s$2,strm.adler>>8&255),put_byte(s$2,strm.adler>>16&255),put_byte(s$2,strm.adler>>24&255),put_byte(s$2,strm.total_in&255),put_byte(s$2,strm.total_in>>8&255),put_byte(s$2,strm.total_in>>16&255),put_byte(s$2,strm.total_in>>24&255)):(putShortMSB(s$2,strm.adler>>>16),putShortMSB(s$2,strm.adler&65535)),flush_pending(strm),s$2.wrap>0&&(s$2.wrap=-s$2.wrap),s$2.pending===0?Z_STREAM_END$3:Z_OK$3):Z_OK$3},deflateEnd:strm=>{if(deflateStateCheck(strm))return Z_STREAM_ERROR$2;let status=strm.state.status;return strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary:(strm,dictionary)=>{let dictLength=dictionary.length;if(deflateStateCheck(strm))return Z_STREAM_ERROR$2;let s$2=strm.state,wrap$2=s$2.wrap;if(wrap$2===2||wrap$2===1&&s$2.status!==INIT_STATE||s$2.lookahead)return Z_STREAM_ERROR$2;if(wrap$2===1&&(strm.adler=adler32_1(strm.adler,dictionary,dictLength,0)),s$2.wrap=0,dictLength>=s$2.w_size){wrap$2===0&&(zero(s$2.head),s$2.strstart=0,s$2.block_start=0,s$2.insert=0);let tmpDict=new Uint8Array(s$2.w_size);tmpDict.set(dictionary.subarray(dictLength-s$2.w_size,dictLength),0),dictionary=tmpDict,dictLength=s$2.w_size}let avail=strm.avail_in,next=strm.next_in,input=strm.input;for(strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s$2);s$2.lookahead>=MIN_MATCH;){let str=s$2.strstart,n$3=s$2.lookahead-(MIN_MATCH-1);do s$2.ins_h=HASH(s$2,s$2.ins_h,s$2.window[str+MIN_MATCH-1]),s$2.prev[str&s$2.w_mask]=s$2.head[s$2.ins_h],s$2.head[s$2.ins_h]=str,str++;while(--n$3);s$2.strstart=str,s$2.lookahead=MIN_MATCH-1,fill_window(s$2)}return s$2.strstart+=s$2.lookahead,s$2.block_start=s$2.strstart,s$2.insert=s$2.lookahead,s$2.lookahead=0,s$2.match_length=s$2.prev_length=MIN_MATCH-1,s$2.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s$2.wrap=wrap$2,Z_OK$3},deflateInfo:`pako deflate (from Nodeca project)`},_has=(obj,key)=>Object.prototype.hasOwnProperty.call(obj,key),common={assign:function(obj){let sources=Array.prototype.slice.call(arguments,1);for(;sources.length;){let source=sources.shift();if(source){if(typeof source!=`object`)throw TypeError(source+`must be non-object`);for(let p$3 in source)_has(source,p$3)&&(obj[p$3]=source[p$3])}}return obj},flattenChunks:chunks=>{let len=0;for(let i$3=0,l$2=chunks.length;i$3<l$2;i$3++)len+=chunks[i$3].length;let result=new Uint8Array(len);for(let i$3=0,pos=0,l$2=chunks.length;i$3<l$2;i$3++){let chunk=chunks[i$3];result.set(chunk,pos),pos+=chunk.length}return result}},STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new Uint8Array(256);for(let q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=str=>{if(typeof TextEncoder==`function`&&TextEncoder.prototype.encode)return new TextEncoder().encode(str);let buf,c$2,c2,m_pos,i$3,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)c$2=str.charCodeAt(m_pos),(c$2&64512)==55296&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),(c2&64512)==56320&&(c$2=65536+(c$2-55296<<10)+(c2-56320),m_pos++)),buf_len+=c$2<128?1:c$2<2048?2:c$2<65536?3:4;for(buf=new Uint8Array(buf_len),i$3=0,m_pos=0;i$3<buf_len;m_pos++)c$2=str.charCodeAt(m_pos),(c$2&64512)==55296&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),(c2&64512)==56320&&(c$2=65536+(c$2-55296<<10)+(c2-56320),m_pos++)),c$2<128?buf[i$3++]=c$2:c$2<2048?(buf[i$3++]=192|c$2>>>6,buf[i$3++]=128|c$2&63):c$2<65536?(buf[i$3++]=224|c$2>>>12,buf[i$3++]=128|c$2>>>6&63,buf[i$3++]=128|c$2&63):(buf[i$3++]=240|c$2>>>18,buf[i$3++]=128|c$2>>>12&63,buf[i$3++]=128|c$2>>>6&63,buf[i$3++]=128|c$2&63);return buf},buf2binstring=(buf,len)=>{if(len<65534&&buf.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,buf.length===len?buf:buf.subarray(0,len));let result=``;for(let i$3=0;i$3<len;i$3++)result+=String.fromCharCode(buf[i$3]);return result},strings={string2buf,buf2string:(buf,max$2)=>{let len=max$2||buf.length;if(typeof TextDecoder==`function`&&TextDecoder.prototype.decode)return new TextDecoder().decode(buf.subarray(0,max$2));let i$3,out,utf16buf=Array(len*2);for(out=0,i$3=0;i$3<len;){let c$2=buf[i$3++];if(c$2<128){utf16buf[out++]=c$2;continue}let c_len=_utf8len[c$2];if(c_len>4){utf16buf[out++]=65533,i$3+=c_len-1;continue}for(c$2&=c_len===2?31:c_len===3?15:7;c_len>1&&i$3<len;)c$2=c$2<<6|buf[i$3++]&63,c_len--;if(c_len>1){utf16buf[out++]=65533;continue}c$2<65536?utf16buf[out++]=c$2:(c$2-=65536,utf16buf[out++]=55296|c$2>>10&1023,utf16buf[out++]=56320|c$2&1023)}return buf2binstring(utf16buf,out)},utf8border:(buf,max$2)=>{max$2||=buf.length,max$2>buf.length&&(max$2=buf.length);let pos=max$2-1;for(;pos>=0&&(buf[pos]&192)==128;)pos--;return pos<0||pos===0?max$2:pos+_utf8len[buf[pos]]>max$2?pos:max$2}};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream,toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(options$1){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},options$1||{});let opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let status=deflate_1$2.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK$2)throw Error(messages[status]);if(opt.header&&deflate_1$2.deflateSetHeader(this.strm,opt.header),opt.dictionary){let dict;if(dict=typeof opt.dictionary==`string`?strings.string2buf(opt.dictionary):toString$1.call(opt.dictionary)===`[object ArrayBuffer]`?new Uint8Array(opt.dictionary):opt.dictionary,status=deflate_1$2.deflateSetDictionary(this.strm,dict),status!==Z_OK$2)throw Error(messages[status]);this._dict_set=!0}}Deflate$1.prototype.push=function(data,flush_mode){let strm=this.strm,chunkSize=this.options.chunkSize,status,_flush_mode;if(this.ended)return!1;for(_flush_mode=flush_mode===~~flush_mode?flush_mode:flush_mode===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof data==`string`?strm.input=strings.string2buf(data):toString$1.call(data)===`[object ArrayBuffer]`?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;;){if(strm.avail_out===0&&(strm.output=new Uint8Array(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(_flush_mode===Z_SYNC_FLUSH||_flush_mode===Z_FULL_FLUSH)&&strm.avail_out<=6){this.onData(strm.output.subarray(0,strm.next_out)),strm.avail_out=0;continue}if(status=deflate_1$2.deflate(strm,_flush_mode),status===Z_STREAM_END$2)return strm.next_out>0&&this.onData(strm.output.subarray(0,strm.next_out)),status=deflate_1$2.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK$2;if(strm.avail_out===0){this.onData(strm.output);continue}if(_flush_mode>0&&strm.next_out>0){this.onData(strm.output.subarray(0,strm.next_out)),strm.avail_out=0;continue}if(strm.avail_in===0)break}return!0},Deflate$1.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate$1.prototype.onEnd=function(status){status===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg};function deflate$1(input,options$1){let deflator=new Deflate$1(options$1);if(deflator.push(input,!0),deflator.err)throw deflator.msg||messages[deflator.err];return deflator.result}function deflateRaw$1(input,options$1){return options$1||={},options$1.raw=!0,deflate$1(input,options$1)}function gzip$1(input,options$1){return options$1||={},options$1.gzip=!0,deflate$1(input,options$1)}var deflate_1$1={Deflate:Deflate$1,deflate:deflate$1,deflateRaw:deflateRaw$1,gzip:gzip$1,constants:constants$2},BAD$1=16209,TYPE$1=16191,inffast=function(strm,start){let _in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output,state=strm.state;_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,op===0)output[_out++]=here&65535;else if(op&16){len=here&65535,op&=15,op&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,op&16){if(dist=here&65535,op&=15,bits<op&&(hold+=input[_in++]<<bits,bits+=8,bits<op&&(hold+=input[_in++]<<bits,bits+=8)),dist+=hold&(1<<op)-1,dist>dmax){strm.msg=`invalid distance too far back`,state.mode=BAD$1;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if(op=dist-op,op>whave&&state.sane){strm.msg=`invalid distance too far back`,state.mode=BAD$1;break top}if(from=0,from_source=s_window,wnext===0){if(from+=wsize-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,op-=wnext,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);if(from=0,wnext<len){op=wnext,len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3;while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}}else if(op&64){strm.msg=`invalid distance code`,state.mode=BAD$1;break top}else{here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}break}}else if(op&64)if(op&32){state.mode=TYPE$1;break top}else{strm.msg=`invalid literal/length code`,state.mode=BAD$1;break top}else{here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}break}}while(_in<last&&_out<end);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?5+(last-_in):5-(_in-last),strm.avail_out=_out<end?257+(end-_out):257-(_out-end),state.hold=hold,state.bits=bits},MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inftrees=(type,lens,lens_index,codes,table,table_index,work,opts)=>{let bits=opts.bits,len=0,sym=0,min$2=0,max$2=0,root$1=0,curr=0,drop=0,left=0,used=0,huff=0,incr,fill,low,mask,next,base=null,match,count=new Uint16Array(MAXBITS+1),offs=new Uint16Array(MAXBITS+1),extra=null,here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root$1=bits,max$2=MAXBITS;max$2>=1&&count[max$2]===0;max$2--);if(root$1>max$2&&(root$1=max$2),max$2===0)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min$2=1;min$2<max$2&&count[min$2]===0;min$2++);for(root$1<min$2&&(root$1=min$2),left=1,len=1;len<=MAXBITS;len++)if(left<<=1,left-=count[len],left<0)return-1;if(left>0&&(type===CODES$1||max$2!==1))return-1;for(offs[1]=0,len=1;len<MAXBITS;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)lens[lens_index+sym]!==0&&(work[offs[lens[lens_index+sym]]++]=sym);if(type===CODES$1?(base=extra=work,match=20):type===LENS$1?(base=lbase,extra=lext,match=257):(base=dbase,extra=dext,match=0),huff=0,sym=0,len=min$2,next=table_index,curr=root$1,drop=0,low=-1,used=1<<root$1,mask=used-1,type===LENS$1&&used>ENOUGH_LENS$1||type===DISTS$1&&used>ENOUGH_DISTS$1)return 1;for(;;){here_bits=len-drop,work[sym]+1<match?(here_op=0,here_val=work[sym]):work[sym]>=match?(here_op=extra[work[sym]-match],here_val=base[work[sym]-match]):(here_op=96,here_val=0),incr=1<<len-drop,fill=1<<curr,min$2=fill;do fill-=incr,table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0;while(fill!==0);for(incr=1<<len-1;huff&incr;)incr>>=1;if(incr===0?huff=0:(huff&=incr-1,huff+=incr),sym++,--count[len]===0){if(len===max$2)break;len=lens[lens_index+work[sym]]}if(len>root$1&&(huff&mask)!==low){for(drop===0&&(drop=root$1),next+=min$2,curr=len-drop,left=1<<curr;curr+drop<max$2&&(left-=count[curr+drop],!(left<=0));)curr++,left<<=1;if(used+=1<<curr,type===LENS$1&&used>ENOUGH_LENS$1||type===DISTS$1&&used>ENOUGH_DISTS$1)return 1;low=huff&mask,table[low]=root$1<<24|curr<<16|next-table_index|0}}return huff!==0&&(table[next+huff]=len-drop<<24|4194304),opts.bits=root$1,0},CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15,zswap32=q=>(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var inflateStateCheck=strm=>{if(!strm)return 1;let state=strm.state;return!state||state.strm!==strm||state.mode<HEAD||state.mode>SYNC?1:0},inflateResetKeep=strm=>{if(inflateStateCheck(strm))return Z_STREAM_ERROR$1;let state=strm.state;return strm.total_in=strm.total_out=state.total=0,strm.msg=``,state.wrap&&(strm.adler=state.wrap&1),state.mode=HEAD,state.last=0,state.havedict=0,state.flags=-1,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new Int32Array(ENOUGH_LENS),state.distcode=state.distdyn=new Int32Array(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK$1},inflateReset=strm=>{if(inflateStateCheck(strm))return Z_STREAM_ERROR$1;let state=strm.state;return state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)},inflateReset2=(strm,windowBits)=>{let wrap$2;if(inflateStateCheck(strm))return Z_STREAM_ERROR$1;let state=strm.state;return windowBits<0?(wrap$2=0,windowBits=-windowBits):(wrap$2=(windowBits>>4)+5,windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR$1:(state.window!==null&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap$2,state.wbits=windowBits,inflateReset(strm))},inflateInit2=(strm,windowBits)=>{if(!strm)return Z_STREAM_ERROR$1;let state=new InflateState;strm.state=state,state.strm=strm,state.window=null,state.mode=HEAD;let ret=inflateReset2(strm,windowBits);return ret!==Z_OK$1&&(strm.state=null),ret},inflateInit=strm=>inflateInit2(strm,DEF_WBITS),virgin=!0,lenfix,distfix,fixedtables=state=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let sym=0;for(;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inftrees(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inftrees(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5},updatewindow=(strm,src,end,copy)=>{let dist,state=strm.state;return state.window===null&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new Uint8Array(state.wsize)),copy>=state.wsize?(state.window.set(src.subarray(end-state.wsize,end),0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),state.window.set(src.subarray(end-copy,end-copy+dist),state.wnext),copy-=dist,copy?(state.window.set(src.subarray(end-copy,end),0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0},inflate_1$2={inflateReset,inflateReset2,inflateResetKeep,inflateInit,inflateInit2,inflate:(strm,flush)=>{let state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here=0,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,hbuf=new Uint8Array(4),opts,n$3,order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(strm)||!strm.output||!strm.input&&strm.avail_in!==0)return Z_STREAM_ERROR$1;state=strm.state,state.mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK$1;inf_leave:for(;;)switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.wrap&2&&hold===35615){state.wbits===0&&(state.wbits=15),state.check=0,hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32_1(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.head&&(state.head.done=!1),!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg=`incorrect header check`,state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg=`unknown compression method`,state.mode=BAD;break}if(hold>>>=4,bits-=4,len=(hold&15)+8,state.wbits===0&&(state.wbits=len),len>15||len>state.wbits){strm.msg=`invalid window size`,state.mode=BAD;break}state.dmax=1<<state.wbits,state.flags=0,strm.adler=state.check=1,state.mode=hold&512?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(state.flags&255)!==Z_DEFLATED){strm.msg=`unknown compression method`,state.mode=BAD;break}if(state.flags&57344){strm.msg=`unknown header flags set`,state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),state.flags&512&&state.wrap&4&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32_1(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),state.flags&512&&state.wrap&4&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32_1(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=hold&255,state.head.os=hold>>8),state.flags&512&&state.wrap&4&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32_1(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(state.flags&1024){for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),state.flags&512&&state.wrap&4&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32_1(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(state.flags&1024&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Uint8Array(state.head.extra_len)),state.head.extra.set(input.subarray(next,next+copy),len)),state.flags&512&&state.wrap&4&&(state.check=crc32_1(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(state.flags&2048){if(have===0)break inf_leave;copy=0;do len=input[next+ copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len));while(len&&copy<have);if(state.flags&512&&state.wrap&4&&(state.check=crc32_1(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0)break inf_leave;copy=0;do len=input[next+ copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len));while(len&&copy<have);if(state.flags&512&&state.wrap&4&&(state.check=crc32_1(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(state.flags&512){for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.wrap&4&&hold!==(state.check&65535)){strm.msg=`header crc mismatch`,state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(state.havedict===0)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT$1;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=bits&7,bits-=bits&7,state.mode=CHECK;break}for(;bits<3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=hold&1,hold>>>=1,--bits,hold&3){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg=`invalid block type`,state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=bits&7,bits-=bits&7;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((hold&65535)!=(hold>>>16^65535)){strm.msg=`invalid stored block lengths`,state.mode=BAD;break}if(state.length=hold&65535,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length,copy){if(copy>have&&(copy=have),copy>left&&(copy=left),copy===0)break inf_leave;output.set(input.subarray(next,next+copy),put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=(hold&31)+257,hold>>>=5,bits-=5,state.ndist=(hold&31)+1,hold>>>=5,bits-=5,state.ncode=(hold&15)+4,hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg=`too many length or distance symbols`,state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=hold&7,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inftrees(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=`invalid code lengths set`,state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(here_val===16){for(n$3=here_bits+2;bits<n$3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,state.have===0){strm.msg=`invalid bit length repeat`,state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(hold&3),hold>>>=2,bits-=2}else if(here_val===17){for(n$3=here_bits+3;bits<n$3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(hold&7),hold>>>=3,bits-=3}else{for(n$3=here_bits+7;bits<n$3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(hold&127),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg=`invalid bit length repeat`,state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(state.lens[256]===0){strm.msg=`invalid code -- missing end-of-block`,state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inftrees(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=`invalid literal/lengths set`,state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inftrees(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg=`invalid distances set`,state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inffast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&!(here_op&240)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(last_bits+here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1,state.mode=TYPE;break}if(here_op&64){strm.msg=`invalid literal/length code`,state.mode=BAD;break}state.extra=here_op&15,state.mode=LENEXT;case LENEXT:if(state.extra){for(n$3=state.extra;bits<n$3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(!(here_op&240)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(last_bits+here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,here_op&64){strm.msg=`invalid distance code`,state.mode=BAD;break}state.offset=here_val,state.extra=here_op&15,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n$3=state.extra;bits<n$3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg=`invalid distance too far back`,state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0)break inf_leave;if(copy=_out-left,state.offset>copy){if(copy=state.offset-copy,copy>state.whave&&state.sane){strm.msg=`invalid distance too far back`,state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do output[put++]=from_source[from++];while(--copy);state.length===0&&(state.mode=LEN);break;case LIT:if(left===0)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(have===0)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,state.wrap&4&&_out&&(strm.adler=state.check=state.flags?crc32_1(state.check,output,_out,put-_out):adler32_1(state.check,output,_out,put-_out)),_out=left,state.wrap&4&&(state.flags?hold:zswap32(hold))!==state.check){strm.msg=`incorrect data check`,state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.wrap&4&&hold!==(state.total&4294967295)){strm.msg=`incorrect length check`,state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END$1;break inf_leave;case BAD:ret=Z_DATA_ERROR$1;break inf_leave;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH$1))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out),_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&4&&_out&&(strm.adler=state.check=state.flags?crc32_1(state.check,output,_out,strm.next_out-_out):adler32_1(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(_in===0&&_out===0||flush===Z_FINISH$1)&&ret===Z_OK$1&&(ret=Z_BUF_ERROR),ret},inflateEnd:strm=>{if(inflateStateCheck(strm))return Z_STREAM_ERROR$1;let state=strm.state;return state.window&&=null,strm.state=null,Z_OK$1},inflateGetHeader:(strm,head)=>{if(inflateStateCheck(strm))return Z_STREAM_ERROR$1;let state=strm.state;return state.wrap&2?(state.head=head,head.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary:(strm,dictionary)=>{let dictLength=dictionary.length,state,dictid,ret;return inflateStateCheck(strm)||(state=strm.state,state.wrap!==0&&state.mode!==DICT)?Z_STREAM_ERROR$1:state.mode===DICT&&(dictid=1,dictid=adler32_1(dictid,dictionary,dictLength,0),dictid!==state.check)?Z_DATA_ERROR$1:(ret=updatewindow(strm,dictionary,dictLength,dictLength),ret?(state.mode=MEM,Z_MEM_ERROR$1):(state.havedict=1,Z_OK$1))},inflateInfo:`pako inflate (from Nodeca project)`};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1}var gzheader=GZheader,toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(options$1){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:``},options$1||{});let opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,opt.windowBits===0&&(opt.windowBits=-15)),opt.windowBits>=0&&opt.windowBits<16&&!(options$1&&options$1.windowBits)&&(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&(opt.windowBits&15||(opt.windowBits|=15)),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let status=inflate_1$2.inflateInit2(this.strm,opt.windowBits);if(status!==Z_OK||(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),opt.dictionary&&(typeof opt.dictionary==`string`?opt.dictionary=strings.string2buf(opt.dictionary):toString.call(opt.dictionary)===`[object ArrayBuffer]`&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=inflate_1$2.inflateSetDictionary(this.strm,opt.dictionary),status!==Z_OK))))throw Error(messages[status])}Inflate$1.prototype.push=function(data,flush_mode){let strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,status,_flush_mode,last_avail_out;if(this.ended)return!1;for(_flush_mode=flush_mode===~~flush_mode?flush_mode:flush_mode===!0?Z_FINISH:Z_NO_FLUSH,toString.call(data)===`[object ArrayBuffer]`?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;;){for(strm.avail_out===0&&(strm.output=new Uint8Array(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),status=inflate_1$2.inflate(strm,_flush_mode),status===Z_NEED_DICT&&dictionary&&(status=inflate_1$2.inflateSetDictionary(strm,dictionary),status===Z_OK?status=inflate_1$2.inflate(strm,_flush_mode):status===Z_DATA_ERROR&&(status=Z_NEED_DICT));strm.avail_in>0&&status===Z_STREAM_END&&strm.state.wrap>0&&data[strm.next_in]!==0;)inflate_1$2.inflateReset(strm),status=inflate_1$2.inflate(strm,_flush_mode);switch(status){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(status),this.ended=!0,!1}if(last_avail_out=strm.avail_out,strm.next_out&&(strm.avail_out===0||status===Z_STREAM_END))if(this.options.to===`string`){let next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8);strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&strm.output.set(strm.output.subarray(next_out_utf8,next_out_utf8+tail),0),this.onData(utf8str)}else this.onData(strm.output.length===strm.next_out?strm.output:strm.output.subarray(0,strm.next_out));if(!(status===Z_OK&&last_avail_out===0)){if(status===Z_STREAM_END)return status=inflate_1$2.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,!0;if(strm.avail_in===0)break}}return!0},Inflate$1.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate$1.prototype.onEnd=function(status){status===Z_OK&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg};function inflate$1(input,options$1){let inflator=new Inflate$1(options$1);if(inflator.push(input),inflator.err)throw inflator.msg||messages[inflator.err];return inflator.result}function inflateRaw$1(input,options$1){return options$1||={},options$1.raw=!0,inflate$1(input,options$1)}var inflate_1$1={Inflate:Inflate$1,inflate:inflate$1,inflateRaw:inflateRaw$1,ungzip:inflate$1,constants:constants$2},{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1,crcTable=[];for(let n$3=0;n$3<256;n$3++){let c$2=n$3;for(let k$2=0;k$2<8;k$2++)c$2&1?c$2=3988292384^c$2>>>1:c$2>>>=1;crcTable[n$3]=c$2}var uint16$1=new Uint16Array([255]),osIsLittleEndian$1=new Uint8Array(uint16$1.buffer)[0]===255,uint16=new Uint16Array([255]),osIsLittleEndian=new Uint8Array(uint16.buffer)[0]===255,empty=new Uint8Array,pngSignature=Uint8Array.of(137,80,78,71,13,10,26,10),latin1Decoder=new TextDecoder(`latin1`),base64codes$1=Uint8Array.from([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);const base64codes=Uint8Array.from([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]);var base64codes1=new Uint32Array(4096);for(let i$3=0;i$3<64;i$3++)for(let j$2=0;j$2<64;j$2++){let index$1=i$3<<2|(j$2&48)>>4|(j$2&15)<<8;base64codes1[index$1]=base64codes[i$3]|base64codes[j$2]<<8}var base64codes2=new Uint32Array(4096);for(let i$3=0;i$3<64;i$3++)for(let j$2=0;j$2<64;j$2++){let index$1=i$3<<6|j$2;base64codes2[index$1]=base64codes[i$3]<<16|base64codes[j$2]<<24}var require_file_type=__commonJSMin(((exports,module)=>{var toBytes=s$2=>[...s$2].map(c$2=>c$2.charCodeAt(0)),xpiZipFilename=toBytes(`META-INF/mozilla.rsa`),oxmlContentTypes=toBytes(`[Content_Types].xml`),oxmlRels=toBytes(`_rels/.rels`);function readUInt64LE(buf,offset=0){let n$3=buf[offset],mul=1,i$3=0;for(;++i$3<8;)mul*=256,n$3+=buf[offset+i$3]*mul;return n$3}var fileType$1=input=>{if(!(input instanceof Uint8Array||input instanceof ArrayBuffer||Buffer.isBuffer(input)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof input}\``);let buf=input instanceof Uint8Array?input:new Uint8Array(input);if(!(buf&&buf.length>1))return null;let check=(header,options$1)=>{options$1=Object.assign({offset:0},options$1);for(let i$3=0;i$3<header.length;i$3++)if(options$1.mask){if(header[i$3]!==(options$1.mask[i$3]&buf[i$3+options$1.offset]))return!1}else if(header[i$3]!==buf[i$3+options$1.offset])return!1;return!0},checkString=(header,options$1)=>check(toBytes(header),options$1);if(check([255,216,255]))return{ext:`jpg`,mime:`image/jpeg`};if(check([137,80,78,71,13,10,26,10]))return{ext:`png`,mime:`image/png`};if(check([71,73,70]))return{ext:`gif`,mime:`image/gif`};if(check([87,69,66,80],{offset:8}))return{ext:`webp`,mime:`image/webp`};if(check([70,76,73,70]))return{ext:`flif`,mime:`image/flif`};if((check([73,73,42,0])||check([77,77,0,42]))&&check([67,82],{offset:8}))return{ext:`cr2`,mime:`image/x-canon-cr2`};if(check([73,73,42,0])||check([77,77,0,42]))return{ext:`tif`,mime:`image/tiff`};if(check([66,77]))return{ext:`bmp`,mime:`image/bmp`};if(check([73,73,188]))return{ext:`jxr`,mime:`image/vnd.ms-photo`};if(check([56,66,80,83]))return{ext:`psd`,mime:`image/vnd.adobe.photoshop`};if(check([80,75,3,4])){if(check([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:`epub`,mime:`application/epub+zip`};if(check(xpiZipFilename,{offset:30}))return{ext:`xpi`,mime:`application/x-xpinstall`};if(checkString(`mimetypeapplication/vnd.oasis.opendocument.text`,{offset:30}))return{ext:`odt`,mime:`application/vnd.oasis.opendocument.text`};if(checkString(`mimetypeapplication/vnd.oasis.opendocument.spreadsheet`,{offset:30}))return{ext:`ods`,mime:`application/vnd.oasis.opendocument.spreadsheet`};if(checkString(`mimetypeapplication/vnd.oasis.opendocument.presentation`,{offset:30}))return{ext:`odp`,mime:`application/vnd.oasis.opendocument.presentation`};let findNextZipHeaderIndex=(arr,startAt=0)=>arr.findIndex((el,i$3,arr$1)=>i$3>=startAt&&arr$1[i$3]===80&&arr$1[i$3+1]===75&&arr$1[i$3+2]===3&&arr$1[i$3+3]===4),zipHeaderIndex=0,oxmlFound=!1,type=null;do{let offset=zipHeaderIndex+30;if(oxmlFound||=check(oxmlContentTypes,{offset})||check(oxmlRels,{offset}),type||(checkString(`word/`,{offset})?type={ext:`docx`,mime:`application/vnd.openxmlformats-officedocument.wordprocessingml.document`}:checkString(`ppt/`,{offset})?type={ext:`pptx`,mime:`application/vnd.openxmlformats-officedocument.presentationml.presentation`}:checkString(`xl/`,{offset})&&(type={ext:`xlsx`,mime:`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`})),oxmlFound&&type)return type;zipHeaderIndex=findNextZipHeaderIndex(buf,offset)}while(zipHeaderIndex>=0);if(type)return type}if(check([80,75])&&(buf[2]===3||buf[2]===5||buf[2]===7)&&(buf[3]===4||buf[3]===6||buf[3]===8))return{ext:`zip`,mime:`application/zip`};if(check([117,115,116,97,114],{offset:257}))return{ext:`tar`,mime:`application/x-tar`};if(check([82,97,114,33,26,7])&&(buf[6]===0||buf[6]===1))return{ext:`rar`,mime:`application/x-rar-compressed`};if(check([31,139,8]))return{ext:`gz`,mime:`application/gzip`};if(check([66,90,104]))return{ext:`bz2`,mime:`application/x-bzip2`};if(check([55,122,188,175,39,28]))return{ext:`7z`,mime:`application/x-7z-compressed`};if(check([120,1]))return{ext:`dmg`,mime:`application/x-apple-diskimage`};if(check([51,103,112,53])||check([0,0,0])&&check([102,116,121,112],{offset:4})&&(check([109,112,52,49],{offset:8})||check([109,112,52,50],{offset:8})||check([105,115,111,109],{offset:8})||check([105,115,111,50],{offset:8})||check([109,109,112,52],{offset:8})||check([77,52,86],{offset:8})||check([100,97,115,104],{offset:8})))return{ext:`mp4`,mime:`video/mp4`};if(check([77,84,104,100]))return{ext:`mid`,mime:`audio/midi`};if(check([26,69,223,163])){let sliced=buf.subarray(4,4100),idPos=sliced.findIndex((el,i$3,arr)=>arr[i$3]===66&&arr[i$3+1]===130);if(idPos!==-1){let docTypePos=idPos+3,findDocType=type=>[...type].every((c$2,i$3)=>sliced[docTypePos+i$3]===c$2.charCodeAt(0));if(findDocType(`matroska`))return{ext:`mkv`,mime:`video/x-matroska`};if(findDocType(`webm`))return{ext:`webm`,mime:`video/webm`}}}if(check([0,0,0,20,102,116,121,112,113,116,32,32])||check([102,114,101,101],{offset:4})||check([102,116,121,112,113,116,32,32],{offset:4})||check([109,100,97,116],{offset:4})||check([109,111,111,118],{offset:4})||check([119,105,100,101],{offset:4}))return{ext:`mov`,mime:`video/quicktime`};if(check([82,73,70,70])){if(check([65,86,73],{offset:8}))return{ext:`avi`,mime:`video/vnd.avi`};if(check([87,65,86,69],{offset:8}))return{ext:`wav`,mime:`audio/vnd.wave`};if(check([81,76,67,77],{offset:8}))return{ext:`qcp`,mime:`audio/qcelp`}}if(check([48,38,178,117,142,102,207,17,166,217])){let offset=30;do{let objectSize=readUInt64LE(buf,offset+16);if(check([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset})){if(check([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24}))return{ext:`wma`,mime:`audio/x-ms-wma`};if(check([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24}))return{ext:`wmv`,mime:`video/x-ms-asf`};break}offset+=objectSize}while(offset+24<=buf.length);return{ext:`asf`,mime:`application/vnd.ms-asf`}}if(check([0,0,1,186])||check([0,0,1,179]))return{ext:`mpg`,mime:`video/mpeg`};if(check([102,116,121,112,51,103],{offset:4}))return{ext:`3gp`,mime:`video/3gpp`};for(let start=0;start<2&&start<buf.length-16;start++){if(check([73,68,51],{offset:start})||check([255,226],{offset:start,mask:[255,226]}))return{ext:`mp3`,mime:`audio/mpeg`};if(check([255,228],{offset:start,mask:[255,228]})||check([255,248],{offset:start,mask:[255,252]}))return{ext:`mp2`,mime:`audio/mpeg`};if(check([255,240],{offset:start,mask:[255,252]}))return{ext:`mp4`,mime:`audio/mpeg`}}if(check([102,116,121,112,77,52,65],{offset:4}))return{ext:`m4a`,mime:`audio/mp4`};if(check([79,112,117,115,72,101,97,100],{offset:28}))return{ext:`opus`,mime:`audio/opus`};if(check([79,103,103,83]))return check([128,116,104,101,111,114,97],{offset:28})?{ext:`ogv`,mime:`video/ogg`}:check([1,118,105,100,101,111,0],{offset:28})?{ext:`ogm`,mime:`video/ogg`}:check([127,70,76,65,67],{offset:28})?{ext:`oga`,mime:`audio/ogg`}:check([83,112,101,101,120,32,32],{offset:28})?{ext:`spx`,mime:`audio/ogg`}:check([1,118,111,114,98,105,115],{offset:28})?{ext:`ogg`,mime:`audio/ogg`}:{ext:`ogx`,mime:`application/ogg`};if(check([102,76,97,67]))return{ext:`flac`,mime:`audio/x-flac`};if(check([77,65,67,32]))return{ext:`ape`,mime:`audio/ape`};if(check([119,118,112,107]))return{ext:`wv`,mime:`audio/wavpack`};if(check([35,33,65,77,82,10]))return{ext:`amr`,mime:`audio/amr`};if(check([37,80,68,70]))return{ext:`pdf`,mime:`application/pdf`};if(check([77,90]))return{ext:`exe`,mime:`application/x-msdownload`};if((buf[0]===67||buf[0]===70)&&check([87,83],{offset:1}))return{ext:`swf`,mime:`application/x-shockwave-flash`};if(check([123,92,114,116,102]))return{ext:`rtf`,mime:`application/rtf`};if(check([0,97,115,109]))return{ext:`wasm`,mime:`application/wasm`};if(check([119,79,70,70])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4})))return{ext:`woff`,mime:`font/woff`};if(check([119,79,70,50])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4})))return{ext:`woff2`,mime:`font/woff2`};if(check([76,80],{offset:34})&&(check([0,0,1],{offset:8})||check([1,0,2],{offset:8})||check([2,0,2],{offset:8})))return{ext:`eot`,mime:`application/vnd.ms-fontobject`};if(check([0,1,0,0,0]))return{ext:`ttf`,mime:`font/ttf`};if(check([79,84,84,79,0]))return{ext:`otf`,mime:`font/otf`};if(check([0,0,1,0]))return{ext:`ico`,mime:`image/x-icon`};if(check([0,0,2,0]))return{ext:`cur`,mime:`image/x-icon`};if(check([70,76,86,1]))return{ext:`flv`,mime:`video/x-flv`};if(check([37,33]))return{ext:`ps`,mime:`application/postscript`};if(check([253,55,122,88,90,0]))return{ext:`xz`,mime:`application/x-xz`};if(check([83,81,76,105]))return{ext:`sqlite`,mime:`application/x-sqlite3`};if(check([78,69,83,26]))return{ext:`nes`,mime:`application/x-nintendo-nes-rom`};if(check([67,114,50,52]))return{ext:`crx`,mime:`application/x-google-chrome-extension`};if(check([77,83,67,70])||check([73,83,99,40]))return{ext:`cab`,mime:`application/vnd.ms-cab-compressed`};if(check([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:`deb`,mime:`application/x-deb`};if(check([33,60,97,114,99,104,62]))return{ext:`ar`,mime:`application/x-unix-archive`};if(check([237,171,238,219]))return{ext:`rpm`,mime:`application/x-rpm`};if(check([31,160])||check([31,157]))return{ext:`Z`,mime:`application/x-compress`};if(check([76,90,73,80]))return{ext:`lz`,mime:`application/x-lzip`};if(check([208,207,17,224,161,177,26,225]))return{ext:`msi`,mime:`application/x-msi`};if(check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:`mxf`,mime:`application/mxf`};if(check([71],{offset:4})&&(check([71],{offset:192})||check([71],{offset:196})))return{ext:`mts`,mime:`video/mp2t`};if(check([66,76,69,78,68,69,82]))return{ext:`blend`,mime:`application/x-blender`};if(check([66,80,71,251]))return{ext:`bpg`,mime:`image/bpg`};if(check([0,0,0,12,106,80,32,32,13,10,135,10])){if(check([106,112,50,32],{offset:20}))return{ext:`jp2`,mime:`image/jp2`};if(check([106,112,120,32],{offset:20}))return{ext:`jpx`,mime:`image/jpx`};if(check([106,112,109,32],{offset:20}))return{ext:`jpm`,mime:`image/jpm`};if(check([109,106,112,50],{offset:20}))return{ext:`mj2`,mime:`image/mj2`}}if(check([70,79,82,77]))return{ext:`aif`,mime:`audio/aiff`};if(checkString(`<?xml `))return{ext:`xml`,mime:`application/xml`};if(check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:`mobi`,mime:`application/x-mobipocket-ebook`};if(check([102,116,121,112],{offset:4})){if(check([109,105,102,49],{offset:8}))return{ext:`heic`,mime:`image/heif`};if(check([109,115,102,49],{offset:8}))return{ext:`heic`,mime:`image/heif-sequence`};if(check([104,101,105,99],{offset:8})||check([104,101,105,120],{offset:8}))return{ext:`heic`,mime:`image/heic`};if(check([104,101,118,99],{offset:8})||check([104,101,118,120],{offset:8}))return{ext:`heic`,mime:`image/heic-sequence`}}return check([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:`ktx`,mime:`image/ktx`}:check([68,73,67,77],{offset:128})?{ext:`dcm`,mime:`application/dicom`}:check([77,80,43])||check([77,80,67,75])?{ext:`mpc`,mime:`audio/x-musepack`}:check([66,69,71,73,78,58])?{ext:`ics`,mime:`text/calendar`}:check([103,108,84,70,2,0,0,0])?{ext:`glb`,mime:`model/gltf-binary`}:check([212,195,178,161])||check([161,178,195,212])?{ext:`pcap`,mime:`application/vnd.tcpdump.pcap`}:null};module.exports=fileType$1,module.exports.default=fileType$1,Object.defineProperty(fileType$1,`minimumBytes`,{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval(`require`)(`stream`);readableStream.once(`readable`,()=>{let pass=new stream.PassThrough,chunk=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{pass.fileType=fileType$1(chunk)}catch(error){reject(error)}readableStream.unshift(chunk),stream.pipeline?resolve(stream.pipeline(readableStream,pass,()=>{})):resolve(readableStream.pipe(pass))})})})),require_image_type=__commonJSMin(((exports,module)=>{var fileType=require_file_type(),imageExts=new Set([`jpg`,`png`,`gif`,`webp`,`flif`,`cr2`,`tif`,`bmp`,`jxr`,`psd`,`ico`,`bpg`,`jp2`,`jpm`,`jpx`,`heic`,`cur`,`dcm`]),imageType$2=input=>{let ret=fileType(input);return imageExts.has(ret&&ret.ext)?ret:null};module.exports=imageType$2,module.exports.default=imageType$2,Object.defineProperty(imageType$2,`minimumBytes`,{value:fileType.minimumBytes})})),import_image_type$1=__toESM(require_image_type()),tagsById$2={33434:`ExposureTime`,33437:`FNumber`,34850:`ExposureProgram`,34852:`SpectralSensitivity`,34855:`ISOSpeedRatings`,34856:`OECF`,34864:`SensitivityType`,34865:`StandardOutputSensitivity`,34866:`RecommendedExposureIndex`,34867:`ISOSpeed`,34868:`ISOSpeedLatitudeyyy`,34869:`ISOSpeedLatitudezzz`,36864:`ExifVersion`,36867:`DateTimeOriginal`,36868:`DateTimeDigitized`,37121:`ComponentsConfiguration`,37122:`CompressedBitsPerPixel`,37377:`ShutterSpeedValue`,37378:`ApertureValue`,37379:`BrightnessValue`,37380:`ExposureBiasValue`,37381:`MaxApertureValue`,37382:`SubjectDistance`,37383:`MeteringMode`,37384:`LightSource`,37385:`Flash`,37386:`FocalLength`,37396:`SubjectArea`,37500:`MakerNote`,37510:`UserComment`,37520:`SubsecTime`,37521:`SubsecTimeOriginal`,37522:`SubsecTimeDigitized`,40960:`FlashpixVersion`,40961:`ColorSpace`,40962:`PixelXDimension`,40963:`PixelYDimension`,40964:`RelatedSoundFile`,41483:`FlashEnergy`,41484:`SpatialFrequencyResponse`,41486:`FocalPlaneXResolution`,41487:`FocalPlaneYResolution`,41488:`FocalPlaneResolutionUnit`,41492:`SubjectLocation`,41493:`ExposureIndex`,41495:`SensingMethod`,41728:`FileSource`,41729:`SceneType`,41730:`CFAPattern`,41985:`CustomRendered`,41986:`ExposureMode`,41987:`WhiteBalance`,41988:`DigitalZoomRatio`,41989:`FocalLengthIn35mmFilm`,41990:`SceneCaptureType`,41991:`GainControl`,41992:`Contrast`,41993:`Saturation`,41994:`Sharpness`,41995:`DeviceSettingDescription`,41996:`SubjectDistanceRange`,42016:`ImageUniqueID`,42032:`CameraOwnerName`,42033:`BodySerialNumber`,42034:`LensSpecification`,42035:`LensMake`,42036:`LensModel`,42037:`LensSerialNumber`,42240:`Gamma`},tagsByName$2={};for(let i$3 in tagsById$2)tagsByName$2[tagsById$2[i$3]]=Number(i$3);var tagsById$1={0:`GPSVersionID`,1:`GPSLatitudeRef`,2:`GPSLatitude`,3:`GPSLongitudeRef`,4:`GPSLongitude`,5:`GPSAltitudeRef`,6:`GPSAltitude`,7:`GPSTimeStamp`,8:`GPSSatellites`,9:`GPSStatus`,10:`GPSMeasureMode`,11:`GPSDOP`,12:`GPSSpeedRef`,13:`GPSSpeed`,14:`GPSTrackRef`,15:`GPSTrack`,16:`GPSImgDirectionRef`,17:`GPSImgDirection`,18:`GPSMapDatum`,19:`GPSDestLatitudeRef`,20:`GPSDestLatitude`,21:`GPSDestLongitudeRef`,22:`GPSDestLongitude`,23:`GPSDestBearingRef`,24:`GPSDestBearing`,25:`GPSDestDistanceRef`,26:`GPSDestDistance`,27:`GPSProcessingMethod`,28:`GPSAreaInformation`,29:`GPSDateStamp`,30:`GPSDifferential`,31:`GPSHPositioningError`},tagsByName$1={};for(let i$3 in tagsById$1)tagsByName$1[tagsById$1[i$3]]=Number(i$3);var tagsById={254:`NewSubfileType`,255:`SubfileType`,256:`ImageWidth`,257:`ImageLength`,258:`BitsPerSample`,259:`Compression`,262:`PhotometricInterpretation`,263:`Threshholding`,264:`CellWidth`,265:`CellLength`,266:`FillOrder`,270:`ImageDescription`,271:`Make`,272:`Model`,273:`StripOffsets`,274:`Orientation`,277:`SamplesPerPixel`,278:`RowsPerStrip`,279:`StripByteCounts`,280:`MinSampleValue`,281:`MaxSampleValue`,282:`XResolution`,283:`YResolution`,284:`PlanarConfiguration`,288:`FreeOffsets`,289:`FreeByteCounts`,290:`GrayResponseUnit`,291:`GrayResponseCurve`,296:`ResolutionUnit`,305:`Software`,306:`DateTime`,315:`Artist`,316:`HostComputer`,320:`ColorMap`,338:`ExtraSamples`,33432:`Copyright`,269:`DocumentName`,285:`PageName`,286:`XPosition`,287:`YPosition`,292:`T4Options`,293:`T6Options`,297:`PageNumber`,301:`TransferFunction`,317:`Predictor`,318:`WhitePoint`,319:`PrimaryChromaticities`,321:`HalftoneHints`,322:`TileWidth`,323:`TileLength`,324:`TileOffsets`,325:`TileByteCounts`,326:`BadFaxLines`,327:`CleanFaxData`,328:`ConsecutiveBadFaxLines`,330:`SubIFDs`,332:`InkSet`,333:`InkNames`,334:`NumberOfInks`,336:`DotRange`,337:`TargetPrinter`,339:`SampleFormat`,340:`SMinSampleValue`,341:`SMaxSampleValue`,342:`TransferRange`,343:`ClipPath`,344:`XClipPathUnits`,345:`YClipPathUnits`,346:`Indexed`,347:`JPEGTables`,351:`OPIProxy`,400:`GlobalParametersIFD`,401:`ProfileType`,402:`FaxProfile`,403:`CodingMethods`,404:`VersionYear`,405:`ModeNumber`,433:`Decode`,434:`DefaultImageColor`,512:`JPEGProc`,513:`JPEGInterchangeFormat`,514:`JPEGInterchangeFormatLength`,515:`JPEGRestartInterval`,517:`JPEGLosslessPredictors`,518:`JPEGPointTransforms`,519:`JPEGQTables`,520:`JPEGDCTables`,521:`JPEGACTables`,529:`YCbCrCoefficients`,530:`YCbCrSubSampling`,531:`YCbCrPositioning`,532:`ReferenceBlackWhite`,559:`StripRowCounts`,700:`XMP`,32781:`ImageID`,34732:`ImageLayer`,32932:`WangAnnotatio`,33445:`MDFileTag`,33446:`MDScalePixel`,33447:`MDColorTable`,33448:`MDLabName`,33449:`MDSampleInfo`,33450:`MDPrepDate`,33451:`MDPrepTime`,33452:`MDFileUnits`,33550:`ModelPixelScaleTag`,33723:`IPTC`,33918:`INGRPacketDataTag`,33919:`INGRFlagRegisters`,33920:`IrasBTransformationMatrix`,33922:`ModelTiepointTag`,34264:`ModelTransformationTag`,34377:`Photoshop`,34665:`ExifIFD`,34675:`ICCProfile`,34735:`GeoKeyDirectoryTag`,34736:`GeoDoubleParamsTag`,34737:`GeoAsciiParamsTag`,34853:`GPSIFD`,34908:`HylaFAXFaxRecvParams`,34909:`HylaFAXFaxSubAddress`,34910:`HylaFAXFaxRecvTime`,37724:`ImageSourceData`,40965:`InteroperabilityIFD`,42112:`GDAL_METADATA`,42113:`GDAL_NODATA`,50215:`OceScanjobDescription`,50216:`OceApplicationSelector`,50217:`OceIdentificationNumber`,50218:`OceImageLogicCharacteristics`,50706:`DNGVersion`,50707:`DNGBackwardVersion`,50708:`UniqueCameraModel`,50709:`LocalizedCameraModel`,50710:`CFAPlaneColor`,50711:`CFALayout`,50712:`LinearizationTable`,50713:`BlackLevelRepeatDim`,50714:`BlackLevel`,50715:`BlackLevelDeltaH`,50716:`BlackLevelDeltaV`,50717:`WhiteLevel`,50718:`DefaultScale`,50719:`DefaultCropOrigin`,50720:`DefaultCropSize`,50721:`ColorMatrix1`,50722:`ColorMatrix2`,50723:`CameraCalibration1`,50724:`CameraCalibration2`,50725:`ReductionMatrix1`,50726:`ReductionMatrix2`,50727:`AnalogBalance`,50728:`AsShotNeutral`,50729:`AsShotWhiteXY`,50730:`BaselineExposure`,50731:`BaselineNoise`,50732:`BaselineSharpness`,50733:`BayerGreenSplit`,50734:`LinearResponseLimit`,50735:`CameraSerialNumber`,50736:`LensInfo`,50737:`ChromaBlurRadius`,50738:`AntiAliasStrength`,50740:`DNGPrivateData`,50741:`MakerNoteSafety`,50778:`CalibrationIlluminant1`,50779:`CalibrationIlluminant2`,50780:`BestQualityScale`,50784:`AliasLayerMetadata`},tagsByName={};for(let i$3 in tagsById)tagsByName[tagsById[i$3]]=Number(i$3);var import_jpeg_js=__toESM(require_jpeg_js());function readCanvas(canvas){let ctx=canvas.getContext(`2d`);assert(ctx);let imageData=ctx.getImageData(0,0,canvas.width,canvas.height);return new Image$1(imageData.width,imageData.height,{data:new Uint8Array(imageData.data.buffer,imageData.data.byteOffset,imageData.data.byteLength),colorModel:`RGBA`})}function readImg(img){let canvas=document.createElement(`canvas`);canvas.width=img.width,canvas.height=img.height;let ctx=canvas.getContext(`2d`);return assert(ctx),ctx.drawImage(img,0,0),readCanvas(canvas)}var import_priority_queue=__toESM(__commonJSMin(((exports,module)=>{(function(f$1){if(typeof exports==`object`&&module!==void 0)module.exports=f$1();else if(typeof define==`function`&&define.amd)define([],f$1);else{var g$1=typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this;g$1.PriorityQueue=f$1()}})(function(){return(function e$3(t$3,n$3,r$3){function s$2(o$4,u$2){if(!n$3[o$4]){if(!t$3[o$4]){var a$3=typeof __require==`function`&&__require;if(!u$2&&a$3)return a$3(o$4,!0);if(i$3)return i$3(o$4,!0);var f$1=Error(`Cannot find module '`+o$4+`'`);throw f$1.code=`MODULE_NOT_FOUND`,f$1}var l$2=n$3[o$4]={exports:{}};t$3[o$4][0].call(l$2.exports,function(e$4){var n$4=t$3[o$4][1][e$4];return s$2(n$4||e$4)},l$2,l$2.exports,e$3,t$3,n$3,r$3)}return n$3[o$4].exports}for(var i$3=typeof __require==`function`&&__require,o$3=0;o$3<r$3.length;o$3++)s$2(r$3[o$3]);return s$2})({1:[function(_dereq_,module$1,exports$1){var AbstractPriorityQueue,ArrayStrategy,BHeapStrategy,BinaryHeapStrategy,PriorityQueue$1,extend=function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;AbstractPriorityQueue=_dereq_(`./PriorityQueue/AbstractPriorityQueue`),ArrayStrategy=_dereq_(`./PriorityQueue/ArrayStrategy`),BinaryHeapStrategy=_dereq_(`./PriorityQueue/BinaryHeapStrategy`),BHeapStrategy=_dereq_(`./PriorityQueue/BHeapStrategy`),PriorityQueue$1=(function(superClass){extend(PriorityQueue$2,superClass);function PriorityQueue$2(options$1){options$1||={},options$1.strategy||=BinaryHeapStrategy,options$1.comparator||=function(a$3,b$3){return(a$3||0)-(b$3||0)},PriorityQueue$2.__super__.constructor.call(this,options$1)}return PriorityQueue$2})(AbstractPriorityQueue),PriorityQueue$1.ArrayStrategy=ArrayStrategy,PriorityQueue$1.BinaryHeapStrategy=BinaryHeapStrategy,PriorityQueue$1.BHeapStrategy=BHeapStrategy,module$1.exports=PriorityQueue$1},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(_dereq_,module$1,exports$1){module$1.exports=(function(){function AbstractPriorityQueue(options$1){var ref;if(options$1?.strategy==null)throw`Must pass options.strategy, a strategy`;if(options$1?.comparator==null)throw`Must pass options.comparator, a comparator`;this.priv=new options$1.strategy(options$1),this.length=options$1?.initialValues?.length||0}return AbstractPriorityQueue.prototype.queue=function(value){this.length++,this.priv.queue(value)},AbstractPriorityQueue.prototype.dequeue=function(value){if(!this.length)throw`Empty queue`;return this.length--,this.priv.dequeue()},AbstractPriorityQueue.prototype.peek=function(value){if(!this.length)throw`Empty queue`;return this.priv.peek()},AbstractPriorityQueue.prototype.clear=function(){return this.length=0,this.priv.clear()},AbstractPriorityQueue})()},{}],3:[function(_dereq_,module$1,exports$1){var binarySearchForIndexReversed=function(array,value,comparator){var high,low=0,mid;for(high=array.length;low<high;)mid=low+high>>>1,comparator(array[mid],value)>=0?low=mid+1:high=mid;return low};module$1.exports=(function(){function ArrayStrategy(options$1){var ref;this.options=options$1,this.comparator=this.options.comparator,this.data=this.options.initialValues?.slice(0)||[],this.data.sort(this.comparator).reverse()}return ArrayStrategy.prototype.queue=function(value){var pos=binarySearchForIndexReversed(this.data,value,this.comparator);this.data.splice(pos,0,value)},ArrayStrategy.prototype.dequeue=function(){return this.data.pop()},ArrayStrategy.prototype.peek=function(){return this.data[this.data.length-1]},ArrayStrategy.prototype.clear=function(){this.data.length=0},ArrayStrategy})()},{}],4:[function(_dereq_,module$1,exports$1){module$1.exports=(function(){function BHeapStrategy(options$1){var arr,j$2,k$2,len,ref,ref1,shift,value;for(this.comparator=options$1?.comparator||function(a$3,b$3){return a$3-b$3},this.pageSize=options$1?.pageSize||512,this.length=0,shift=0;1<<shift<this.pageSize;)shift+=1;if(1<<shift!==this.pageSize)throw`pageSize must be a power of two`;for(this._shift=shift,this._emptyMemoryPageTemplate=arr=[],j$2=0,ref=this.pageSize;0<=ref?j$2<ref:j$2>ref;0<=ref?++j$2:--j$2)arr.push(null);if(this._memory=[],this._mask=this.pageSize-1,options$1.initialValues)for(ref1=options$1.initialValues,k$2=0,len=ref1.length;k$2<len;k$2++)value=ref1[k$2],this.queue(value)}return BHeapStrategy.prototype.queue=function(value){this.length+=1,this._write(this.length,value),this._bubbleUp(this.length,value)},BHeapStrategy.prototype.dequeue=function(){var ret=this._read(1),val=this._read(this.length);return--this.length,this.length>0&&(this._write(1,val),this._bubbleDown(1,val)),ret},BHeapStrategy.prototype.peek=function(){return this._read(1)},BHeapStrategy.prototype.clear=function(){this.length=0,this._memory.length=0},BHeapStrategy.prototype._write=function(index$1,value){for(var page=index$1>>this._shift;page>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[page][index$1&this._mask]=value},BHeapStrategy.prototype._read=function(index$1){return this._memory[index$1>>this._shift][index$1&this._mask]},BHeapStrategy.prototype._bubbleUp=function(index$1,value){for(var compare$1=this.comparator,indexInPage,parentIndex,parentValue;index$1>1&&(indexInPage=index$1&this._mask,index$1<this.pageSize||indexInPage>3?parentIndex=index$1&~this._mask|indexInPage>>1:indexInPage<2?(parentIndex=index$1-this.pageSize>>this._shift,parentIndex+=parentIndex&~(this._mask>>1),parentIndex|=this.pageSize>>1):parentIndex=index$1-2,parentValue=this._read(parentIndex),!(compare$1(parentValue,value)<0));)this._write(parentIndex,value),this._write(index$1,parentValue),index$1=parentIndex},BHeapStrategy.prototype._bubbleDown=function(index$1,value){for(var childIndex1,childIndex2,childValue1,childValue2,compare$1=this.comparator;index$1<this.length;)if(index$1>this._mask&&!(index$1&this._mask-1)?childIndex1=childIndex2=index$1+2:index$1&this.pageSize>>1?(childIndex1=(index$1&~this._mask)>>1,childIndex1|=index$1&this._mask>>1,childIndex1=childIndex1+1<<this._shift,childIndex2=childIndex1+1):(childIndex1=index$1+(index$1&this._mask),childIndex2=childIndex1+1),childIndex1!==childIndex2&&childIndex2<=this.length)if(childValue1=this._read(childIndex1),childValue2=this._read(childIndex2),compare$1(childValue1,value)<0&&compare$1(childValue1,childValue2)<=0)this._write(childIndex1,value),this._write(index$1,childValue1),index$1=childIndex1;else if(compare$1(childValue2,value)<0)this._write(childIndex2,value),this._write(index$1,childValue2),index$1=childIndex2;else break;else if(childIndex1<=this.length)if(childValue1=this._read(childIndex1),compare$1(childValue1,value)<0)this._write(childIndex1,value),this._write(index$1,childValue1),index$1=childIndex1;else break;else break},BHeapStrategy})()},{}],5:[function(_dereq_,module$1,exports$1){module$1.exports=(function(){function BinaryHeapStrategy(options$1){var ref;this.comparator=options$1?.comparator||function(a$3,b$3){return a$3-b$3},this.length=0,this.data=options$1.initialValues?.slice(0)||[],this._heapify()}return BinaryHeapStrategy.prototype._heapify=function(){var i$3,j$2,ref;if(this.data.length>0)for(i$3=j$2=1,ref=this.data.length;1<=ref?j$2<ref:j$2>ref;i$3=1<=ref?++j$2:--j$2)this._bubbleUp(i$3)},BinaryHeapStrategy.prototype.queue=function(value){this.data.push(value),this._bubbleUp(this.data.length-1)},BinaryHeapStrategy.prototype.dequeue=function(){var last,ret=this.data[0];return last=this.data.pop(),this.data.length>0&&(this.data[0]=last,this._bubbleDown(0)),ret},BinaryHeapStrategy.prototype.peek=function(){return this.data[0]},BinaryHeapStrategy.prototype.clear=function(){this.length=0,this.data.length=0},BinaryHeapStrategy.prototype._bubbleUp=function(pos){for(var parent,x$2;pos>0&&(parent=pos-1>>>1,this.comparator(this.data[pos],this.data[parent])<0);)x$2=this.data[parent],this.data[parent]=this.data[pos],this.data[pos]=x$2,pos=parent},BinaryHeapStrategy.prototype._bubbleDown=function(pos){for(var last=this.data.length-1,left,minIndex,right,x$2;left=(pos<<1)+1,right=left+1,minIndex=pos,left<=last&&this.comparator(this.data[left],this.data[minIndex])<0&&(minIndex=left),right<=last&&this.comparator(this.data[right],this.data[minIndex])<0&&(minIndex=right),minIndex!==pos;)x$2=this.data[minIndex],this.data[minIndex]=this.data[pos],this.data[pos]=x$2,pos=minIndex},BinaryHeapStrategy})()},{}]},{},[1])(1)})}))()),import_median_quickselect_min=__toESM(require_median_quickselect_min()),import_image_type=__toESM(require_image_type());const algorithms=[`manual`,`huang`,`intermodes`,`isodata`,`li`,`maxEntropy`,`mean`,`minimum`,`minError`,`moments`,`otsu`,`percentile`,`renyiEntropy`,`shanbhag`,`triangle`,`yen`];function imageToUrl(image,invert$1,callback){let{width,height}=image,raw=image.getRawImage().data,canvas=document.createElement(`canvas`);canvas.width=width,canvas.height=height;let ctx=canvas.getContext(`2d`);if(ctx){let output=new Uint8ClampedArray(width*height*4);for(let i$3=0;i$3<width*height;i$3++){let v$2=raw[i$3]?invert$1?0:255:invert$1?255:0,idx=i$3*4;output[idx]=v$2,output[idx+1]=v$2,output[idx+2]=v$2,output[idx+3]=255}let imgData=new ImageData(output,width,height);ctx.putImageData(imgData,0,0)}canvas.toBlob(blob=>{if(blob){let url=URL.createObjectURL(blob);callback(url)}},`image/png`)}function useImageThreshold(file,thresholdValue,algorithm,invert$1){let[originalUrl,setOriginalUrl]=(0,import_react.useState)(null),[thresholdedUrl,setThresholdedUrl]=(0,import_react.useState)(null),[processing,setProcessing]=(0,import_react.useState)(!1),processImage=(0,import_react.useCallback)(()=>{if(!file){setOriginalUrl(null),setThresholdedUrl(null);return}setProcessing(!0);let reader=new FileReader;reader.onload=e$3=>{let dataUrl=e$3.target?.result;setOriginalUrl(dataUrl);let img=new Image;img.onload=async()=>{try{let thresholdedImage=readImg(img).grey().threshold({...algorithm===`manual`?{threshold:thresholdValue/255}:{algorithm}});imageToUrl(thresholdedImage,invert$1,url=>{setThresholdedUrl(url)})}catch(error){console.error(`Error processing image:`,error),setThresholdedUrl(null)}finally{setProcessing(!1)}},img.onerror=()=>{console.error(`Error loading image into HTMLImageElement.`),setProcessing(!1)},img.src=dataUrl},reader.onerror=error=>{console.error(`Error reading file:`,error),setProcessing(!1)},reader.readAsDataURL(file)},[algorithm,file,invert$1,thresholdValue]);return(0,import_react.useEffect)(()=>(processImage(),()=>{originalUrl&&URL.revokeObjectURL(originalUrl)}),[processImage,invert$1]),{originalUrl,thresholdedUrl,processing,processImage}}function Setting({selectedFile,setThreshold,processing,algorithm,invert:invert$1,setSelectedFile,setAlgorithm,setInvert}){let[localThreshold,setLocalThreshold]=(0,import_react.useState)(128),handleFileChange=event=>{let file=event.target.files?.[0];file&&file.type.startsWith(`image/`)?setSelectedFile(file):setSelectedFile(null)},handleThresholdChange=event=>{setLocalThreshold(Number(event.target.value))},handleThresholdChangeCommit=()=>{setThreshold(localThreshold)};return(0,import_jsx_runtime.jsx)(`div`,{className:`card bg-[#0a0a0a] border rounded-lg border-base-300 w-full mb-4`,children:(0,import_jsx_runtime.jsxs)(`div`,{className:`card-body`,children:[(0,import_jsx_runtime.jsxs)(`div`,{className:`form-control mb-2`,children:[(0,import_jsx_runtime.jsx)(`label`,{className:`label`,children:(0,import_jsx_runtime.jsx)(`span`,{className:`label-text font-semibold mb-2`,children:`Upload Image (.jpg or .png)`})}),(0,import_jsx_runtime.jsx)(`input`,{type:`file`,accept:`image/*`,onChange:handleFileChange,className:`file-input file-input-bordered w-full`})]}),(0,import_jsx_runtime.jsxs)(`fieldset`,{className:`fieldset border border-base-300 p-3 rounded-md shadow-md shadow-black`,children:[(0,import_jsx_runtime.jsx)(`legend`,{className:`fieldset-legend`,children:`Settings`}),(0,import_jsx_runtime.jsxs)(`div`,{className:`form-control mb-6`,children:[(0,import_jsx_runtime.jsx)(`label`,{className:`label`,children:(0,import_jsx_runtime.jsx)(`span`,{className:`label-text font-semibold mb-2`,children:`Threshold Mode`})}),(0,import_jsx_runtime.jsx)(`select`,{value:algorithm,onChange:event=>{setAlgorithm(event.target.value)},className:`select select-bordered select-primary w-full`,disabled:!selectedFile||processing,children:algorithms.map(m$1=>(0,import_jsx_runtime.jsx)(`option`,{value:m$1,children:m$1},m$1))})]}),(0,import_jsx_runtime.jsxs)(`div`,{className:`form-control mb-6`,children:[(0,import_jsx_runtime.jsx)(`label`,{className:`label`,children:(0,import_jsx_runtime.jsxs)(`span`,{className:`label-text font-semibold mb-2`,children:[`Threshold Value (0255):`,` `,(0,import_jsx_runtime.jsx)(`span`,{className:`text-primary`,children:localThreshold}),` `]})}),(0,import_jsx_runtime.jsx)(`input`,{type:`range`,min:`0`,max:`255`,value:localThreshold,onChange:handleThresholdChange,onMouseUp:handleThresholdChangeCommit,onTouchEnd:handleThresholdChangeCommit,disabled:!selectedFile||processing||algorithm!==`manual`,className:`range range-primary w-full`})]}),(0,import_jsx_runtime.jsx)(`div`,{className:`form-control mb-6`,children:(0,import_jsx_runtime.jsxs)(`label`,{className:`label`,children:[(0,import_jsx_runtime.jsx)(`input`,{type:`checkbox`,checked:invert$1,onChange:event=>{console.log(event.target.value),setInvert(event.target.checked)},disabled:!selectedFile||processing,className:`toggle toggle-primary`}),`Invert Colors`]})})]})]})})}function Wrapper({children}){return(0,import_jsx_runtime.jsx)(`div`,{className:`min-h-screen bg-base-100 flex flex-col items-center p-6 font-['Inter']`,children:(0,import_jsx_runtime.jsx)(`div`,{className:`max-w-5xl w-full`,children})})}function App(){let[selectedFile,setSelectedFile]=(0,import_react.useState)(null),[threshold$1,setThreshold]=(0,import_react.useState)(128),[algorithm,setAlgorithm]=(0,import_react.useState)(`otsu`),[invert$1,setInvert]=(0,import_react.useState)(!1),{originalUrl,thresholdedUrl,processing}=useImageThreshold(selectedFile,threshold$1,algorithm,invert$1);return(0,import_jsx_runtime.jsxs)(Wrapper,{children:[(0,import_jsx_runtime.jsx)(Header,{title:`Image Binarization Tool`}),(0,import_jsx_runtime.jsx)(Setting,{threshold:threshold$1,selectedFile,processing,algorithm,setSelectedFile,setThreshold,setAlgorithm,setInvert,invert:invert$1}),(0,import_jsx_runtime.jsx)(Results,{algorithm,originalUrl,processing,threshold:threshold$1,thresholdedUrl}),(0,import_jsx_runtime.jsx)(Actions,{url:thresholdedUrl,processing}),(0,import_jsx_runtime.jsx)(Footer,{})]})}(0,import_client.createRoot)(document.getElementById(`root`)).render((0,import_jsx_runtime.jsx)(import_react.StrictMode,{children:(0,import_jsx_runtime.jsx)(App,{})}));